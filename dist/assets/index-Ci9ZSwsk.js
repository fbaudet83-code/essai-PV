(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))o(x);new MutationObserver(x=>{for(const g of x)if(g.type==="childList")for(const U of g.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&o(U)}).observe(document,{childList:!0,subtree:!0});function p(x){const g={};return x.integrity&&(g.integrity=x.integrity),x.referrerPolicy&&(g.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?g.credentials="include":x.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function o(x){if(x.ep)return;x.ep=!0;const g=p(x);fetch(x.href,g)}})();function ip(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ho={exports:{}},Ni={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function cp(){if(Rf)return Ni;Rf=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function p(o,x,g){var U=null;if(g!==void 0&&(U=""+g),x.key!==void 0&&(U=""+x.key),"key"in x){g={};for(var w in x)w!=="key"&&(g[w]=x[w])}else g=x;return x=g.ref,{$$typeof:r,type:o,key:U,ref:x!==void 0?x:null,props:g}}return Ni.Fragment=f,Ni.jsx=p,Ni.jsxs=p,Ni}var Uf;function rp(){return Uf||(Uf=1,Ho.exports=cp()),Ho.exports}var n=rp(),zo={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function op(){if(_f)return qe;_f=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),U=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),H=Symbol.iterator;function O(v){return v===null||typeof v!="object"?null:(v=H&&v[H]||v["@@iterator"],typeof v=="function"?v:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function z(v,_,A){this.props=v,this.context=_,this.refs=k,this.updater=A||T}z.prototype.isReactComponent={},z.prototype.setState=function(v,_){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,_,"setState")},z.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function te(v,_,A){this.props=v,this.context=_,this.refs=k,this.updater=A||T}var le=te.prototype=new Q;le.constructor=te,I(le,z.prototype),le.isPureReactComponent=!0;var q=Array.isArray;function d(){}var G={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Re(v,_,A){var J=A.ref;return{$$typeof:r,type:v,key:_,ref:J!==void 0?J:null,props:A}}function Be(v,_){return Re(v.type,_,v.props)}function Ue(v){return typeof v=="object"&&v!==null&&v.$$typeof===r}function ue(v){var _={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(A){return _[A]})}var fe=/\/+/g;function ie(v,_){return typeof v=="object"&&v!==null&&v.key!=null?ue(""+v.key):_.toString(36)}function Ae(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(d,d):(v.status="pending",v.then(function(_){v.status==="pending"&&(v.status="fulfilled",v.value=_)},function(_){v.status==="pending"&&(v.status="rejected",v.reason=_)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function S(v,_,A,J,Z){var se=typeof v;(se==="undefined"||se==="boolean")&&(v=null);var me=!1;if(v===null)me=!0;else switch(se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(v.$$typeof){case r:case f:me=!0;break;case j:return me=v._init,S(me(v._payload),_,A,J,Z)}}if(me)return Z=Z(v),me=J===""?"."+ie(v,0):J,q(Z)?(A="",me!=null&&(A=me.replace(fe,"$&/")+"/"),S(Z,_,A,"",function(nt){return nt})):Z!=null&&(Ue(Z)&&(Z=Be(Z,A+(Z.key==null||v&&v.key===Z.key?"":(""+Z.key).replace(fe,"$&/")+"/")+me)),_.push(Z)),1;me=0;var _e=J===""?".":J+":";if(q(v))for(var Ve=0;Ve<v.length;Ve++)J=v[Ve],se=_e+ie(J,Ve),me+=S(J,_,A,se,Z);else if(Ve=O(v),typeof Ve=="function")for(v=Ve.call(v),Ve=0;!(J=v.next()).done;)J=J.value,se=_e+ie(J,Ve++),me+=S(J,_,A,se,Z);else if(se==="object"){if(typeof v.then=="function")return S(Ae(v),_,A,J,Z);throw _=String(v),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return me}function y(v,_,A){if(v==null)return v;var J=[],Z=0;return S(v,J,"","",function(se){return _.call(A,se,Z++)}),J}function W(v){if(v._status===-1){var _=v._result;_=_(),_.then(function(A){(v._status===0||v._status===-1)&&(v._status=1,v._result=A)},function(A){(v._status===0||v._status===-1)&&(v._status=2,v._result=A)}),v._status===-1&&(v._status=0,v._result=_)}if(v._status===1)return v._result.default;throw v._result}var pe=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},ge={map:y,forEach:function(v,_,A){y(v,function(){_.apply(this,arguments)},A)},count:function(v){var _=0;return y(v,function(){_++}),_},toArray:function(v){return y(v,function(_){return _})||[]},only:function(v){if(!Ue(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return qe.Activity=R,qe.Children=ge,qe.Component=z,qe.Fragment=p,qe.Profiler=x,qe.PureComponent=te,qe.StrictMode=o,qe.Suspense=M,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,qe.__COMPILER_RUNTIME={__proto__:null,c:function(v){return G.H.useMemoCache(v)}},qe.cache=function(v){return function(){return v.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(v,_,A){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var J=I({},v.props),Z=v.key;if(_!=null)for(se in _.key!==void 0&&(Z=""+_.key),_)!de.call(_,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&_.ref===void 0||(J[se]=_[se]);var se=arguments.length-2;if(se===1)J.children=A;else if(1<se){for(var me=Array(se),_e=0;_e<se;_e++)me[_e]=arguments[_e+2];J.children=me}return Re(v.type,Z,J)},qe.createContext=function(v){return v={$$typeof:U,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:g,_context:v},v},qe.createElement=function(v,_,A){var J,Z={},se=null;if(_!=null)for(J in _.key!==void 0&&(se=""+_.key),_)de.call(_,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Z[J]=_[J]);var me=arguments.length-2;if(me===1)Z.children=A;else if(1<me){for(var _e=Array(me),Ve=0;Ve<me;Ve++)_e[Ve]=arguments[Ve+2];Z.children=_e}if(v&&v.defaultProps)for(J in me=v.defaultProps,me)Z[J]===void 0&&(Z[J]=me[J]);return Re(v,se,Z)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(v){return{$$typeof:w,render:v}},qe.isValidElement=Ue,qe.lazy=function(v){return{$$typeof:j,_payload:{_status:-1,_result:v},_init:W}},qe.memo=function(v,_){return{$$typeof:h,type:v,compare:_===void 0?null:_}},qe.startTransition=function(v){var _=G.T,A={};G.T=A;try{var J=v(),Z=G.S;Z!==null&&Z(A,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(d,pe)}catch(se){pe(se)}finally{_!==null&&A.types!==null&&(_.types=A.types),G.T=_}},qe.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},qe.use=function(v){return G.H.use(v)},qe.useActionState=function(v,_,A){return G.H.useActionState(v,_,A)},qe.useCallback=function(v,_){return G.H.useCallback(v,_)},qe.useContext=function(v){return G.H.useContext(v)},qe.useDebugValue=function(){},qe.useDeferredValue=function(v,_){return G.H.useDeferredValue(v,_)},qe.useEffect=function(v,_){return G.H.useEffect(v,_)},qe.useEffectEvent=function(v){return G.H.useEffectEvent(v)},qe.useId=function(){return G.H.useId()},qe.useImperativeHandle=function(v,_,A){return G.H.useImperativeHandle(v,_,A)},qe.useInsertionEffect=function(v,_){return G.H.useInsertionEffect(v,_)},qe.useLayoutEffect=function(v,_){return G.H.useLayoutEffect(v,_)},qe.useMemo=function(v,_){return G.H.useMemo(v,_)},qe.useOptimistic=function(v,_){return G.H.useOptimistic(v,_)},qe.useReducer=function(v,_,A){return G.H.useReducer(v,_,A)},qe.useRef=function(v){return G.H.useRef(v)},qe.useState=function(v){return G.H.useState(v)},qe.useSyncExternalStore=function(v,_,A){return G.H.useSyncExternalStore(v,_,A)},qe.useTransition=function(){return G.H.useTransition()},qe.version="19.2.3",qe}var Df;function Wo(){return Df||(Df=1,zo.exports=op()),zo.exports}var ae=Wo();const Ga=ip(ae);var qo={exports:{}},ji={},Po={exports:{}},Fo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function up(){return Vf||(Vf=1,(function(r){function f(S,y){var W=S.length;S.push(y);e:for(;0<W;){var pe=W-1>>>1,ge=S[pe];if(0<x(ge,y))S[pe]=y,S[W]=ge,W=pe;else break e}}function p(S){return S.length===0?null:S[0]}function o(S){if(S.length===0)return null;var y=S[0],W=S.pop();if(W!==y){S[0]=W;e:for(var pe=0,ge=S.length,v=ge>>>1;pe<v;){var _=2*(pe+1)-1,A=S[_],J=_+1,Z=S[J];if(0>x(A,W))J<ge&&0>x(Z,A)?(S[pe]=Z,S[J]=W,pe=J):(S[pe]=A,S[_]=W,pe=_);else if(J<ge&&0>x(Z,W))S[pe]=Z,S[J]=W,pe=J;else break e}}return y}function x(S,y){var W=S.sortIndex-y.sortIndex;return W!==0?W:S.id-y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;r.unstable_now=function(){return g.now()}}else{var U=Date,w=U.now();r.unstable_now=function(){return U.now()-w}}var M=[],h=[],j=1,R=null,H=3,O=!1,T=!1,I=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function le(S){for(var y=p(h);y!==null;){if(y.callback===null)o(h);else if(y.startTime<=S)o(h),y.sortIndex=y.expirationTime,f(M,y);else break;y=p(h)}}function q(S){if(I=!1,le(S),!T)if(p(M)!==null)T=!0,d||(d=!0,ue());else{var y=p(h);y!==null&&Ae(q,y.startTime-S)}}var d=!1,G=-1,de=5,Re=-1;function Be(){return k?!0:!(r.unstable_now()-Re<de)}function Ue(){if(k=!1,d){var S=r.unstable_now();Re=S;var y=!0;try{e:{T=!1,I&&(I=!1,Q(G),G=-1),O=!0;var W=H;try{t:{for(le(S),R=p(M);R!==null&&!(R.expirationTime>S&&Be());){var pe=R.callback;if(typeof pe=="function"){R.callback=null,H=R.priorityLevel;var ge=pe(R.expirationTime<=S);if(S=r.unstable_now(),typeof ge=="function"){R.callback=ge,le(S),y=!0;break t}R===p(M)&&o(M),le(S)}else o(M);R=p(M)}if(R!==null)y=!0;else{var v=p(h);v!==null&&Ae(q,v.startTime-S),y=!1}}break e}finally{R=null,H=W,O=!1}y=void 0}}finally{y?ue():d=!1}}}var ue;if(typeof te=="function")ue=function(){te(Ue)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ie=fe.port2;fe.port1.onmessage=Ue,ue=function(){ie.postMessage(null)}}else ue=function(){z(Ue,0)};function Ae(S,y){G=z(function(){S(r.unstable_now())},y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return H},r.unstable_next=function(S){switch(H){case 1:case 2:case 3:var y=3;break;default:y=H}var W=H;H=y;try{return S()}finally{H=W}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(S,y){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var W=H;H=S;try{return y()}finally{H=W}},r.unstable_scheduleCallback=function(S,y,W){var pe=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,S){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=W+ge,S={id:j++,callback:y,priorityLevel:S,startTime:W,expirationTime:ge,sortIndex:-1},W>pe?(S.sortIndex=W,f(h,S),p(M)===null&&S===p(h)&&(I?(Q(G),G=-1):I=!0,Ae(q,W-pe))):(S.sortIndex=ge,f(M,S),T||O||(T=!0,d||(d=!0,ue()))),S},r.unstable_shouldYield=Be,r.unstable_wrapCallback=function(S){var y=H;return function(){var W=H;H=y;try{return S.apply(this,arguments)}finally{H=W}}}})(Fo)),Fo}var kf;function dp(){return kf||(kf=1,Po.exports=up()),Po.exports}var Go={exports:{}},fl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function fp(){if(Lf)return fl;Lf=1;var r=Wo();function f(M){var h="https://react.dev/errors/"+M;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)h+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+M+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var o={d:{f:p,r:function(){throw Error(f(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},x=Symbol.for("react.portal");function g(M,h,j){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:R==null?null:""+R,children:M,containerInfo:h,implementation:j}}var U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(M,h){if(M==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return fl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,fl.createPortal=function(M,h){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(f(299));return g(M,h,null,j)},fl.flushSync=function(M){var h=U.T,j=o.p;try{if(U.T=null,o.p=2,M)return M()}finally{U.T=h,o.p=j,o.d.f()}},fl.preconnect=function(M,h){typeof M=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(M,h))},fl.prefetchDNS=function(M){typeof M=="string"&&o.d.D(M)},fl.preinit=function(M,h){if(typeof M=="string"&&h&&typeof h.as=="string"){var j=h.as,R=w(j,h.crossOrigin),H=typeof h.integrity=="string"?h.integrity:void 0,O=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;j==="style"?o.d.S(M,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:R,integrity:H,fetchPriority:O}):j==="script"&&o.d.X(M,{crossOrigin:R,integrity:H,fetchPriority:O,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},fl.preinitModule=function(M,h){if(typeof M=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var j=w(h.as,h.crossOrigin);o.d.M(M,{crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(M)},fl.preload=function(M,h){if(typeof M=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var j=h.as,R=w(j,h.crossOrigin);o.d.L(M,j,{crossOrigin:R,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},fl.preloadModule=function(M,h){if(typeof M=="string")if(h){var j=w(h.as,h.crossOrigin);o.d.m(M,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(M)},fl.requestFormReset=function(M){o.d.r(M)},fl.unstable_batchedUpdates=function(M,h){return M(h)},fl.useFormState=function(M,h,j){return U.H.useFormState(M,h,j)},fl.useFormStatus=function(){return U.H.useHostTransitionStatus()},fl.version="19.2.3",fl}var Bf;function mp(){if(Bf)return Go.exports;Bf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),Go.exports=fp(),Go.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf;function xp(){if(Hf)return ji;Hf=1;var r=dp(),f=Wo(),p=mp();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function U(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M(e){if(g(e)!==e)throw Error(o(188))}function h(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===l)return M(s),e;if(i===a)return M(s),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=i;else{for(var c=!1,u=s.child;u;){if(u===l){c=!0,l=s,a=i;break}if(u===a){c=!0,a=s,l=i;break}u=u.sibling}if(!c){for(u=i.child;u;){if(u===l){c=!0,l=i,a=s;break}if(u===a){c=!0,a=i,l=s;break}u=u.sibling}if(!c)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var R=Object.assign,H=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),te=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),Be=Symbol.for("react.memo_cache_sentinel"),Ue=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=Ue&&e[Ue]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case q:return"Suspense";case d:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case te:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var Ae=Array.isArray,S=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,y=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},pe=[],ge=-1;function v(e){return{current:e}}function _(e){0>ge||(e.current=pe[ge],pe[ge]=null,ge--)}function A(e,t){ge++,pe[ge]=e.current,e.current=t}var J=v(null),Z=v(null),se=v(null),me=v(null);function _e(e,t){switch(A(se,t),A(Z,e),A(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?W0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=W0(t),e=ef(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(J),A(J,e)}function Ve(){_(J),_(Z),_(se)}function nt(e){e.memoizedState!==null&&A(me,e);var t=J.current,l=ef(t,e.type);t!==l&&(A(Z,e),A(J,l))}function Xe(e){Z.current===e&&(_(J),_(Z)),me.current===e&&(_(me),hi._currentValue=W)}var tt,K;function re(e){if(tt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);tt=t&&t[1]||"",K=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+e+K}var be=!1;function Ne(e,t){if(!e||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(P){var B=P}Reflect.construct(e,[],X)}else{try{X.call()}catch(P){B=P}e.call(X.prototype)}}else{try{throw Error()}catch(P){B=P}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],u=i[1];if(c&&u){var N=c.split(`
`),V=u.split(`
`);for(s=a=0;a<N.length&&!N[a].includes("DetermineComponentFrameRoot");)a++;for(;s<V.length&&!V[s].includes("DetermineComponentFrameRoot");)s++;if(a===N.length||s===V.length)for(a=N.length-1,s=V.length-1;1<=a&&0<=s&&N[a]!==V[s];)s--;for(;1<=a&&0<=s;a--,s--)if(N[a]!==V[s]){if(a!==1||s!==1)do if(a--,s--,0>s||N[a]!==V[s]){var F=`
`+N[a].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=a&&0<=s);break}}}finally{be=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?re(l):""}function Ee(e,t){switch(e.tag){case 26:case 27:case 5:return re(e.type);case 16:return re("Lazy");case 13:return e.child!==t&&t!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return Ne(e.type,!1);case 11:return Ne(e.type.render,!1);case 1:return Ne(e.type,!0);case 31:return re("Activity");default:return""}}function He(e){try{var t="",l=null;do t+=Ee(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Fe=Object.prototype.hasOwnProperty,Pe=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,rt=r.unstable_shouldYield,jt=r.unstable_requestPaint,at=r.unstable_now,Dt=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,Rl=r.unstable_UserBlockingPriority,$t=r.unstable_NormalPriority,ml=r.unstable_LowPriority,ql=r.unstable_IdlePriority,Ya=r.log,ws=r.unstable_setDisableYieldValue,rl=null,$=null;function oe(e){if(typeof Ya=="function"&&ws(e),$&&typeof $.setStrictMode=="function")try{$.setStrictMode(rl,e)}catch{}}var ve=Math.clz32?Math.clz32:Pt,Je=Math.log,Le=Math.LN2;function Pt(e){return e>>>=0,e===0?32:31-(Je(e)/Le|0)|0}var Lt=256,Tt=262144,Jt=4194304;function Ot(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yt(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~i,a!==0?s=Ot(a):(c&=u,c!==0?s=Ot(c):l||(l=u&~e,l!==0&&(s=Ot(l))))):(u=a&~i,u!==0?s=Ot(u):c!==0?s=Ot(c):l||(l=a&~e,l!==0&&(s=Ot(l)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:s}function ut(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ul(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pl(){var e=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),e}function _l(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function tl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ts(e,t,l,a,s,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,N=e.expirationTimes,V=e.hiddenUpdates;for(l=c&~l;0<l;){var F=31-ve(l),X=1<<F;u[F]=0,N[F]=-1;var B=V[F];if(B!==null)for(V[F]=null,F=0;F<B.length;F++){var P=B[F];P!==null&&(P.lane&=-536870913)}l&=~X}a!==0&&Os(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Os(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ve(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function ol(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-ve(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function va(e,t){var l=t&-t;return l=(l&42)!==0?1:sn(l),(l&(e.suspendedLanes|t))!==0?0:l}function sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function dt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ot(){var e=y.p;return e!==0?e:(e=window.event,e===void 0?32:Af(e.type))}function xl(e,t){var l=y.p;try{return y.p=e,t()}finally{y.p=l}}var ft=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ft,ll="__reactProps$"+ft,jn="__reactContainer$"+ft,cn="__reactEvents$"+ft,zc="__reactListeners$"+ft,pl="__reactHandles$"+ft,Ai="__reactResources$"+ft,qn="__reactMarker$"+ft;function Rs(e){delete e[Ft],delete e[ll],delete e[cn],delete e[zc],delete e[pl]}function Pn(e){var t=e[Ft];if(t)return t;for(var l=e.parentNode;l;){if(t=l[jn]||l[Ft]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=rf(e);e!==null;){if(l=e[Ft])return l;e=rf(e)}return t}e=l,l=e.parentNode}return null}function Fn(e){if(e=e[Ft]||e[jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Na(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Cn(e){var t=e[Ai];return t||(t=e[Ai]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Bt(e){e[qn]=!0}var Us=new Set,_s={};function rn(e,t){yn(e,t),yn(e+"Capture",t)}function yn(e,t){for(_s[e]=t,e=0;e<t.length;e++)Us.add(t[e])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Si={},Ds={};function Ei(e){return Fe.call(Ds,e)?!0:Fe.call(Si,e)?!1:qc.test(e)?Ds[e]=!0:(Si[e]=!0,!1)}function ja(e,t,l){if(Ei(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ca(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function m(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function b(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ce(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ke(e){if(!e._valueTracker){var t=L(e)?"checked":"value";e._valueTracker=ce(e,t,""+e[t])}}function he(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=L(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var we=/[\n"\\]/g;function Ye(e){return e.replace(we,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function At(e,t,l,a,s,i,c,u){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+b(t)):e.value!==""+b(t)&&(e.value=""+b(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?mt(e,c,b(t)):l!=null?mt(e,c,b(l)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+b(u):e.removeAttribute("name")}function Rt(e,t,l,a,s,i,c,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ke(e);return}l=l!=null?""+b(l):"",t=t!=null?""+b(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),ke(e)}function mt(e,t,l){t==="number"&&Me(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function _t(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+b(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ht(e,t,l){if(t!=null&&(t=""+b(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+b(l):""}function Gt(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(Ae(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=b(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ke(e)}function St(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Yt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Yt.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function xt(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&Cl(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&Cl(e,i,t[i])}function ze(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return yl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fl(){}var ya=null;function Mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gn=null,Yn=null;function Ia(e){var t=Fn(e);if(t&&(e=t.stateNode)){var l=e[ll]||null;e:switch(e=t.stateNode,t.type){case"input":if(At(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ye(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[ll]||null;if(!s)throw Error(o(90));At(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&he(a)}break e;case"textarea":Ht(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&_t(e,!!l.multiple,t,!1)}}}var wi=!1;function Aa(e,t,l){if(wi)return e(t,l);wi=!0;try{var a=e(t);return a}finally{if(wi=!1,(Gn!==null||Yn!==null)&&(uc(),Gn&&(t=Gn,e=Yn,Yn=Gn=null,Ia(t),e)))for(t=0;t<e.length;t++)Ia(e[t])}}function In(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ll]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Wl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sa=!1;if(Wl)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Sa=!1}var un=null,Xn=null,Ke=null;function dn(){if(Ke)return Ke;var e,t=Xn,l=t.length,a,s="value"in un?un.value:un.textContent,i=s.length;for(e=0;e<l&&t[e]===s[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===s[i-a];a++);return Ke=s.slice(e,1<a?1-a:void 0)}function Al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function Vs(){return!1}function nl(e){function t(l,a,s,i,c){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Gl:Vs,this.isPropagationStopped=Vs,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=nl(Zn),Ma=R({},Zn,{view:0,detail:0}),ks=nl(Ma),fn,ee,xe,Ce=R({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xe&&(xe&&e.type==="mousemove"?(fn=e.screenX-xe.screenX,ee=e.screenY-xe.screenY):ee=fn=0,xe=e),fn)},movementY:function(e){return"movementY"in e?e.movementY:ee}}),Te=nl(Ce),bt=R({},Ce,{dataTransfer:0}),ul=nl(bt),en=R({},Ma,{relatedTarget:0}),mn=nl(en),tn=R({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),xn=nl(tn),wa=R({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gl=nl(wa),Sl=R({},Zn,{data:0}),vl=nl(Sl),dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pc[e])?!!t[e]:!1}function Fc(){return hm}var bm=R({},Ma,{key:function(e){if(e.key){var t=dl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?Al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gm=nl(bm),vm=R({},Ce,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=nl(vm),Nm=R({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),jm=nl(Nm),Cm=R({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ym=nl(Cm),Am=R({},Ce,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=nl(Am),Em=R({},Zn,{newState:0,oldState:0}),Mm=nl(Em),wm=[9,13,27,32],Gc=Wl&&"CompositionEvent"in window,Ls=null;Wl&&"documentMode"in document&&(Ls=document.documentMode);var Tm=Wl&&"TextEvent"in window&&!Ls,su=Wl&&(!Gc||Ls&&8<Ls&&11>=Ls),iu=" ",cu=!1;function ru(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xa=!1;function Om(e,t){switch(e){case"compositionend":return ou(t);case"keypress":return t.which!==32?null:(cu=!0,iu);case"textInput":return e=t.data,e===iu&&cu?null:e;default:return null}}function Rm(e,t){if(Xa)return e==="compositionend"||!Gc&&ru(e,t)?(e=dn(),Ke=Xn=un=null,Xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return su&&t.locale!=="ko"?null:t.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Um[e.type]:t==="textarea"}function du(e,t,l,a){Gn?Yn?Yn.push(a):Yn=[a]:Gn=a,t=bc(t,"onChange"),0<t.length&&(l=new bl("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Bs=null,Hs=null;function _m(e){X0(e,0)}function Ti(e){var t=Na(e);if(he(t))return e}function fu(e,t){if(e==="change")return t}var mu=!1;if(Wl){var Yc;if(Wl){var Ic="oninput"in document;if(!Ic){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),Ic=typeof xu.oninput=="function"}Yc=Ic}else Yc=!1;mu=Yc&&(!document.documentMode||9<document.documentMode)}function pu(){Bs&&(Bs.detachEvent("onpropertychange",hu),Hs=Bs=null)}function hu(e){if(e.propertyName==="value"&&Ti(Hs)){var t=[];du(t,Hs,e,Mi(e)),Aa(_m,t)}}function Dm(e,t,l){e==="focusin"?(pu(),Bs=t,Hs=l,Bs.attachEvent("onpropertychange",hu)):e==="focusout"&&pu()}function Vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ti(Hs)}function km(e,t){if(e==="click")return Ti(t)}function Lm(e,t){if(e==="input"||e==="change")return Ti(t)}function Bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dl=typeof Object.is=="function"?Object.is:Bm;function zs(e,t){if(Dl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!Fe.call(t,s)||!Dl(e[s],t[s]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var l=bu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bu(l)}}function vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Me(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Me(e.document)}return t}function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hm=Wl&&"documentMode"in document&&11>=document.documentMode,Za=null,Zc=null,qs=null,Kc=!1;function ju(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kc||Za==null||Za!==Me(a)||(a=Za,"selectionStart"in a&&Xc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qs&&zs(qs,a)||(qs=a,a=bc(Zc,"onSelect"),0<a.length&&(t=new bl("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Za)))}function Ta(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ka={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Qc={},Cu={};Wl&&(Cu=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Oa(e){if(Qc[e])return Qc[e];if(!Ka[e])return e;var t=Ka[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Cu)return Qc[e]=t[l];return e}var yu=Oa("animationend"),Au=Oa("animationiteration"),Su=Oa("animationstart"),zm=Oa("transitionrun"),qm=Oa("transitionstart"),Pm=Oa("transitioncancel"),Eu=Oa("transitionend"),Mu=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function ln(e,t){Mu.set(e,t),rn(t,[e])}var Oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yl=[],Qa=0,Jc=0;function Ri(){for(var e=Qa,t=Jc=Qa=0;t<e;){var l=Yl[t];Yl[t++]=null;var a=Yl[t];Yl[t++]=null;var s=Yl[t];Yl[t++]=null;var i=Yl[t];if(Yl[t++]=null,a!==null&&s!==null){var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}i!==0&&wu(l,s,i)}}function Ui(e,t,l,a){Yl[Qa++]=e,Yl[Qa++]=t,Yl[Qa++]=l,Yl[Qa++]=a,Jc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Wc(e,t,l,a){return Ui(e,t,l,a),_i(e)}function Ra(e,t){return Ui(e,null,null,t),_i(e)}function wu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-ve(l),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),i):null}function _i(e){if(50<oi)throw oi=0,ro=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $a={};function Fm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,l,a){return new Fm(e,t,l,a)}function er(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var l=e.alternate;return l===null?(l=Vl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Tu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Di(e,t,l,a,s,i){var c=0;if(a=e,typeof e=="function")er(e)&&(c=1);else if(typeof e=="string")c=Zx(e,l,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=Vl(31,l,t,s),e.elementType=Re,e.lanes=i,e;case I:return Ua(l.children,s,i,t);case k:c=8,s|=24;break;case z:return e=Vl(12,l,t,s|2),e.elementType=z,e.lanes=i,e;case q:return e=Vl(13,l,t,s),e.elementType=q,e.lanes=i,e;case d:return e=Vl(19,l,t,s),e.elementType=d,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:c=10;break e;case Q:c=9;break e;case le:c=11;break e;case G:c=14;break e;case de:c=16,a=null;break e}c=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Vl(c,l,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Ua(e,t,l,a){return e=Vl(7,e,a,t),e.lanes=l,e}function tr(e,t,l){return e=Vl(6,e,null,t),e.lanes=l,e}function Ou(e){var t=Vl(18,null,null,0);return t.stateNode=e,t}function lr(e,t,l){return t=Vl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ru=new WeakMap;function Il(e,t){if(typeof e=="object"&&e!==null){var l=Ru.get(e);return l!==void 0?l:(t={value:e,source:t,stack:He(t)},Ru.set(e,t),t)}return{value:e,source:t,stack:He(t)}}var Ja=[],Wa=0,Vi=null,Ps=0,Xl=[],Zl=0,Kn=null,hn=1,bn="";function Sn(e,t){Ja[Wa++]=Ps,Ja[Wa++]=Vi,Vi=e,Ps=t}function Uu(e,t,l){Xl[Zl++]=hn,Xl[Zl++]=bn,Xl[Zl++]=Kn,Kn=e;var a=hn;e=bn;var s=32-ve(a)-1;a&=~(1<<s),l+=1;var i=32-ve(t)+s;if(30<i){var c=s-s%5;i=(a&(1<<c)-1).toString(32),a>>=c,s-=c,hn=1<<32-ve(t)+s|l<<s|a,bn=i+e}else hn=1<<i|l<<s|a,bn=e}function nr(e){e.return!==null&&(Sn(e,1),Uu(e,1,0))}function ar(e){for(;e===Vi;)Vi=Ja[--Wa],Ja[Wa]=null,Ps=Ja[--Wa],Ja[Wa]=null;for(;e===Kn;)Kn=Xl[--Zl],Xl[Zl]=null,bn=Xl[--Zl],Xl[Zl]=null,hn=Xl[--Zl],Xl[Zl]=null}function _u(e,t){Xl[Zl++]=hn,Xl[Zl++]=bn,Xl[Zl++]=Kn,hn=t.id,bn=t.overflow,Kn=e}var al=null,Et=null,lt=!1,Qn=null,Kl=!1,sr=Error(o(519));function $n(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(Il(t,e)),sr}function Du(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Ft]=e,t[ll]=a,l){case"dialog":$e("cancel",t),$e("close",t);break;case"iframe":case"object":case"embed":$e("load",t);break;case"video":case"audio":for(l=0;l<di.length;l++)$e(di[l],t);break;case"source":$e("error",t);break;case"img":case"image":case"link":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"input":$e("invalid",t),Rt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":$e("invalid",t);break;case"textarea":$e("invalid",t),Gt(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||$0(t.textContent,l)?(a.popover!=null&&($e("beforetoggle",t),$e("toggle",t)),a.onScroll!=null&&$e("scroll",t),a.onScrollEnd!=null&&$e("scrollend",t),a.onClick!=null&&(t.onclick=Fl),t=!0):t=!1,t||$n(e,!0)}function Vu(e){for(al=e.return;al;)switch(al.tag){case 5:case 31:case 13:Kl=!1;return;case 27:case 3:Kl=!0;return;default:al=al.return}}function es(e){if(e!==al)return!1;if(!lt)return Vu(e),lt=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Ao(e.type,e.memoizedProps)),l=!l),l&&Et&&$n(e),Vu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Et=cf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Et=cf(e)}else t===27?(t=Et,da(e.type)?(e=To,To=null,Et=e):Et=t):Et=al?$l(e.stateNode.nextSibling):null;return!0}function _a(){Et=al=null,lt=!1}function ir(){var e=Qn;return e!==null&&(Tl===null?Tl=e:Tl.push.apply(Tl,e),Qn=null),e}function Fs(e){Qn===null?Qn=[e]:Qn.push(e)}var cr=v(null),Da=null,En=null;function Jn(e,t,l){A(cr,t._currentValue),t._currentValue=l}function Mn(e){e._currentValue=cr.current,_(cr)}function rr(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function or(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var c=s.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=s;for(var N=0;N<t.length;N++)if(u.context===t[N]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),rr(i.return,l,e),a||(c=null);break e}i=u.next}}else if(s.tag===18){if(c=s.return,c===null)throw Error(o(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),rr(c,l,e),c=null}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===e){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}}function ts(e,t,l,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var c=s.alternate;if(c===null)throw Error(o(387));if(c=c.memoizedProps,c!==null){var u=s.type;Dl(s.pendingProps.value,c.value)||(e!==null?e.push(u):e=[u])}}else if(s===me.current){if(c=s.alternate,c===null)throw Error(o(387));c.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hi):e=[hi])}s=s.return}e!==null&&or(t,e,l,a),t.flags|=262144}function ki(e){for(e=e.firstContext;e!==null;){if(!Dl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Va(e){Da=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sl(e){return ku(Da,e)}function Li(e,t){return Da===null&&Va(e),ku(e,t)}function ku(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},En===null){if(e===null)throw Error(o(308));En=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else En=En.next=t;return l}var Gm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Ym=r.unstable_scheduleCallback,Im=r.unstable_NormalPriority,It={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ur(){return{controller:new Gm,data:new Map,refCount:0}}function Gs(e){e.refCount--,e.refCount===0&&Ym(Im,function(){e.controller.abort()})}var Ys=null,dr=0,ls=0,ns=null;function Xm(e,t){if(Ys===null){var l=Ys=[];dr=0,ls=po(),ns={status:"pending",value:void 0,then:function(a){l.push(a)}}}return dr++,t.then(Lu,Lu),t}function Lu(){if(--dr===0&&Ys!==null){ns!==null&&(ns.status="fulfilled");var e=Ys;Ys=null,ls=0,ns=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Zm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var Bu=S.S;S.S=function(e,t){j0=at(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Xm(e,t),Bu!==null&&Bu(e,t)};var ka=v(null);function fr(){var e=ka.current;return e!==null?e:Ct.pooledCache}function Bi(e,t){t===null?A(ka,ka.current):A(ka,t.pool)}function Hu(){var e=fr();return e===null?null:{parent:It._currentValue,pool:e}}var as=Error(o(460)),mr=Error(o(474)),Hi=Error(o(542)),zi={then:function(){}};function zu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Fl,Fl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e;default:if(typeof t.status=="string")t.then(Fl,Fl);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e}throw Ba=t,as}}function La(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ba=l,as):l}}var Ba=null;function Pu(){if(Ba===null)throw Error(o(459));var e=Ba;return Ba=null,e}function Fu(e){if(e===as||e===Hi)throw Error(o(483))}var ss=null,Is=0;function qi(e){var t=Is;return Is+=1,ss===null&&(ss=[]),qu(ss,e,t)}function Xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pi(e,t){throw t.$$typeof===H?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gu(e){function t(E,C){if(e){var D=E.deletions;D===null?(E.deletions=[C],E.flags|=16):D.push(C)}}function l(E,C){if(!e)return null;for(;C!==null;)t(E,C),C=C.sibling;return null}function a(E){for(var C=new Map;E!==null;)E.key!==null?C.set(E.key,E):C.set(E.index,E),E=E.sibling;return C}function s(E,C){return E=An(E,C),E.index=0,E.sibling=null,E}function i(E,C,D){return E.index=D,e?(D=E.alternate,D!==null?(D=D.index,D<C?(E.flags|=67108866,C):D):(E.flags|=67108866,C)):(E.flags|=1048576,C)}function c(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function u(E,C,D,Y){return C===null||C.tag!==6?(C=tr(D,E.mode,Y),C.return=E,C):(C=s(C,D),C.return=E,C)}function N(E,C,D,Y){var Oe=D.type;return Oe===I?F(E,C,D.props.children,Y,D.key):C!==null&&(C.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===de&&La(Oe)===C.type)?(C=s(C,D.props),Xs(C,D),C.return=E,C):(C=Di(D.type,D.key,D.props,null,E.mode,Y),Xs(C,D),C.return=E,C)}function V(E,C,D,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=lr(D,E.mode,Y),C.return=E,C):(C=s(C,D.children||[]),C.return=E,C)}function F(E,C,D,Y,Oe){return C===null||C.tag!==7?(C=Ua(D,E.mode,Y,Oe),C.return=E,C):(C=s(C,D),C.return=E,C)}function X(E,C,D){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=tr(""+C,E.mode,D),C.return=E,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return D=Di(C.type,C.key,C.props,null,E.mode,D),Xs(D,C),D.return=E,D;case T:return C=lr(C,E.mode,D),C.return=E,C;case de:return C=La(C),X(E,C,D)}if(Ae(C)||ue(C))return C=Ua(C,E.mode,D,null),C.return=E,C;if(typeof C.then=="function")return X(E,qi(C),D);if(C.$$typeof===te)return X(E,Li(E,C),D);Pi(E,C)}return null}function B(E,C,D,Y){var Oe=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return Oe!==null?null:u(E,C,""+D,Y);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return D.key===Oe?N(E,C,D,Y):null;case T:return D.key===Oe?V(E,C,D,Y):null;case de:return D=La(D),B(E,C,D,Y)}if(Ae(D)||ue(D))return Oe!==null?null:F(E,C,D,Y,null);if(typeof D.then=="function")return B(E,C,qi(D),Y);if(D.$$typeof===te)return B(E,C,Li(E,D),Y);Pi(E,D)}return null}function P(E,C,D,Y,Oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return E=E.get(D)||null,u(C,E,""+Y,Oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return E=E.get(Y.key===null?D:Y.key)||null,N(C,E,Y,Oe);case T:return E=E.get(Y.key===null?D:Y.key)||null,V(C,E,Y,Oe);case de:return Y=La(Y),P(E,C,D,Y,Oe)}if(Ae(Y)||ue(Y))return E=E.get(D)||null,F(C,E,Y,Oe,null);if(typeof Y.then=="function")return P(E,C,D,qi(Y),Oe);if(Y.$$typeof===te)return P(E,C,D,Li(C,Y),Oe);Pi(C,Y)}return null}function je(E,C,D,Y){for(var Oe=null,st=null,Se=C,Ze=C=0,et=null;Se!==null&&Ze<D.length;Ze++){Se.index>Ze?(et=Se,Se=null):et=Se.sibling;var it=B(E,Se,D[Ze],Y);if(it===null){Se===null&&(Se=et);break}e&&Se&&it.alternate===null&&t(E,Se),C=i(it,C,Ze),st===null?Oe=it:st.sibling=it,st=it,Se=et}if(Ze===D.length)return l(E,Se),lt&&Sn(E,Ze),Oe;if(Se===null){for(;Ze<D.length;Ze++)Se=X(E,D[Ze],Y),Se!==null&&(C=i(Se,C,Ze),st===null?Oe=Se:st.sibling=Se,st=Se);return lt&&Sn(E,Ze),Oe}for(Se=a(Se);Ze<D.length;Ze++)et=P(Se,E,Ze,D[Ze],Y),et!==null&&(e&&et.alternate!==null&&Se.delete(et.key===null?Ze:et.key),C=i(et,C,Ze),st===null?Oe=et:st.sibling=et,st=et);return e&&Se.forEach(function(ha){return t(E,ha)}),lt&&Sn(E,Ze),Oe}function De(E,C,D,Y){if(D==null)throw Error(o(151));for(var Oe=null,st=null,Se=C,Ze=C=0,et=null,it=D.next();Se!==null&&!it.done;Ze++,it=D.next()){Se.index>Ze?(et=Se,Se=null):et=Se.sibling;var ha=B(E,Se,it.value,Y);if(ha===null){Se===null&&(Se=et);break}e&&Se&&ha.alternate===null&&t(E,Se),C=i(ha,C,Ze),st===null?Oe=ha:st.sibling=ha,st=ha,Se=et}if(it.done)return l(E,Se),lt&&Sn(E,Ze),Oe;if(Se===null){for(;!it.done;Ze++,it=D.next())it=X(E,it.value,Y),it!==null&&(C=i(it,C,Ze),st===null?Oe=it:st.sibling=it,st=it);return lt&&Sn(E,Ze),Oe}for(Se=a(Se);!it.done;Ze++,it=D.next())it=P(Se,E,Ze,it.value,Y),it!==null&&(e&&it.alternate!==null&&Se.delete(it.key===null?Ze:it.key),C=i(it,C,Ze),st===null?Oe=it:st.sibling=it,st=it);return e&&Se.forEach(function(sp){return t(E,sp)}),lt&&Sn(E,Ze),Oe}function Nt(E,C,D,Y){if(typeof D=="object"&&D!==null&&D.type===I&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case O:e:{for(var Oe=D.key;C!==null;){if(C.key===Oe){if(Oe=D.type,Oe===I){if(C.tag===7){l(E,C.sibling),Y=s(C,D.props.children),Y.return=E,E=Y;break e}}else if(C.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===de&&La(Oe)===C.type){l(E,C.sibling),Y=s(C,D.props),Xs(Y,D),Y.return=E,E=Y;break e}l(E,C);break}else t(E,C);C=C.sibling}D.type===I?(Y=Ua(D.props.children,E.mode,Y,D.key),Y.return=E,E=Y):(Y=Di(D.type,D.key,D.props,null,E.mode,Y),Xs(Y,D),Y.return=E,E=Y)}return c(E);case T:e:{for(Oe=D.key;C!==null;){if(C.key===Oe)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){l(E,C.sibling),Y=s(C,D.children||[]),Y.return=E,E=Y;break e}else{l(E,C);break}else t(E,C);C=C.sibling}Y=lr(D,E.mode,Y),Y.return=E,E=Y}return c(E);case de:return D=La(D),Nt(E,C,D,Y)}if(Ae(D))return je(E,C,D,Y);if(ue(D)){if(Oe=ue(D),typeof Oe!="function")throw Error(o(150));return D=Oe.call(D),De(E,C,D,Y)}if(typeof D.then=="function")return Nt(E,C,qi(D),Y);if(D.$$typeof===te)return Nt(E,C,Li(E,D),Y);Pi(E,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,C!==null&&C.tag===6?(l(E,C.sibling),Y=s(C,D),Y.return=E,E=Y):(l(E,C),Y=tr(D,E.mode,Y),Y.return=E,E=Y),c(E)):l(E,C)}return function(E,C,D,Y){try{Is=0;var Oe=Nt(E,C,D,Y);return ss=null,Oe}catch(Se){if(Se===as||Se===Hi)throw Se;var st=Vl(29,Se,null,E.mode);return st.lanes=Y,st.return=E,st}finally{}}}var Ha=Gu(!0),Yu=Gu(!1),Wn=!1;function xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ct&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=_i(e),wu(e,null,l),t}return Ui(e,a,t,l),_i(e)}function Zs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ol(e,l)}}function hr(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?s=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?s=i=t:i=i.next=t}else s=i=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var br=!1;function Ks(){if(br){var e=ns;if(e!==null)throw e}}function Qs(e,t,l,a){br=!1;var s=e.updateQueue;Wn=!1;var i=s.firstBaseUpdate,c=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var N=u,V=N.next;N.next=null,c===null?i=V:c.next=V,c=N;var F=e.alternate;F!==null&&(F=F.updateQueue,u=F.lastBaseUpdate,u!==c&&(u===null?F.firstBaseUpdate=V:u.next=V,F.lastBaseUpdate=N))}if(i!==null){var X=s.baseState;c=0,F=V=N=null,u=i;do{var B=u.lane&-536870913,P=B!==u.lane;if(P?(We&B)===B:(a&B)===B){B!==0&&B===ls&&(br=!0),F!==null&&(F=F.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var je=e,De=u;B=t;var Nt=l;switch(De.tag){case 1:if(je=De.payload,typeof je=="function"){X=je.call(Nt,X,B);break e}X=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=De.payload,B=typeof je=="function"?je.call(Nt,X,B):je,B==null)break e;X=R({},X,B);break e;case 2:Wn=!0}}B=u.callback,B!==null&&(e.flags|=64,P&&(e.flags|=8192),P=s.callbacks,P===null?s.callbacks=[B]:P.push(B))}else P={lane:B,tag:u.tag,payload:u.payload,callback:u.callback,next:null},F===null?(V=F=P,N=X):F=F.next=P,c|=B;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;P=u,u=P.next,P.next=null,s.lastBaseUpdate=P,s.shared.pending=null}}while(!0);F===null&&(N=X),s.baseState=N,s.firstBaseUpdate=V,s.lastBaseUpdate=F,i===null&&(s.shared.lanes=0),ia|=c,e.lanes=c,e.memoizedState=X}}function Iu(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Xu(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Iu(l[e],t)}var is=v(null),Fi=v(0);function Zu(e,t){e=kn,A(Fi,e),A(is,t),kn=e|t.baseLanes}function gr(){A(Fi,kn),A(is,is.current)}function vr(){kn=Fi.current,_(is),_(Fi)}var kl=v(null),Ql=null;function la(e){var t=e.alternate;A(zt,zt.current&1),A(kl,e),Ql===null&&(t===null||is.current!==null||t.memoizedState!==null)&&(Ql=e)}function Nr(e){A(zt,zt.current),A(kl,e),Ql===null&&(Ql=e)}function Ku(e){e.tag===22?(A(zt,zt.current),A(kl,e),Ql===null&&(Ql=e)):na()}function na(){A(zt,zt.current),A(kl,kl.current)}function Ll(e){_(kl),Ql===e&&(Ql=null),_(zt)}var zt=v(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Mo(l)||wo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,Ie=null,gt=null,Xt=null,Yi=!1,cs=!1,za=!1,Ii=0,$s=0,rs=null,Km=0;function Vt(){throw Error(o(321))}function jr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Dl(e[l],t[l]))return!1;return!0}function Cr(e,t,l,a,s,i){return wn=i,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?Ud:Lr,za=!1,i=l(a,s),za=!1,cs&&(i=$u(t,l,a,s)),Qu(e),i}function Qu(e){S.H=ei;var t=gt!==null&&gt.next!==null;if(wn=0,Xt=gt=Ie=null,Yi=!1,$s=0,rs=null,t)throw Error(o(300));e===null||Zt||(e=e.dependencies,e!==null&&ki(e)&&(Zt=!0))}function $u(e,t,l,a){Ie=e;var s=0;do{if(cs&&(rs=null),$s=0,cs=!1,25<=s)throw Error(o(301));if(s+=1,Xt=gt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}S.H=_d,i=t(l,a)}while(cs);return i}function Qm(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?Js(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Ie.flags|=1024),t}function yr(){var e=Ii!==0;return Ii=0,e}function Ar(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Sr(e){if(Yi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yi=!1}wn=0,Xt=gt=Ie=null,cs=!1,$s=Ii=0,rs=null}function Nl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ie.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function qt(){if(gt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Xt===null?Ie.memoizedState:Xt.next;if(t!==null)Xt=t,gt=e;else{if(e===null)throw Ie.alternate===null?Error(o(467)):Error(o(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?Ie.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Xi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Js(e){var t=$s;return $s+=1,rs===null&&(rs=[]),e=qu(rs,e,t),t=Ie,(Xt===null?t.memoizedState:Xt.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?Ud:Lr),e}function Zi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Js(e);if(e.$$typeof===te)return sl(e)}throw Error(o(438,String(e)))}function Er(e){var t=null,l=Ie.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ie.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Xi(),Ie.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Be;return t.index++,l}function Tn(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=qt();return Mr(t,gt,e)}function Mr(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var c=s.next;s.next=i.next,i.next=c}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var u=c=null,N=null,V=t,F=!1;do{var X=V.lane&-536870913;if(X!==V.lane?(We&X)===X:(wn&X)===X){var B=V.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),X===ls&&(F=!0);else if((wn&B)===B){V=V.next,B===ls&&(F=!0);continue}else X={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(u=N=X,c=i):N=N.next=X,Ie.lanes|=B,ia|=B;X=V.action,za&&l(i,X),i=V.hasEagerState?V.eagerState:l(i,X)}else B={lane:X,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(u=N=B,c=i):N=N.next=B,Ie.lanes|=X,ia|=X;V=V.next}while(V!==null&&V!==t);if(N===null?c=i:N.next=u,!Dl(i,e.memoizedState)&&(Zt=!0,F&&(l=ns,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=N,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function wr(e){var t=qt(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,i=t.memoizedState;if(s!==null){l.pending=null;var c=s=s.next;do i=e(i,c.action),c=c.next;while(c!==s);Dl(i,t.memoizedState)||(Zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Ju(e,t,l){var a=Ie,s=qt(),i=lt;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var c=!Dl((gt||s).memoizedState,l);if(c&&(s.memoizedState=l,Zt=!0),s=s.queue,Rr(td.bind(null,a,s,e),[e]),s.getSnapshot!==t||c||Xt!==null&&Xt.memoizedState.tag&1){if(a.flags|=2048,os(9,{destroy:void 0},ed.bind(null,a,s,l,t),null),Ct===null)throw Error(o(349));i||(wn&127)!==0||Wu(a,t,l)}return l}function Wu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ie.updateQueue,t===null?(t=Xi(),Ie.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function ed(e,t,l,a){t.value=l,t.getSnapshot=a,ld(t)&&nd(e)}function td(e,t,l){return l(function(){ld(t)&&nd(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Dl(e,l)}catch{return!0}}function nd(e){var t=Ra(e,2);t!==null&&Ol(t,e,2)}function Tr(e){var t=Nl();if(typeof e=="function"){var l=e;if(e=l(),za){oe(!0);try{l()}finally{oe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t}function ad(e,t,l,a){return e.baseState=l,Mr(e,gt,typeof a=="function"?a:Tn)}function $m(e,t,l,a,s){if(Ji(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};S.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,sd(t,i)):(i.next=l.next,t.pending=l.next=i)}}function sd(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=S.T,c={};S.T=c;try{var u=l(s,a),N=S.S;N!==null&&N(c,u),id(e,t,u)}catch(V){Or(e,t,V)}finally{i!==null&&c.types!==null&&(i.types=c.types),S.T=i}}else try{i=l(s,a),id(e,t,i)}catch(V){Or(e,t,V)}}function id(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){cd(e,t,a)},function(a){return Or(e,t,a)}):cd(e,t,l)}function cd(e,t,l){t.status="fulfilled",t.value=l,rd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,sd(e,l)))}function Or(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,rd(t),t=t.next;while(t!==a)}e.action=null}function rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function od(e,t){return t}function ud(e,t){if(lt){var l=Ct.formState;if(l!==null){e:{var a=Ie;if(lt){if(Et){t:{for(var s=Et,i=Kl;s.nodeType!==8;){if(!i){s=null;break t}if(s=$l(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Et=$l(s.nextSibling),a=s.data==="F!";break e}}$n(a)}a=!1}a&&(t=l[0])}}return l=Nl(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},l.queue=a,l=Td.bind(null,Ie,a),a.dispatch=l,a=Tr(!1),i=kr.bind(null,Ie,!1,a.queue),a=Nl(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=$m.bind(null,Ie,s,i,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function dd(e){var t=qt();return fd(t,gt,e)}function fd(e,t,l){if(t=Mr(e,t,od)[0],e=Ki(Tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Js(t)}catch(c){throw c===as?Hi:c}else a=t;t=qt();var s=t.queue,i=s.dispatch;return l!==t.memoizedState&&(Ie.flags|=2048,os(9,{destroy:void 0},Jm.bind(null,s,l),null)),[a,i,e]}function Jm(e,t){e.action=t}function md(e){var t=qt(),l=gt;if(l!==null)return fd(t,l,e);qt(),t=t.memoizedState,l=qt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function os(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ie.updateQueue,t===null&&(t=Xi(),Ie.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function xd(){return qt().memoizedState}function Qi(e,t,l,a){var s=Nl();Ie.flags|=e,s.memoizedState=os(1|t,{destroy:void 0},l,a===void 0?null:a)}function $i(e,t,l,a){var s=qt();a=a===void 0?null:a;var i=s.memoizedState.inst;gt!==null&&a!==null&&jr(a,gt.memoizedState.deps)?s.memoizedState=os(t,i,l,a):(Ie.flags|=e,s.memoizedState=os(1|t,i,l,a))}function pd(e,t){Qi(8390656,8,e,t)}function Rr(e,t){$i(2048,8,e,t)}function Wm(e){Ie.flags|=4;var t=Ie.updateQueue;if(t===null)t=Xi(),Ie.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function hd(e){var t=qt().memoizedState;return Wm({ref:t,nextImpl:e}),function(){if((ct&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function bd(e,t){return $i(4,2,e,t)}function gd(e,t){return $i(4,4,e,t)}function vd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nd(e,t,l){l=l!=null?l.concat([e]):null,$i(4,4,vd.bind(null,t,e),l)}function Ur(){}function jd(e,t){var l=qt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&jr(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Cd(e,t){var l=qt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&jr(t,a[1]))return a[0];if(a=e(),za){oe(!0);try{e()}finally{oe(!1)}}return l.memoizedState=[a,t],a}function _r(e,t,l){return l===void 0||(wn&1073741824)!==0&&(We&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=y0(),Ie.lanes|=e,ia|=e,l)}function yd(e,t,l,a){return Dl(l,t)?l:is.current!==null?(e=_r(e,l,a),Dl(e,t)||(Zt=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(We&261930)===0?(Zt=!0,e.memoizedState=l):(e=y0(),Ie.lanes|=e,ia|=e,t)}function Ad(e,t,l,a,s){var i=y.p;y.p=i!==0&&8>i?i:8;var c=S.T,u={};S.T=u,kr(e,!1,t,l);try{var N=s(),V=S.S;if(V!==null&&V(u,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=Zm(N,a);Ws(e,t,F,zl(e))}else Ws(e,t,a,zl(e))}catch(X){Ws(e,t,{then:function(){},status:"rejected",reason:X},zl())}finally{y.p=i,c!==null&&u.types!==null&&(c.types=u.types),S.T=c}}function ex(){}function Dr(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=Sd(e).queue;Ad(e,s,t,W,l===null?ex:function(){return Ed(e),l(a)})}function Sd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:W},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ed(e){var t=Sd(e);t.next===null&&(t=e.alternate.memoizedState),Ws(e,t.next.queue,{},zl())}function Vr(){return sl(hi)}function Md(){return qt().memoizedState}function wd(){return qt().memoizedState}function tx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=zl();e=ea(l);var a=ta(t,e,l);a!==null&&(Ol(a,t,l),Zs(a,t,l)),t={cache:ur()},e.payload=t;return}t=t.return}}function lx(e,t,l){var a=zl();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ji(e)?Od(t,l):(l=Wc(e,t,l,a),l!==null&&(Ol(l,e,a),Rd(l,t,a)))}function Td(e,t,l){var a=zl();Ws(e,t,l,a)}function Ws(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Od(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,u=i(c,l);if(s.hasEagerState=!0,s.eagerState=u,Dl(u,c))return Ui(e,t,s,0),Ct===null&&Ri(),!1}catch{}finally{}if(l=Wc(e,t,s,a),l!==null)return Ol(l,e,a),Rd(l,t,a),!0}return!1}function kr(e,t,l,a){if(a={lane:2,revertLane:po(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(o(479))}else t=Wc(e,l,a,2),t!==null&&Ol(t,e,2)}function Ji(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Od(e,t){cs=Yi=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Rd(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,ol(e,l)}}var ei={readContext:sl,use:Zi,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};ei.useEffectEvent=Vt;var Ud={readContext:sl,use:Zi,useCallback:function(e,t){return Nl().memoizedState=[e,t===void 0?null:t],e},useContext:sl,useEffect:pd,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Qi(4194308,4,vd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Qi(4194308,4,e,t)},useInsertionEffect:function(e,t){Qi(4,2,e,t)},useMemo:function(e,t){var l=Nl();t=t===void 0?null:t;var a=e();if(za){oe(!0);try{e()}finally{oe(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Nl();if(l!==void 0){var s=l(t);if(za){oe(!0);try{l(t)}finally{oe(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=lx.bind(null,Ie,e),[a.memoizedState,e]},useRef:function(e){var t=Nl();return e={current:e},t.memoizedState=e},useState:function(e){e=Tr(e);var t=e.queue,l=Td.bind(null,Ie,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ur,useDeferredValue:function(e,t){var l=Nl();return _r(l,e,t)},useTransition:function(){var e=Tr(!1);return e=Ad.bind(null,Ie,e.queue,!0,!1),Nl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ie,s=Nl();if(lt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ct===null)throw Error(o(349));(We&127)!==0||Wu(a,t,l)}s.memoizedState=l;var i={value:l,getSnapshot:t};return s.queue=i,pd(td.bind(null,a,i,e),[e]),a.flags|=2048,os(9,{destroy:void 0},ed.bind(null,a,i,l,t),null),l},useId:function(){var e=Nl(),t=Ct.identifierPrefix;if(lt){var l=bn,a=hn;l=(a&~(1<<32-ve(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ii++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Km++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vr,useFormState:ud,useActionState:ud,useOptimistic:function(e){var t=Nl();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=kr.bind(null,Ie,!0,l),l.dispatch=t,[e,t]},useMemoCache:Er,useCacheRefresh:function(){return Nl().memoizedState=tx.bind(null,Ie)},useEffectEvent:function(e){var t=Nl(),l={impl:e};return t.memoizedState=l,function(){if((ct&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Lr={readContext:sl,use:Zi,useCallback:jd,useContext:sl,useEffect:Rr,useImperativeHandle:Nd,useInsertionEffect:bd,useLayoutEffect:gd,useMemo:Cd,useReducer:Ki,useRef:xd,useState:function(){return Ki(Tn)},useDebugValue:Ur,useDeferredValue:function(e,t){var l=qt();return yd(l,gt.memoizedState,e,t)},useTransition:function(){var e=Ki(Tn)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:Ju,useId:Md,useHostTransitionStatus:Vr,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var l=qt();return ad(l,gt,e,t)},useMemoCache:Er,useCacheRefresh:wd};Lr.useEffectEvent=hd;var _d={readContext:sl,use:Zi,useCallback:jd,useContext:sl,useEffect:Rr,useImperativeHandle:Nd,useInsertionEffect:bd,useLayoutEffect:gd,useMemo:Cd,useReducer:wr,useRef:xd,useState:function(){return wr(Tn)},useDebugValue:Ur,useDeferredValue:function(e,t){var l=qt();return gt===null?_r(l,e,t):yd(l,gt.memoizedState,e,t)},useTransition:function(){var e=wr(Tn)[0],t=qt().memoizedState;return[typeof e=="boolean"?e:Js(e),t]},useSyncExternalStore:Ju,useId:Md,useHostTransitionStatus:Vr,useFormState:md,useActionState:md,useOptimistic:function(e,t){var l=qt();return gt!==null?ad(l,gt,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Er,useCacheRefresh:wd};_d.useEffectEvent=hd;function Br(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:R({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Hr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=zl(),s=ea(a);s.payload=t,l!=null&&(s.callback=l),t=ta(e,s,a),t!==null&&(Ol(t,e,a),Zs(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=zl(),s=ea(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=ta(e,s,a),t!==null&&(Ol(t,e,a),Zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=zl(),a=ea(l);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,l),t!==null&&(Ol(t,e,l),Zs(t,e,l))}};function Dd(e,t,l,a,s,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!zs(l,a)||!zs(s,i):!0}function Vd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Hr.enqueueReplaceState(t,t.state,null)}function qa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=R({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function kd(e){Oi(e)}function Ld(e){console.error(e)}function Bd(e){Oi(e)}function Wi(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Hd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function zr(e,t,l){return l=ea(l),l.tag=3,l.payload={element:null},l.callback=function(){Wi(e,t)},l}function zd(e){return e=ea(e),e.tag=3,e}function qd(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){Hd(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Hd(t,l,a),typeof s!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function nx(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&ts(t,l,s,!0),l=kl.current,l!==null){switch(l.tag){case 31:case 13:return Ql===null?dc():l.alternate===null&&kt===0&&(kt=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===zi?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),fo(e,a,s)),!1;case 22:return l.flags|=65536,a===zi?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),fo(e,a,s)),!1}throw Error(o(435,l.tag))}return fo(e,a,s),dc(),!1}if(lt)return t=kl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==sr&&(e=Error(o(422),{cause:a}),Fs(Il(e,l)))):(a!==sr&&(t=Error(o(423),{cause:a}),Fs(Il(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Il(a,l),s=zr(e.stateNode,a,s),hr(e,s),kt!==4&&(kt=2)),!1;var i=Error(o(520),{cause:a});if(i=Il(i,l),ri===null?ri=[i]:ri.push(i),kt!==4&&(kt=2),t===null)return!0;a=Il(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=zr(l.stateNode,a,e),hr(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ca===null||!ca.has(i))))return l.flags|=65536,s&=-s,l.lanes|=s,s=zd(s),qd(s,e,l,a),hr(l,s),!1}l=l.return}while(l!==null);return!1}var qr=Error(o(461)),Zt=!1;function il(e,t,l,a){t.child=e===null?Yu(t,null,l,a):Ha(t,e.child,l,a)}function Pd(e,t,l,a,s){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}else c=a;return Va(t),a=Cr(e,t,l,c,i,s),u=yr(),e!==null&&!Zt?(Ar(e,t,s),On(e,t,s)):(lt&&u&&nr(t),t.flags|=1,il(e,t,a,s),t.child)}function Fd(e,t,l,a,s){if(e===null){var i=l.type;return typeof i=="function"&&!er(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Gd(e,t,i,a,s)):(e=Di(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Kr(e,s)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:zs,l(c,a)&&e.ref===t.ref)return On(e,t,s)}return t.flags|=1,e=An(i,a),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,l,a,s){if(e!==null){var i=e.memoizedProps;if(zs(i,a)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=a=i,Kr(e,s))(e.flags&131072)!==0&&(Zt=!0);else return t.lanes=e.lanes,On(e,t,s)}return Pr(e,t,l,a,s)}function Yd(e,t,l,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return Id(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bi(t,i!==null?i.cachePool:null),i!==null?Zu(t,i):gr(),Ku(t);else return a=t.lanes=536870912,Id(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(Bi(t,i.cachePool),Zu(t,i),na(),t.memoizedState=null):(e!==null&&Bi(t,null),gr(),na());return il(e,t,s,l),t.child}function ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Id(e,t,l,a,s){var i=fr();return i=i===null?null:{parent:It._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&Bi(t,null),gr(),Ku(t),e!==null&&ts(e,t,a,!0),t.childLanes=s,null}function ec(e,t){return t=lc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xd(e,t,l){return Ha(t,e.child,null,l),e=ec(t,t.pendingProps),e.flags|=2,Ll(t),t.memoizedState=null,e}function ax(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(a.mode==="hidden")return e=ec(t,a),t.lanes=536870912,ti(null,e);if(Nr(t),(e=Et)?(e=sf(e,Kl),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:hn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=Ou(e),l.return=t,t.child=l,al=t,Et=null)):e=null,e===null)throw $n(t);return t.lanes=536870912,null}return ec(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Nr(t),s)if(t.flags&256)t.flags&=-257,t=Xd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Zt||ts(e,t,l,!1),s=(l&e.childLanes)!==0,Zt||s){if(a=Ct,a!==null&&(c=va(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,Ra(e,c),Ol(a,e,c),qr;dc(),t=Xd(e,t,l)}else e=i.treeContext,Et=$l(c.nextSibling),al=t,lt=!0,Qn=null,Kl=!1,e!==null&&_u(t,e),t=ec(t,a),t.flags|=4096;return t}return e=An(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tc(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Pr(e,t,l,a,s){return Va(t),l=Cr(e,t,l,a,void 0,s),a=yr(),e!==null&&!Zt?(Ar(e,t,s),On(e,t,s)):(lt&&a&&nr(t),t.flags|=1,il(e,t,l,s),t.child)}function Zd(e,t,l,a,s,i){return Va(t),t.updateQueue=null,l=$u(t,a,l,s),Qu(e),a=yr(),e!==null&&!Zt?(Ar(e,t,i),On(e,t,i)):(lt&&a&&nr(t),t.flags|=1,il(e,t,l,i),t.child)}function Kd(e,t,l,a,s){if(Va(t),t.stateNode===null){var i=$a,c=l.contextType;typeof c=="object"&&c!==null&&(i=sl(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Hr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},xr(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?sl(c):$a,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(Br(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&Hr.enqueueReplaceState(i,i.state,null),Qs(t,a,i,s),Ks(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,N=qa(l,u);i.props=N;var V=i.context,F=l.contextType;c=$a,typeof F=="object"&&F!==null&&(c=sl(F));var X=l.getDerivedStateFromProps;F=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,F||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||V!==c)&&Vd(t,i,a,c),Wn=!1;var B=t.memoizedState;i.state=B,Qs(t,a,i,s),Ks(),V=t.memoizedState,u||B!==V||Wn?(typeof X=="function"&&(Br(t,l,X,a),V=t.memoizedState),(N=Wn||Dd(t,l,N,a,B,V,c))?(F||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=V),i.props=a,i.state=V,i.context=c,a=N):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,pr(e,t),c=t.memoizedProps,F=qa(l,c),i.props=F,X=t.pendingProps,B=i.context,V=l.contextType,N=$a,typeof V=="object"&&V!==null&&(N=sl(V)),u=l.getDerivedStateFromProps,(V=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==X||B!==N)&&Vd(t,i,a,N),Wn=!1,B=t.memoizedState,i.state=B,Qs(t,a,i,s),Ks();var P=t.memoizedState;c!==X||B!==P||Wn||e!==null&&e.dependencies!==null&&ki(e.dependencies)?(typeof u=="function"&&(Br(t,l,u,a),P=t.memoizedState),(F=Wn||Dd(t,l,F,a,B,P,N)||e!==null&&e.dependencies!==null&&ki(e.dependencies))?(V||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,P,N),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,P,N)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=P),i.props=a,i.state=P,i.context=N,a=F):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,tc(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ha(t,e.child,null,s),t.child=Ha(t,null,l,s)):il(e,t,l,s),t.memoizedState=i.state,e=t.child):e=On(e,t,s),e}function Qd(e,t,l,a){return _a(),t.flags|=256,il(e,t,l,a),t.child}var Fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gr(e){return{baseLanes:e,cachePool:Hu()}}function Yr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Hl),e}function $d(e,t,l){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),c&&(s=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(s?la(t):na(),(e=Et)?(e=sf(e,Kl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:hn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=Ou(e),l.return=t,t.child=l,al=t,Et=null)):e=null,e===null)throw $n(t);return wo(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,s?(na(),s=t.mode,u=lc({mode:"hidden",children:u},s),a=Ua(a,s,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Gr(l),a.childLanes=Yr(e,c,l),t.memoizedState=Fr,ti(null,a)):(la(t),Ir(t,u))}var N=e.memoizedState;if(N!==null&&(u=N.dehydrated,u!==null)){if(i)t.flags&256?(la(t),t.flags&=-257,t=Xr(e,t,l)):t.memoizedState!==null?(na(),t.child=e.child,t.flags|=128,t=null):(na(),u=a.fallback,s=t.mode,a=lc({mode:"visible",children:a.children},s),u=Ua(u,s,l,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,Ha(t,e.child,null,l),a=t.child,a.memoizedState=Gr(l),a.childLanes=Yr(e,c,l),t.memoizedState=Fr,t=ti(null,a));else if(la(t),wo(u)){if(c=u.nextSibling&&u.nextSibling.dataset,c)var V=c.dgst;c=V,a=Error(o(419)),a.stack="",a.digest=c,Fs({value:a,source:null,stack:null}),t=Xr(e,t,l)}else if(Zt||ts(e,t,l,!1),c=(l&e.childLanes)!==0,Zt||c){if(c=Ct,c!==null&&(a=va(c,l),a!==0&&a!==N.retryLane))throw N.retryLane=a,Ra(e,a),Ol(c,e,a),qr;Mo(u)||dc(),t=Xr(e,t,l)}else Mo(u)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Et=$l(u.nextSibling),al=t,lt=!0,Qn=null,Kl=!1,e!==null&&_u(t,e),t=Ir(t,a.children),t.flags|=4096);return t}return s?(na(),u=a.fallback,s=t.mode,N=e.child,V=N.sibling,a=An(N,{mode:"hidden",children:a.children}),a.subtreeFlags=N.subtreeFlags&65011712,V!==null?u=An(V,u):(u=Ua(u,s,l,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,ti(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Gr(l):(s=u.cachePool,s!==null?(N=It._currentValue,s=s.parent!==N?{parent:N,pool:N}:s):s=Hu(),u={baseLanes:u.baseLanes|l,cachePool:s}),a.memoizedState=u,a.childLanes=Yr(e,c,l),t.memoizedState=Fr,ti(e.child,a)):(la(t),l=e.child,e=l.sibling,l=An(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function Ir(e,t){return t=lc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lc(e,t){return e=Vl(22,e,null,t),e.lanes=0,e}function Xr(e,t,l){return Ha(t,e.child,null,l),e=Ir(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),rr(e.return,t,l)}function Zr(e,t,l,a,s,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=s,c.treeForkCount=i)}function Wd(e,t,l){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var c=zt.current,u=(c&2)!==0;if(u?(c=c&1|2,t.flags|=128):c&=1,A(zt,c),il(e,t,a,l),a=lt?Ps:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,l,t);else if(e.tag===19)Jd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Gi(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),Zr(t,!1,s,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gi(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}Zr(t,!0,l,null,i,a);break;case"together":Zr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function On(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ia|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(ts(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=An(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=An(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Kr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ki(e)))}function sx(e,t,l){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Jn(t,It,e.memoizedState.cache),_a();break;case 27:case 5:nt(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Jn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nr(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(la(t),t.flags|=128,null):(l&t.child.childLanes)!==0?$d(e,t,l):(la(t),e=On(e,t,l),e!==null?e.sibling:null);la(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(ts(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return Wd(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),A(zt,zt.current),a)break;return null;case 22:return t.lanes=0,Yd(e,t,l,t.pendingProps);case 24:Jn(t,It,e.memoizedState.cache)}return On(e,t,l)}function e0(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Zt=!0;else{if(!Kr(e,l)&&(t.flags&128)===0)return Zt=!1,sx(e,t,l);Zt=(e.flags&131072)!==0}else Zt=!1,lt&&(t.flags&1048576)!==0&&Uu(t,Ps,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=La(t.elementType),t.type=e,typeof e=="function")er(e)?(a=qa(e,a),t.tag=1,t=Kd(null,t,e,a,l)):(t.tag=0,t=Pr(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===le){t.tag=11,t=Pd(null,t,e,a,l);break e}else if(s===G){t.tag=14,t=Fd(null,t,e,a,l);break e}}throw t=ie(e)||e,Error(o(306,t,""))}}return t;case 0:return Pr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=qa(a,t.pendingProps),Kd(e,t,a,s,l);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,pr(e,t),Qs(t,a,null,l);var c=t.memoizedState;if(a=c.cache,Jn(t,It,a),a!==i.cache&&or(t,[It],l,!0),Ks(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Qd(e,t,a,l);break e}else if(a!==s){s=Il(Error(o(424)),t),Fs(s),t=Qd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Et=$l(e.firstChild),al=t,lt=!0,Qn=null,Kl=!0,l=Yu(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_a(),a===s){t=On(e,t,l);break e}il(e,t,a,l)}t=t.child}return t;case 26:return tc(e,t),e===null?(l=ff(t.type,null,t.pendingProps,null))?t.memoizedState=l:lt||(l=t.type,e=t.pendingProps,a=gc(se.current).createElement(l),a[Ft]=t,a[ll]=e,cl(a,l,e),Bt(a),t.stateNode=a):t.memoizedState=ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return nt(t),e===null&&lt&&(a=t.stateNode=of(t.type,t.pendingProps,se.current),al=t,Kl=!0,s=Et,da(t.type)?(To=s,Et=$l(a.firstChild)):Et=s),il(e,t,t.pendingProps.children,l),tc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((s=a=Et)&&(a=Vx(a,t.type,t.pendingProps,Kl),a!==null?(t.stateNode=a,al=t,Et=$l(a.firstChild),Kl=!1,s=!0):s=!1),s||$n(t)),nt(t),s=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,Ao(s,i)?a=null:c!==null&&Ao(s,c)&&(t.flags|=32),t.memoizedState!==null&&(s=Cr(e,t,Qm,null,null,l),hi._currentValue=s),tc(e,t),il(e,t,a,l),t.child;case 6:return e===null&&lt&&((e=l=Et)&&(l=kx(l,t.pendingProps,Kl),l!==null?(t.stateNode=l,al=t,Et=null,e=!0):e=!1),e||$n(t)),null;case 13:return $d(e,t,l);case 4:return _e(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ha(t,null,a,l):il(e,t,a,l),t.child;case 11:return Pd(e,t,t.type,t.pendingProps,l);case 7:return il(e,t,t.pendingProps,l),t.child;case 8:return il(e,t,t.pendingProps.children,l),t.child;case 12:return il(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Jn(t,t.type,a.value),il(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Va(t),s=sl(s),a=a(s),t.flags|=1,il(e,t,a,l),t.child;case 14:return Fd(e,t,t.type,t.pendingProps,l);case 15:return Gd(e,t,t.type,t.pendingProps,l);case 19:return Wd(e,t,l);case 31:return ax(e,t,l);case 22:return Yd(e,t,l,t.pendingProps);case 24:return Va(t),a=sl(It),e===null?(s=fr(),s===null&&(s=Ct,i=ur(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=l),s=i),t.memoizedState={parent:a,cache:s},xr(t),Jn(t,It,s)):((e.lanes&l)!==0&&(pr(e,t),Qs(t,null,null,l),Ks()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Jn(t,It,a)):(a=i.cache,Jn(t,It,a),a!==s.cache&&or(t,[It],l,!0))),il(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Rn(e){e.flags|=4}function Qr(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(M0())e.flags|=8192;else throw Ba=zi,mr}else e.flags&=-16777217}function t0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bf(t))if(M0())e.flags|=8192;else throw Ba=zi,mr}function nc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pl():536870912,e.lanes|=t,ms|=t)}function li(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function ix(e,t,l){var a=t.pendingProps;switch(ar(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Mt(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Mn(It),Ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(es(t)?Rn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ir())),Mt(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(Rn(t),i!==null?(Mt(t),t0(t,i)):(Mt(t),Qr(t,s,null,a,l))):i?i!==e.memoizedState?(Rn(t),Mt(t),t0(t,i)):(Mt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Rn(t),Mt(t),Qr(t,s,e,a,l)),null;case 27:if(Xe(t),l=se.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Mt(t),null}e=J.current,es(t)?Du(t):(e=of(s,a,l),t.stateNode=e,Rn(t))}return Mt(t),null;case 5:if(Xe(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Mt(t),null}if(i=J.current,es(t))Du(t);else{var c=gc(se.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(s,{is:a.is}):c.createElement(s)}}i[Ft]=t,i[ll]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(cl(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Rn(t)}}return Mt(t),Qr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Rn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=se.current,es(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=al,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[Ft]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||$0(e.nodeValue,l)),e||$n(t,!0)}else e=gc(e).createTextNode(a),e[Ft]=t,t.stateNode=e}return Mt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=es(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ft]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),e=!1}else l=ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ll(t),t):(Ll(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Mt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=es(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[Ft]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),s=!1}else s=ir(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ll(t),t):(Ll(t),null)}return Ll(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),nc(t,t.updateQueue),Mt(t),null);case 4:return Ve(),e===null&&vo(t.stateNode.containerInfo),Mt(t),null;case 10:return Mn(t.type),Mt(t),null;case 19:if(_(zt),a=t.memoizedState,a===null)return Mt(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)li(a,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Gi(e),i!==null){for(t.flags|=128,li(a,!1),e=i.updateQueue,t.updateQueue=e,nc(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Tu(l,e),l=l.sibling;return A(zt,zt.current&1|2),lt&&Sn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&at()>rc&&(t.flags|=128,s=!0,li(a,!1),t.lanes=4194304)}else{if(!s)if(e=Gi(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,nc(t,e),li(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!lt)return Mt(t),null}else 2*at()-a.renderingStartTime>rc&&l!==536870912&&(t.flags|=128,s=!0,li(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=at(),e.sibling=null,l=zt.current,A(zt,s?l&1|2:l&1),lt&&Sn(t,a.treeForkCount),e):(Mt(t),null);case 22:case 23:return Ll(t),vr(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),l=t.updateQueue,l!==null&&nc(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&_(ka),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Mn(It),Mt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function cx(e,t){switch(ar(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(It),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xe(t),null;case 31:if(t.memoizedState!==null){if(Ll(t),t.alternate===null)throw Error(o(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ll(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _(zt),null;case 4:return Ve(),null;case 10:return Mn(t.type),null;case 22:case 23:return Ll(t),vr(),e!==null&&_(ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(It),null;case 25:return null;default:return null}}function l0(e,t){switch(ar(t),t.tag){case 3:Mn(It),Ve();break;case 26:case 27:case 5:Xe(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&Ll(t);break;case 13:Ll(t);break;case 19:_(zt);break;case 10:Mn(t.type);break;case 22:case 23:Ll(t),vr(),e!==null&&_(ka);break;case 24:Mn(It)}}function ni(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==s)}}catch(u){ht(t,t.return,u)}}function aa(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var c=a.inst,u=c.destroy;if(u!==void 0){c.destroy=void 0,s=t;var N=l,V=u;try{V()}catch(F){ht(s,N,F)}}}a=a.next}while(a!==i)}}catch(F){ht(t,t.return,F)}}function n0(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Xu(t,l)}catch(a){ht(e,e.return,a)}}}function a0(e,t,l){l.props=qa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ht(e,t,a)}}function ai(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){ht(e,t,s)}}function gn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){ht(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){ht(e,t,s)}else l.current=null}function s0(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){ht(e,e.return,s)}}function $r(e,t,l){try{var a=e.stateNode;Tx(a,e.type,l,t),a[ll]=t}catch(s){ht(e,e.return,s)}}function i0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&da(e.type)||e.tag===4}function Jr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&da(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Fl));else if(a!==4&&(a===27&&da(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Wr(e,t,l),e=e.sibling;e!==null;)Wr(e,t,l),e=e.sibling}function ac(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&da(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ac(e,t,l),e=e.sibling;e!==null;)ac(e,t,l),e=e.sibling}function c0(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);cl(t,a,l),t[Ft]=e,t[ll]=l}catch(i){ht(e,e.return,i)}}var Un=!1,Kt=!1,eo=!1,r0=typeof WeakSet=="function"?WeakSet:Set,el=null;function rx(e,t){if(e=e.containerInfo,Co=Sc,e=Nu(e),Xc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,u=-1,N=-1,V=0,F=0,X=e,B=null;t:for(;;){for(var P;X!==l||s!==0&&X.nodeType!==3||(u=c+s),X!==i||a!==0&&X.nodeType!==3||(N=c+a),X.nodeType===3&&(c+=X.nodeValue.length),(P=X.firstChild)!==null;)B=X,X=P;for(;;){if(X===e)break t;if(B===l&&++V===s&&(u=c),B===i&&++F===a&&(N=c),(P=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=P}l=u===-1||N===-1?null:{start:u,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(yo={focusedElem:e,selectionRange:l},Sc=!1,el=t;el!==null;)if(t=el,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,el=e;else for(;el!==null;){switch(t=el,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,s=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var je=qa(l.type,s);e=a.getSnapshotBeforeUpdate(je,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(De){ht(l,l.return,De)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Eo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Eo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,el=e;break}el=t.return}}function o0(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Dn(e,l),a&4&&ni(5,l);break;case 1:if(Dn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){ht(l,l.return,c)}else{var s=qa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){ht(l,l.return,c)}}a&64&&n0(l),a&512&&ai(l,l.return);break;case 3:if(Dn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Xu(e,t)}catch(c){ht(l,l.return,c)}}break;case 27:t===null&&a&4&&c0(l);case 26:case 5:Dn(e,l),t===null&&a&4&&s0(l),a&512&&ai(l,l.return);break;case 12:Dn(e,l);break;case 31:Dn(e,l),a&4&&f0(e,l);break;case 13:Dn(e,l),a&4&&m0(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=bx.bind(null,l),Lx(e,l))));break;case 22:if(a=l.memoizedState!==null||Un,!a){t=t!==null&&t.memoizedState!==null||Kt,s=Un;var i=Kt;Un=a,(Kt=t)&&!i?Vn(e,l,(l.subtreeFlags&8772)!==0):Dn(e,l),Un=s,Kt=i}break;case 30:break;default:Dn(e,l)}}function u0(e){var t=e.alternate;t!==null&&(e.alternate=null,u0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ut=null,El=!1;function _n(e,t,l){for(l=l.child;l!==null;)d0(e,t,l),l=l.sibling}function d0(e,t,l){if($&&typeof $.onCommitFiberUnmount=="function")try{$.onCommitFiberUnmount(rl,l)}catch{}switch(l.tag){case 26:Kt||gn(l,t),_n(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||gn(l,t);var a=Ut,s=El;da(l.type)&&(Ut=l.stateNode,El=!1),_n(e,t,l),mi(l.stateNode),Ut=a,El=s;break;case 5:Kt||gn(l,t);case 6:if(a=Ut,s=El,Ut=null,_n(e,t,l),Ut=a,El=s,Ut!==null)if(El)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(l.stateNode)}catch(i){ht(l,t,i)}else try{Ut.removeChild(l.stateNode)}catch(i){ht(l,t,i)}break;case 18:Ut!==null&&(El?(e=Ut,nf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),js(e)):nf(Ut,l.stateNode));break;case 4:a=Ut,s=El,Ut=l.stateNode.containerInfo,El=!0,_n(e,t,l),Ut=a,El=s;break;case 0:case 11:case 14:case 15:aa(2,l,t),Kt||aa(4,l,t),_n(e,t,l);break;case 1:Kt||(gn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&a0(l,t,a)),_n(e,t,l);break;case 21:_n(e,t,l);break;case 22:Kt=(a=Kt)||l.memoizedState!==null,_n(e,t,l),Kt=a;break;default:_n(e,t,l)}}function f0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{js(e)}catch(l){ht(t,t.return,l)}}}function m0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(l){ht(t,t.return,l)}}function ox(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new r0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new r0),t;default:throw Error(o(435,e.tag))}}function sc(e,t){var l=ox(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=gx.bind(null,e,a);a.then(s,s)}})}function Ml(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],i=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 27:if(da(u.type)){Ut=u.stateNode,El=!1;break e}break;case 5:Ut=u.stateNode,El=!1;break e;case 3:case 4:Ut=u.stateNode.containerInfo,El=!0;break e}u=u.return}if(Ut===null)throw Error(o(160));d0(i,c,s),Ut=null,El=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)x0(t,e),t=t.sibling}var nn=null;function x0(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ml(t,e),wl(e),a&4&&(aa(3,e,e.return),ni(3,e),aa(5,e,e.return));break;case 1:Ml(t,e),wl(e),a&512&&(Kt||l===null||gn(l,l.return)),a&64&&Un&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=nn;if(Ml(t,e),wl(e),a&512&&(Kt||l===null||gn(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[qn]||i[Ft]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),cl(i,a,l),i[Ft]=e,Bt(i),a=i;break e;case"link":var c=pf("link","href",s).get(a+(l.href||""));if(c){for(var u=0;u<c.length;u++)if(i=c[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(u,1);break t}}i=s.createElement(a),cl(i,a,l),s.head.appendChild(i);break;case"meta":if(c=pf("meta","content",s).get(a+(l.content||""))){for(u=0;u<c.length;u++)if(i=c[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(u,1);break t}}i=s.createElement(a),cl(i,a,l),s.head.appendChild(i);break;default:throw Error(o(468,a))}i[Ft]=e,Bt(i),a=i}e.stateNode=a}else hf(s,e.type,e.stateNode);else e.stateNode=xf(s,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?hf(s,e.type,e.stateNode):xf(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&$r(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ml(t,e),wl(e),a&512&&(Kt||l===null||gn(l,l.return)),l!==null&&a&4&&$r(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ml(t,e),wl(e),a&512&&(Kt||l===null||gn(l,l.return)),e.flags&32){s=e.stateNode;try{St(s,"")}catch(je){ht(e,e.return,je)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,$r(e,s,l!==null?l.memoizedProps:s)),a&1024&&(eo=!0);break;case 6:if(Ml(t,e),wl(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(je){ht(e,e.return,je)}}break;case 3:if(jc=null,s=nn,nn=vc(t.containerInfo),Ml(t,e),nn=s,wl(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(je){ht(e,e.return,je)}eo&&(eo=!1,p0(e));break;case 4:a=nn,nn=vc(e.stateNode.containerInfo),Ml(t,e),wl(e),nn=a;break;case 12:Ml(t,e),wl(e);break;case 31:Ml(t,e),wl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,sc(e,a)));break;case 13:Ml(t,e),wl(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cc=at()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,sc(e,a)));break;case 22:s=e.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,V=Un,F=Kt;if(Un=V||s,Kt=F||N,Ml(t,e),Kt=F,Un=V,wl(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||N||Un||Kt||Pa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){N=l=t;try{if(i=N.stateNode,s)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{u=N.stateNode;var X=N.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;u.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(je){ht(N,N.return,je)}}}else if(t.tag===6){if(l===null){N=t;try{N.stateNode.nodeValue=s?"":N.memoizedProps}catch(je){ht(N,N.return,je)}}}else if(t.tag===18){if(l===null){N=t;try{var P=N.stateNode;s?af(P,!0):af(N.stateNode,!1)}catch(je){ht(N,N.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,sc(e,l))));break;case 19:Ml(t,e),wl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,sc(e,a)));break;case 30:break;case 21:break;default:Ml(t,e),wl(e)}}function wl(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(i0(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,i=Jr(e);ac(e,i,s);break;case 5:var c=l.stateNode;l.flags&32&&(St(c,""),l.flags&=-33);var u=Jr(e);ac(e,u,c);break;case 3:case 4:var N=l.stateNode.containerInfo,V=Jr(e);Wr(e,V,N);break;default:throw Error(o(161))}}catch(F){ht(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;p0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Dn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)o0(e,t.alternate,t),t=t.sibling}function Pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:aa(4,t,t.return),Pa(t);break;case 1:gn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&a0(t,t.return,l),Pa(t);break;case 27:mi(t.stateNode);case 26:case 5:gn(t,t.return),Pa(t);break;case 22:t.memoizedState===null&&Pa(t);break;case 30:Pa(t);break;default:Pa(t)}e=e.sibling}}function Vn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Vn(s,i,l),ni(4,i);break;case 1:if(Vn(s,i,l),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(V){ht(a,a.return,V)}if(a=i,s=a.updateQueue,s!==null){var u=a.stateNode;try{var N=s.shared.hiddenCallbacks;if(N!==null)for(s.shared.hiddenCallbacks=null,s=0;s<N.length;s++)Iu(N[s],u)}catch(V){ht(a,a.return,V)}}l&&c&64&&n0(i),ai(i,i.return);break;case 27:c0(i);case 26:case 5:Vn(s,i,l),l&&a===null&&c&4&&s0(i),ai(i,i.return);break;case 12:Vn(s,i,l);break;case 31:Vn(s,i,l),l&&c&4&&f0(s,i);break;case 13:Vn(s,i,l),l&&c&4&&m0(s,i);break;case 22:i.memoizedState===null&&Vn(s,i,l),ai(i,i.return);break;case 30:break;default:Vn(s,i,l)}t=t.sibling}}function to(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Gs(l))}function lo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gs(e))}function an(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h0(e,t,l,a),t=t.sibling}function h0(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,l,a),s&2048&&ni(9,t);break;case 1:an(e,t,l,a);break;case 3:an(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gs(e)));break;case 12:if(s&2048){an(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,u=i.onPostCommit;typeof u=="function"&&u(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ht(t,t.return,N)}}else an(e,t,l,a);break;case 31:an(e,t,l,a);break;case 13:an(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?an(e,t,l,a):si(e,t):i._visibility&2?an(e,t,l,a):(i._visibility|=2,us(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&to(c,t);break;case 24:an(e,t,l,a),s&2048&&lo(t.alternate,t);break;default:an(e,t,l,a)}}function us(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,u=l,N=a,V=c.flags;switch(c.tag){case 0:case 11:case 15:us(i,c,u,N,s),ni(8,c);break;case 23:break;case 22:var F=c.stateNode;c.memoizedState!==null?F._visibility&2?us(i,c,u,N,s):si(i,c):(F._visibility|=2,us(i,c,u,N,s)),s&&V&2048&&to(c.alternate,c);break;case 24:us(i,c,u,N,s),s&&V&2048&&lo(c.alternate,c);break;default:us(i,c,u,N,s)}t=t.sibling}}function si(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:si(l,a),s&2048&&to(a.alternate,a);break;case 24:si(l,a),s&2048&&lo(a.alternate,a);break;default:si(l,a)}t=t.sibling}}var ii=8192;function ds(e,t,l){if(e.subtreeFlags&ii)for(e=e.child;e!==null;)b0(e,t,l),e=e.sibling}function b0(e,t,l){switch(e.tag){case 26:ds(e,t,l),e.flags&ii&&e.memoizedState!==null&&Kx(l,nn,e.memoizedState,e.memoizedProps);break;case 5:ds(e,t,l);break;case 3:case 4:var a=nn;nn=vc(e.stateNode.containerInfo),ds(e,t,l),nn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ii,ii=16777216,ds(e,t,l),ii=a):ds(e,t,l));break;default:ds(e,t,l)}}function g0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ci(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];el=a,N0(a,e)}g0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v0(e),e=e.sibling}function v0(e){switch(e.tag){case 0:case 11:case 15:ci(e),e.flags&2048&&aa(9,e,e.return);break;case 3:ci(e);break;case 12:ci(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ic(e)):ci(e);break;default:ci(e)}}function ic(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];el=a,N0(a,e)}g0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:aa(8,t,t.return),ic(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ic(t));break;default:ic(t)}e=e.sibling}}function N0(e,t){for(;el!==null;){var l=el;switch(l.tag){case 0:case 11:case 15:aa(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Gs(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,el=a;else e:for(l=e;el!==null;){a=el;var s=a.sibling,i=a.return;if(u0(a),a===l){el=null;break e}if(s!==null){s.return=i,el=s;break e}el=i}}}var ux={getCacheForType:function(e){var t=sl(It),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return sl(It).controller.signal}},dx=typeof WeakMap=="function"?WeakMap:Map,ct=0,Ct=null,Qe=null,We=0,pt=0,Bl=null,sa=!1,fs=!1,no=!1,kn=0,kt=0,ia=0,Fa=0,ao=0,Hl=0,ms=0,ri=null,Tl=null,so=!1,cc=0,j0=0,rc=1/0,oc=null,ca=null,Wt=0,ra=null,xs=null,Ln=0,io=0,co=null,C0=null,oi=0,ro=null;function zl(){return(ct&2)!==0&&We!==0?We&-We:S.T!==null?po():ot()}function y0(){if(Hl===0)if((We&536870912)===0||lt){var e=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),Hl=e}else Hl=536870912;return e=kl.current,e!==null&&(e.flags|=32),Hl}function Ol(e,t,l){(e===Ct&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(ps(e,0),oa(e,We,Hl,!1)),tl(e,l),((ct&2)===0||e!==Ct)&&(e===Ct&&((ct&2)===0&&(Fa|=l),kt===4&&oa(e,We,Hl,!1)),vn(e))}function A0(e,t,l){if((ct&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||ut(e,t),s=a?xx(e,t):uo(e,t,!0),i=a;do{if(s===0){fs&&!a&&oa(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!fx(l)){s=uo(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var u=e;s=ri;var N=u.current.memoizedState.isDehydrated;if(N&&(ps(u,c).flags|=256),c=uo(u,c,!1),c!==2){if(no&&!N){u.errorRecoveryDisabledLanes|=i,Fa|=i,s=4;break e}i=Tl,Tl=s,i!==null&&(Tl===null?Tl=i:Tl.push.apply(Tl,i))}s=c}if(i=!1,s!==2)continue}}if(s===1){ps(e,0),oa(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:oa(a,t,Hl,!sa);break e;case 2:Tl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=cc+300-at(),10<s)){if(oa(a,t,Hl,!sa),yt(a,0,!0)!==0)break e;Ln=t,a.timeoutHandle=tf(S0.bind(null,a,l,Tl,oc,so,t,Hl,Fa,ms,sa,i,"Throttled",-0,0),s);break e}S0(a,l,Tl,oc,so,t,Hl,Fa,ms,sa,i,null,-0,0)}}break}while(!0);vn(e)}function S0(e,t,l,a,s,i,c,u,N,V,F,X,B,P){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fl},b0(t,i,X);var je=(i&62914560)===i?cc-at():(i&4194048)===i?j0-at():0;if(je=Qx(X,je),je!==null){Ln=i,e.cancelPendingCommit=je(_0.bind(null,e,t,i,l,a,s,c,u,N,F,X,null,B,P)),oa(e,i,c,!V);return}}_0(e,t,i,l,a,s,c,u,N)}function fx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],i=s.getSnapshot;s=s.value;try{if(!Dl(i(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t,l,a){t&=~ao,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-ve(s),c=1<<i;a[i]=-1,s&=~c}l!==0&&Os(e,l,t)}function uc(){return(ct&6)===0?(ui(0),!1):!0}function oo(){if(Qe!==null){if(pt===0)var e=Qe.return;else e=Qe,En=Da=null,Sr(e),ss=null,Is=0,e=Qe;for(;e!==null;)l0(e.alternate,e),e=e.return;Qe=null}}function ps(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ux(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ln=0,oo(),Ct=e,Qe=l=An(e.current,null),We=t,pt=0,Bl=null,sa=!1,fs=ut(e,t),no=!1,ms=Hl=ao=Fa=ia=kt=0,Tl=ri=null,so=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-ve(a),i=1<<s;t|=e[s],a&=~i}return kn=t,Ri(),l}function E0(e,t){Ie=null,S.H=ei,t===as||t===Hi?(t=Pu(),pt=3):t===mr?(t=Pu(),pt=4):pt=t===qr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bl=t,Qe===null&&(kt=1,Wi(e,Il(t,e.current)))}function M0(){var e=kl.current;return e===null?!0:(We&4194048)===We?Ql===null:(We&62914560)===We||(We&536870912)!==0?e===Ql:!1}function w0(){var e=S.H;return S.H=ei,e===null?ei:e}function T0(){var e=S.A;return S.A=ux,e}function dc(){kt=4,sa||(We&4194048)!==We&&kl.current!==null||(fs=!0),(ia&134217727)===0&&(Fa&134217727)===0||Ct===null||oa(Ct,We,Hl,!1)}function uo(e,t,l){var a=ct;ct|=2;var s=w0(),i=T0();(Ct!==e||We!==t)&&(oc=null,ps(e,t)),t=!1;var c=kt;e:do try{if(pt!==0&&Qe!==null){var u=Qe,N=Bl;switch(pt){case 8:oo(),c=6;break e;case 3:case 2:case 9:case 6:kl.current===null&&(t=!0);var V=pt;if(pt=0,Bl=null,hs(e,u,N,V),l&&fs){c=0;break e}break;default:V=pt,pt=0,Bl=null,hs(e,u,N,V)}}mx(),c=kt;break}catch(F){E0(e,F)}while(!0);return t&&e.shellSuspendCounter++,En=Da=null,ct=a,S.H=s,S.A=i,Qe===null&&(Ct=null,We=0,Ri()),c}function mx(){for(;Qe!==null;)O0(Qe)}function xx(e,t){var l=ct;ct|=2;var a=w0(),s=T0();Ct!==e||We!==t?(oc=null,rc=at()+500,ps(e,t)):fs=ut(e,t);e:do try{if(pt!==0&&Qe!==null){t=Qe;var i=Bl;t:switch(pt){case 1:pt=0,Bl=null,hs(e,t,i,1);break;case 2:case 9:if(zu(i)){pt=0,Bl=null,R0(t);break}t=function(){pt!==2&&pt!==9||Ct!==e||(pt=7),vn(e)},i.then(t,t);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:zu(i)?(pt=0,Bl=null,R0(t)):(pt=0,Bl=null,hs(e,t,i,7));break;case 5:var c=null;switch(Qe.tag){case 26:c=Qe.memoizedState;case 5:case 27:var u=Qe;if(c?bf(c):u.stateNode.complete){pt=0,Bl=null;var N=u.sibling;if(N!==null)Qe=N;else{var V=u.return;V!==null?(Qe=V,fc(V)):Qe=null}break t}}pt=0,Bl=null,hs(e,t,i,5);break;case 6:pt=0,Bl=null,hs(e,t,i,6);break;case 8:oo(),kt=6;break e;default:throw Error(o(462))}}px();break}catch(F){E0(e,F)}while(!0);return En=Da=null,S.H=a,S.A=s,ct=l,Qe!==null?0:(Ct=null,We=0,Ri(),kt)}function px(){for(;Qe!==null&&!rt();)O0(Qe)}function O0(e){var t=e0(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?fc(e):Qe=t}function R0(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Zd(l,t,t.pendingProps,t.type,void 0,We);break;case 11:t=Zd(l,t,t.pendingProps,t.type.render,t.ref,We);break;case 5:Sr(t);default:l0(l,t),t=Qe=Tu(t,kn),t=e0(l,t,kn)}e.memoizedProps=e.pendingProps,t===null?fc(e):Qe=t}function hs(e,t,l,a){En=Da=null,Sr(t),ss=null,Is=0;var s=t.return;try{if(nx(e,s,t,l,We)){kt=1,Wi(e,Il(l,e.current)),Qe=null;return}}catch(i){if(s!==null)throw Qe=s,i;kt=1,Wi(e,Il(l,e.current)),Qe=null;return}t.flags&32768?(lt||a===1?e=!0:fs||(We&536870912)!==0?e=!1:(sa=e=!0,(a===2||a===9||a===3||a===6)&&(a=kl.current,a!==null&&a.tag===13&&(a.flags|=16384))),U0(t,e)):fc(t)}function fc(e){var t=e;do{if((t.flags&32768)!==0){U0(t,sa);return}e=t.return;var l=ix(t.alternate,t,kn);if(l!==null){Qe=l;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);kt===0&&(kt=5)}function U0(e,t){do{var l=cx(e.alternate,e);if(l!==null){l.flags&=32767,Qe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Qe=e;return}Qe=e=l}while(e!==null);kt=6,Qe=null}function _0(e,t,l,a,s,i,c,u,N){e.cancelPendingCommit=null;do mc();while(Wt!==0);if((ct&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=Jc,Ts(e,l,i,c,u,N),e===Ct&&(Qe=Ct=null,We=0),xs=t,ra=e,Ln=l,io=i,co=s,C0=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vx($t,function(){return B0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,s=y.p,y.p=2,c=ct,ct|=4;try{rx(e,t,l)}finally{ct=c,y.p=s,S.T=a}}Wt=1,D0(),V0(),k0()}}function D0(){if(Wt===1){Wt=0;var e=ra,t=xs,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=S.T,S.T=null;var a=y.p;y.p=2;var s=ct;ct|=4;try{x0(t,e);var i=yo,c=Nu(e.containerInfo),u=i.focusedElem,N=i.selectionRange;if(c!==u&&u&&u.ownerDocument&&vu(u.ownerDocument.documentElement,u)){if(N!==null&&Xc(u)){var V=N.start,F=N.end;if(F===void 0&&(F=V),"selectionStart"in u)u.selectionStart=V,u.selectionEnd=Math.min(F,u.value.length);else{var X=u.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var P=B.getSelection(),je=u.textContent.length,De=Math.min(N.start,je),Nt=N.end===void 0?De:Math.min(N.end,je);!P.extend&&De>Nt&&(c=Nt,Nt=De,De=c);var E=gu(u,De),C=gu(u,Nt);if(E&&C&&(P.rangeCount!==1||P.anchorNode!==E.node||P.anchorOffset!==E.offset||P.focusNode!==C.node||P.focusOffset!==C.offset)){var D=X.createRange();D.setStart(E.node,E.offset),P.removeAllRanges(),De>Nt?(P.addRange(D),P.extend(C.node,C.offset)):(D.setEnd(C.node,C.offset),P.addRange(D))}}}}for(X=[],P=u;P=P.parentNode;)P.nodeType===1&&X.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<X.length;u++){var Y=X[u];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Sc=!!Co,yo=Co=null}finally{ct=s,y.p=a,S.T=l}}e.current=t,Wt=2}}function V0(){if(Wt===2){Wt=0;var e=ra,t=xs,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=S.T,S.T=null;var a=y.p;y.p=2;var s=ct;ct|=4;try{o0(e,t.alternate,t)}finally{ct=s,y.p=a,S.T=l}}Wt=3}}function k0(){if(Wt===4||Wt===3){Wt=0,jt();var e=ra,t=xs,l=Ln,a=C0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Wt=5:(Wt=0,xs=ra=null,L0(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ca=null),dt(l),t=t.stateNode,$&&typeof $.onCommitFiberRoot=="function")try{$.onCommitFiberRoot(rl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=S.T,s=y.p,y.p=2,S.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var u=a[c];i(u.value,{componentStack:u.stack})}}finally{S.T=t,y.p=s}}(Ln&3)!==0&&mc(),vn(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===ro?oi++:(oi=0,ro=e):oi=0,ui(0)}}function L0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gs(t)))}function mc(){return D0(),V0(),k0(),B0()}function B0(){if(Wt!==5)return!1;var e=ra,t=io;io=0;var l=dt(Ln),a=S.T,s=y.p;try{y.p=32>l?32:l,S.T=null,l=co,co=null;var i=ra,c=Ln;if(Wt=0,xs=ra=null,Ln=0,(ct&6)!==0)throw Error(o(331));var u=ct;if(ct|=4,v0(i.current),h0(i,i.current,c,l),ct=u,ui(0,!1),$&&typeof $.onPostCommitFiberRoot=="function")try{$.onPostCommitFiberRoot(rl,i)}catch{}return!0}finally{y.p=s,S.T=a,L0(e,t)}}function H0(e,t,l){t=Il(l,t),t=zr(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(tl(e,2),vn(e))}function ht(e,t,l){if(e.tag===3)H0(e,e,l);else for(;t!==null;){if(t.tag===3){H0(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ca===null||!ca.has(a))){e=Il(l,e),l=zd(2),a=ta(t,l,2),a!==null&&(qd(l,a,t,e),tl(a,2),vn(a));break}}t=t.return}}function fo(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new dx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(no=!0,s.add(l),e=hx.bind(null,e,t,l),t.then(e,e))}function hx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ct===e&&(We&l)===l&&(kt===4||kt===3&&(We&62914560)===We&&300>at()-cc?(ct&2)===0&&ps(e,0):ao|=l,ms===We&&(ms=0)),vn(e)}function z0(e,t){t===0&&(t=Pl()),e=Ra(e,t),e!==null&&(tl(e,t),vn(e))}function bx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),z0(e,l)}function gx(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),z0(e,l)}function vx(e,t){return Pe(e,t)}var xc=null,bs=null,mo=!1,pc=!1,xo=!1,ua=0;function vn(e){e!==bs&&e.next===null&&(bs===null?xc=bs=e:bs=bs.next=e),pc=!0,mo||(mo=!0,jx())}function ui(e,t){if(!xo&&pc){xo=!0;do for(var l=!1,a=xc;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var c=a.suspendedLanes,u=a.pingedLanes;i=(1<<31-ve(42|e)+1)-1,i&=s&~(c&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,G0(a,i))}else i=We,i=yt(a,a===Ct?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||ut(a,i)||(l=!0,G0(a,i));a=a.next}while(l);xo=!1}}function Nx(){q0()}function q0(){pc=mo=!1;var e=0;ua!==0&&Rx()&&(e=ua);for(var t=at(),l=null,a=xc;a!==null;){var s=a.next,i=P0(a,t);i===0?(a.next=null,l===null?xc=s:l.next=s,s===null&&(bs=l)):(l=a,(e!==0||(i&3)!==0)&&(pc=!0)),a=s}Wt!==0&&Wt!==5||ui(e),ua!==0&&(ua=0)}function P0(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-ve(i),u=1<<c,N=s[c];N===-1?((u&l)===0||(u&a)!==0)&&(s[c]=Ul(u,t)):N<=t&&(e.expiredLanes|=u),i&=~u}if(t=Ct,l=We,l=yt(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ge(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ut(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ge(a),dt(l)){case 2:case 8:l=Rl;break;case 32:l=$t;break;case 268435456:l=ql;break;default:l=$t}return a=F0.bind(null,e),l=Pe(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ge(a),e.callbackPriority=2,e.callbackNode=null,2}function F0(e,t){if(Wt!==0&&Wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(mc()&&e.callbackNode!==l)return null;var a=We;return a=yt(e,e===Ct?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(A0(e,a,t),P0(e,at()),e.callbackNode!=null&&e.callbackNode===l?F0.bind(null,e):null)}function G0(e,t){if(mc())return null;A0(e,t,!0)}function jx(){_x(function(){(ct&6)!==0?Pe(wt,Nx):q0()})}function po(){if(ua===0){var e=ls;e===0&&(e=Lt,Lt<<=1,(Lt&261888)===0&&(Lt=256)),ua=e}return ua}function Y0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function I0(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Cx(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var i=Y0((s[ll]||null).action),c=a.submitter;c&&(t=(t=c[ll]||null)?Y0(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var u=new bl("action","action",null,a,s);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ua!==0){var N=c?I0(s,c):new FormData(s);Dr(l,{pending:!0,data:N,method:s.method,action:i},null,N)}}else typeof i=="function"&&(u.preventDefault(),N=c?I0(s,c):new FormData(s),Dr(l,{pending:!0,data:N,method:s.method,action:i},i,N))},currentTarget:s}]})}}for(var ho=0;ho<$c.length;ho++){var bo=$c[ho],yx=bo.toLowerCase(),Ax=bo[0].toUpperCase()+bo.slice(1);ln(yx,"on"+Ax)}ln(yu,"onAnimationEnd"),ln(Au,"onAnimationIteration"),ln(Su,"onAnimationStart"),ln("dblclick","onDoubleClick"),ln("focusin","onFocus"),ln("focusout","onBlur"),ln(zm,"onTransitionRun"),ln(qm,"onTransitionStart"),ln(Pm,"onTransitionCancel"),ln(Eu,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function X0(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var u=a[c],N=u.instance,V=u.currentTarget;if(u=u.listener,N!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=V;try{i(s)}catch(F){Oi(F)}s.currentTarget=null,i=N}else for(c=0;c<a.length;c++){if(u=a[c],N=u.instance,V=u.currentTarget,u=u.listener,N!==i&&s.isPropagationStopped())break e;i=u,s.currentTarget=V;try{i(s)}catch(F){Oi(F)}s.currentTarget=null,i=N}}}}function $e(e,t){var l=t[cn];l===void 0&&(l=t[cn]=new Set);var a=e+"__bubble";l.has(a)||(Z0(t,e,2,!1),l.add(a))}function go(e,t,l){var a=0;t&&(a|=4),Z0(l,e,a,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function vo(e){if(!e[hc]){e[hc]=!0,Us.forEach(function(l){l!=="selectionchange"&&(Sx.has(l)||go(l,!1,e),go(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hc]||(t[hc]=!0,go("selectionchange",!1,t))}}function Z0(e,t,l,a){switch(Af(t)){case 2:var s=Wx;break;case 8:s=ep;break;default:s=Do}l=s.bind(null,t,l,e),s=void 0,!Sa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function No(e,t,l,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var u=a.stateNode.containerInfo;if(u===s)break;if(c===4)for(c=a.return;c!==null;){var N=c.tag;if((N===3||N===4)&&c.stateNode.containerInfo===s)return;c=c.return}for(;u!==null;){if(c=Pn(u),c===null)return;if(N=c.tag,N===5||N===6||N===26||N===27){a=i=c;continue e}u=u.parentNode}}a=a.return}Aa(function(){var V=i,F=Mi(l),X=[];e:{var B=Mu.get(e);if(B!==void 0){var P=bl,je=e;switch(e){case"keypress":if(Al(l)===0)break e;case"keydown":case"keyup":P=gm;break;case"focusin":je="focus",P=mn;break;case"focusout":je="blur",P=mn;break;case"beforeblur":case"afterblur":P=mn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Te;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=jm;break;case yu:case Au:case Su:P=xn;break;case Eu:P=ym;break;case"scroll":case"scrollend":P=ks;break;case"wheel":P=Sm;break;case"copy":case"cut":case"paste":P=gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=au;break;case"toggle":case"beforetoggle":P=Mm}var De=(t&4)!==0,Nt=!De&&(e==="scroll"||e==="scrollend"),E=De?B!==null?B+"Capture":null:B;De=[];for(var C=V,D;C!==null;){var Y=C;if(D=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||D===null||E===null||(Y=In(C,E),Y!=null&&De.push(fi(C,Y,D))),Nt)break;C=C.return}0<De.length&&(B=new P(B,je,null,l,F),X.push({event:B,listeners:De}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",B&&l!==ya&&(je=l.relatedTarget||l.fromElement)&&(Pn(je)||je[jn]))break e;if((P||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,P?(je=l.relatedTarget||l.toElement,P=V,je=je?Pn(je):null,je!==null&&(Nt=g(je),De=je.tag,je!==Nt||De!==5&&De!==27&&De!==6)&&(je=null)):(P=null,je=V),P!==je)){if(De=Te,Y="onMouseLeave",E="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(De=au,Y="onPointerLeave",E="onPointerEnter",C="pointer"),Nt=P==null?B:Na(P),D=je==null?B:Na(je),B=new De(Y,C+"leave",P,l,F),B.target=Nt,B.relatedTarget=D,Y=null,Pn(F)===V&&(De=new De(E,C+"enter",je,l,F),De.target=D,De.relatedTarget=Nt,Y=De),Nt=Y,P&&je)t:{for(De=Ex,E=P,C=je,D=0,Y=E;Y;Y=De(Y))D++;Y=0;for(var Oe=C;Oe;Oe=De(Oe))Y++;for(;0<D-Y;)E=De(E),D--;for(;0<Y-D;)C=De(C),Y--;for(;D--;){if(E===C||C!==null&&E===C.alternate){De=E;break t}E=De(E),C=De(C)}De=null}else De=null;P!==null&&K0(X,B,P,De,!1),je!==null&&Nt!==null&&K0(X,Nt,je,De,!0)}}e:{if(B=V?Na(V):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var st=fu;else if(uu(B))if(mu)st=Lm;else{st=Vm;var Se=Dm}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?V&&ze(V.elementType)&&(st=fu):st=km;if(st&&(st=st(e,V))){du(X,st,l,F);break e}Se&&Se(e,B,V),e==="focusout"&&V&&B.type==="number"&&V.memoizedProps.value!=null&&mt(B,"number",B.value)}switch(Se=V?Na(V):window,e){case"focusin":(uu(Se)||Se.contentEditable==="true")&&(Za=Se,Zc=V,qs=null);break;case"focusout":qs=Zc=Za=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,ju(X,l,F);break;case"selectionchange":if(Hm)break;case"keydown":case"keyup":ju(X,l,F)}var Ze;if(Gc)e:{switch(e){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Xa?ru(e,l)&&(et="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(et="onCompositionStart");et&&(su&&l.locale!=="ko"&&(Xa||et!=="onCompositionStart"?et==="onCompositionEnd"&&Xa&&(Ze=dn()):(un=F,Xn="value"in un?un.value:un.textContent,Xa=!0)),Se=bc(V,et),0<Se.length&&(et=new vl(et,e,null,l,F),X.push({event:et,listeners:Se}),Ze?et.data=Ze:(Ze=ou(l),Ze!==null&&(et.data=Ze)))),(Ze=Tm?Om(e,l):Rm(e,l))&&(et=bc(V,"onBeforeInput"),0<et.length&&(Se=new vl("onBeforeInput","beforeinput",null,l,F),X.push({event:Se,listeners:et}),Se.data=Ze)),Cx(X,e,V,l,F)}X0(X,t)})}function fi(e,t,l){return{instance:e,listener:t,currentTarget:l}}function bc(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=In(e,l),s!=null&&a.unshift(fi(e,s,i)),s=In(e,t),s!=null&&a.push(fi(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function K0(e,t,l,a,s){for(var i=t._reactName,c=[];l!==null&&l!==a;){var u=l,N=u.alternate,V=u.stateNode;if(u=u.tag,N!==null&&N===a)break;u!==5&&u!==26&&u!==27||V===null||(N=V,s?(V=In(l,i),V!=null&&c.unshift(fi(l,V,N))):s||(V=In(l,i),V!=null&&c.push(fi(l,V,N)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var Mx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function Q0(e){return(typeof e=="string"?e:""+e).replace(Mx,`
`).replace(wx,"")}function $0(e,t){return t=Q0(t),Q0(e)===t}function vt(e,t,l,a,s,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||St(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&St(e,""+a);break;case"className":Ca(e,"class",a);break;case"tabIndex":Ca(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ca(e,l,a);break;case"style":xt(e,a,i);break;case"data":if(t!=="object"){Ca(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&vt(e,t,"name",s.name,s,null),vt(e,t,"formEncType",s.formEncType,s,null),vt(e,t,"formMethod",s.formMethod,s,null),vt(e,t,"formTarget",s.formTarget,s,null)):(vt(e,t,"encType",s.encType,s,null),vt(e,t,"method",s.method,s,null),vt(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=hl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Fl);break;case"onScroll":a!=null&&$e("scroll",e);break;case"onScrollEnd":a!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=hl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":$e("beforetoggle",e),$e("toggle",e),ja(e,"popover",a);break;case"xlinkActuate":m(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":m(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":m(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":m(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":m(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":m(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":m(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":m(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":m(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ja(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=on.get(l)||l,ja(e,l,a))}}function jo(e,t,l,a,s,i){switch(l){case"style":xt(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?St(e,a):(typeof a=="number"||typeof a=="bigint")&&St(e,""+a);break;case"onScroll":a!=null&&$e("scroll",e);break;case"onScrollEnd":a!=null&&$e("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),i=e[ll]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ja(e,l,a)}}}function cl(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var a=!1,s=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:vt(e,t,i,c,l,null)}}s&&vt(e,t,"srcSet",l.srcSet,l,null),a&&vt(e,t,"src",l.src,l,null);return;case"input":$e("invalid",e);var u=i=c=s=null,N=null,V=null;for(a in l)if(l.hasOwnProperty(a)){var F=l[a];if(F!=null)switch(a){case"name":s=F;break;case"type":c=F;break;case"checked":N=F;break;case"defaultChecked":V=F;break;case"value":i=F;break;case"defaultValue":u=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:vt(e,t,a,F,l,null)}}Rt(e,i,u,N,V,c,s,!1);return;case"select":$e("invalid",e),a=c=i=null;for(s in l)if(l.hasOwnProperty(s)&&(u=l[s],u!=null))switch(s){case"value":i=u;break;case"defaultValue":c=u;break;case"multiple":a=u;default:vt(e,t,s,u,l,null)}t=i,l=c,e.multiple=!!a,t!=null?_t(e,!!a,t,!1):l!=null&&_t(e,!!a,l,!0);return;case"textarea":$e("invalid",e),i=s=a=null;for(c in l)if(l.hasOwnProperty(c)&&(u=l[c],u!=null))switch(c){case"value":a=u;break;case"defaultValue":s=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:vt(e,t,c,u,l,null)}Gt(e,a,s,i);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(a=l[N],a!=null))switch(N){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:vt(e,t,N,a,l,null)}return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(a=0;a<di.length;a++)$e(di[a],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(a=l[V],a!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:vt(e,t,V,a,l,null)}return;default:if(ze(t)){for(F in l)l.hasOwnProperty(F)&&(a=l[F],a!==void 0&&jo(e,t,F,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&vt(e,t,u,a,l,null))}function Tx(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,c=null,u=null,N=null,V=null,F=null;for(P in l){var X=l[P];if(l.hasOwnProperty(P)&&X!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":N=X;default:a.hasOwnProperty(P)||vt(e,t,P,null,a,X)}}for(var B in a){var P=a[B];if(X=l[B],a.hasOwnProperty(B)&&(P!=null||X!=null))switch(B){case"type":i=P;break;case"name":s=P;break;case"checked":V=P;break;case"defaultChecked":F=P;break;case"value":c=P;break;case"defaultValue":u=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,t));break;default:P!==X&&vt(e,t,B,P,a,X)}}At(e,c,u,N,V,F,i,s);return;case"select":P=c=u=B=null;for(i in l)if(N=l[i],l.hasOwnProperty(i)&&N!=null)switch(i){case"value":break;case"multiple":P=N;default:a.hasOwnProperty(i)||vt(e,t,i,null,a,N)}for(s in a)if(i=a[s],N=l[s],a.hasOwnProperty(s)&&(i!=null||N!=null))switch(s){case"value":B=i;break;case"defaultValue":u=i;break;case"multiple":c=i;default:i!==N&&vt(e,t,s,i,a,N)}t=u,l=c,a=P,B!=null?_t(e,!!l,B,!1):!!a!=!!l&&(t!=null?_t(e,!!l,t,!0):_t(e,!!l,l?[]:"",!1));return;case"textarea":P=B=null;for(u in l)if(s=l[u],l.hasOwnProperty(u)&&s!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:vt(e,t,u,null,a,s)}for(c in a)if(s=a[c],i=l[c],a.hasOwnProperty(c)&&(s!=null||i!=null))switch(c){case"value":B=s;break;case"defaultValue":P=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==i&&vt(e,t,c,s,a,i)}Ht(e,B,P);return;case"option":for(var je in l)if(B=l[je],l.hasOwnProperty(je)&&B!=null&&!a.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:vt(e,t,je,null,a,B)}for(N in a)if(B=a[N],P=l[N],a.hasOwnProperty(N)&&B!==P&&(B!=null||P!=null))switch(N){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:vt(e,t,N,B,a,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)B=l[De],l.hasOwnProperty(De)&&B!=null&&!a.hasOwnProperty(De)&&vt(e,t,De,null,a,B);for(V in a)if(B=a[V],P=l[V],a.hasOwnProperty(V)&&B!==P&&(B!=null||P!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:vt(e,t,V,B,a,P)}return;default:if(ze(t)){for(var Nt in l)B=l[Nt],l.hasOwnProperty(Nt)&&B!==void 0&&!a.hasOwnProperty(Nt)&&jo(e,t,Nt,void 0,a,B);for(F in a)B=a[F],P=l[F],!a.hasOwnProperty(F)||B===P||B===void 0&&P===void 0||jo(e,t,F,B,a,P);return}}for(var E in l)B=l[E],l.hasOwnProperty(E)&&B!=null&&!a.hasOwnProperty(E)&&vt(e,t,E,null,a,B);for(X in a)B=a[X],P=l[X],!a.hasOwnProperty(X)||B===P||B==null&&P==null||vt(e,t,X,B,a,P)}function J0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ox(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],i=s.transferSize,c=s.initiatorType,u=s.duration;if(i&&u&&J0(c)){for(c=0,u=s.responseEnd,a+=1;a<l.length;a++){var N=l[a],V=N.startTime;if(V>u)break;var F=N.transferSize,X=N.initiatorType;F&&J0(X)&&(N=N.responseEnd,c+=F*(N<u?1:(u-V)/(N-V)))}if(--a,t+=8*(i+c)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Co=null,yo=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function W0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ef(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=null;function Rx(){var e=window.event;return e&&e.type==="popstate"?e===So?!1:(So=e,!0):(So=null,!1)}var tf=typeof setTimeout=="function"?setTimeout:void 0,Ux=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,_x=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(Dx)}:tf;function Dx(e){setTimeout(function(){throw e})}function da(e){return e==="head"}function nf(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),js(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")mi(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,mi(l);for(var i=l.firstChild;i;){var c=i.nextSibling,u=i.nodeName;i[qn]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&mi(e.ownerDocument.body);l=s}while(l);js(t)}function af(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Eo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eo(l),Rs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Vx(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[qn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=$l(e.nextSibling),e===null)break}return null}function kx(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=$l(e.nextSibling),e===null))return null;return e}function sf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$l(e.nextSibling),e===null))return null;return e}function Mo(e){return e.data==="$?"||e.data==="$~"}function wo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lx(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function $l(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var To=null;function cf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return $l(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function of(e,t,l){switch(t=gc(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rs(e)}var Jl=new Map,uf=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=y.d;y.d={f:Bx,r:Hx,D:zx,C:qx,L:Px,m:Fx,X:Yx,S:Gx,M:Ix};function Bx(){var e=Bn.f(),t=uc();return e||t}function Hx(e){var t=Fn(e);t!==null&&t.tag===5&&t.type==="form"?Ed(t):Bn.r(e)}var gs=typeof document>"u"?null:document;function df(e,t,l){var a=gs;if(a&&typeof t=="string"&&t){var s=Ye(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),uf.has(s)||(uf.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),cl(t,"link",e),Bt(t),a.head.appendChild(t)))}}function zx(e){Bn.D(e),df("dns-prefetch",e,null)}function qx(e,t){Bn.C(e,t),df("preconnect",e,t)}function Px(e,t,l){Bn.L(e,t,l);var a=gs;if(a&&e&&t){var s='link[rel="preload"][as="'+Ye(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+Ye(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+Ye(l.imageSizes)+'"]')):s+='[href="'+Ye(e)+'"]';var i=s;switch(t){case"style":i=vs(e);break;case"script":i=Ns(e)}Jl.has(i)||(e=R({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Jl.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(xi(i))||t==="script"&&a.querySelector(pi(i))||(t=a.createElement("link"),cl(t,"link",e),Bt(t),a.head.appendChild(t)))}}function Fx(e,t){Bn.m(e,t);var l=gs;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ye(a)+'"][href="'+Ye(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ns(e)}if(!Jl.has(i)&&(e=R({rel:"modulepreload",href:e},t),Jl.set(i,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pi(i)))return}a=l.createElement("link"),cl(a,"link",e),Bt(a),l.head.appendChild(a)}}}function Gx(e,t,l){Bn.S(e,t,l);var a=gs;if(a&&e){var s=Cn(a).hoistableStyles,i=vs(e);t=t||"default";var c=s.get(i);if(!c){var u={loading:0,preload:null};if(c=a.querySelector(xi(i)))u.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Jl.get(i))&&Oo(e,l);var N=c=a.createElement("link");Bt(N),cl(N,"link",e),N._p=new Promise(function(V,F){N.onload=V,N.onerror=F}),N.addEventListener("load",function(){u.loading|=1}),N.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Nc(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:u},s.set(i,c)}}}function Yx(e,t){Bn.X(e,t);var l=gs;if(l&&e){var a=Cn(l).hoistableScripts,s=Ns(e),i=a.get(s);i||(i=l.querySelector(pi(s)),i||(e=R({src:e,async:!0},t),(t=Jl.get(s))&&Ro(e,t),i=l.createElement("script"),Bt(i),cl(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Ix(e,t){Bn.M(e,t);var l=gs;if(l&&e){var a=Cn(l).hoistableScripts,s=Ns(e),i=a.get(s);i||(i=l.querySelector(pi(s)),i||(e=R({src:e,async:!0,type:"module"},t),(t=Jl.get(s))&&Ro(e,t),i=l.createElement("script"),Bt(i),cl(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function ff(e,t,l,a){var s=(s=se.current)?vc(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=vs(l.href),l=Cn(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=vs(l.href);var i=Cn(s).hoistableStyles,c=i.get(e);if(c||(s=s.ownerDocument||s,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=s.querySelector(xi(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Jl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jl.set(e,l),i||Xx(s,e,l,c.state))),t&&a===null)throw Error(o(528,""));return c}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ns(l),l=Cn(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function vs(e){return'href="'+Ye(e)+'"'}function xi(e){return'link[rel="stylesheet"]['+e+"]"}function mf(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Xx(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),cl(t,"link",l),Bt(t),e.head.appendChild(t))}function Ns(e){return'[src="'+Ye(e)+'"]'}function pi(e){return"script[async]"+e}function xf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ye(l.href)+'"]');if(a)return t.instance=a,Bt(a),a;var s=R({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Bt(a),cl(a,"style",s),Nc(a,l.precedence,e),t.instance=a;case"stylesheet":s=vs(l.href);var i=e.querySelector(xi(s));if(i)return t.state.loading|=4,t.instance=i,Bt(i),i;a=mf(l),(s=Jl.get(s))&&Oo(a,s),i=(e.ownerDocument||e).createElement("link"),Bt(i);var c=i;return c._p=new Promise(function(u,N){c.onload=u,c.onerror=N}),cl(i,"link",a),t.state.loading|=4,Nc(i,l.precedence,e),t.instance=i;case"script":return i=Ns(l.src),(s=e.querySelector(pi(i)))?(t.instance=s,Bt(s),s):(a=l,(s=Jl.get(i))&&(a=R({},l),Ro(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),Bt(s),cl(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Nc(a,l.precedence,e));return t.instance}function Nc(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,c=0;c<a.length;c++){var u=a[c];if(u.dataset.precedence===t)i=u;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ro(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jc=null;function pf(e,t,l){if(jc===null){var a=new Map,s=jc=new Map;s.set(l,a)}else s=jc,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var i=l[s];if(!(i[qn]||i[Ft]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var u=a.get(c);u?u.push(i):a.set(c,[i])}}return a}function hf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Zx(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kx(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=vs(a.href),i=t.querySelector(xi(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cc.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Bt(i);return}i=t.ownerDocument||t,a=mf(a),(s=Jl.get(s))&&Oo(a,s),i=i.createElement("link"),Bt(i);var c=i;c._p=new Promise(function(u,N){c.onload=u,c.onerror=N}),cl(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Cc.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Uo=0;function Qx(e,t){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Uo===0&&(Uo=62500*Ox());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Uo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function Ac(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,t.forEach($x,e),yc=null,Cc.call(e))}function $x(e,t){if(!(t.state.loading&4)){var l=yc.get(e);if(l)var a=l.get(null);else{l=new Map,yc.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var c=s[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}s=t.instance,c=s.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,s),l.set(c,s),this.count++,a=Cc.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var hi={$$typeof:te,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Jx(e,t,l,a,s,i,c,u,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.hiddenUpdates=_l(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gf(e,t,l,a,s,i,c,u,N,V,F,X){return e=new Jx(e,t,l,c,N,V,F,X,u),t=1,i===!0&&(t|=24),i=Vl(3,null,null,t),e.current=i,i.stateNode=e,t=ur(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},xr(i),e}function vf(e){return e?(e=$a,e):$a}function Nf(e,t,l,a,s,i){s=vf(s),a.context===null?a.context=s:a.pendingContext=s,a=ea(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=ta(e,a,t),l!==null&&(Ol(l,e,t),Zs(l,e,t))}function jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function _o(e,t){jf(e,t),(e=e.alternate)&&jf(e,t)}function Cf(e){if(e.tag===13||e.tag===31){var t=Ra(e,67108864);t!==null&&Ol(t,e,67108864),_o(e,67108864)}}function yf(e){if(e.tag===13||e.tag===31){var t=zl();t=sn(t);var l=Ra(e,t);l!==null&&Ol(l,e,t),_o(e,t)}}var Sc=!0;function Wx(e,t,l,a){var s=S.T;S.T=null;var i=y.p;try{y.p=2,Do(e,t,l,a)}finally{y.p=i,S.T=s}}function ep(e,t,l,a){var s=S.T;S.T=null;var i=y.p;try{y.p=8,Do(e,t,l,a)}finally{y.p=i,S.T=s}}function Do(e,t,l,a){if(Sc){var s=Vo(a);if(s===null)No(e,t,a,Ec,l),Sf(e,a);else if(lp(s,e,t,l,a))a.stopPropagation();else if(Sf(e,a),t&4&&-1<tp.indexOf(e)){for(;s!==null;){var i=Fn(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Ot(i.pendingLanes);if(c!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;c;){var N=1<<31-ve(c);u.entanglements[1]|=N,c&=~N}vn(i),(ct&6)===0&&(rc=at()+500,ui(0))}}break;case 31:case 13:u=Ra(i,2),u!==null&&Ol(u,i,2),uc(),_o(i,2)}if(i=Vo(a),i===null&&No(e,t,a,Ec,l),i===s)break;s=i}s!==null&&a.stopPropagation()}else No(e,t,a,null,l)}}function Vo(e){return e=Mi(e),ko(e)}var Ec=null;function ko(e){if(Ec=null,e=Pn(e),e!==null){var t=g(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=U(t),e!==null)return e;e=null}else if(l===31){if(e=w(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ec=e,null}function Af(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case wt:return 2;case Rl:return 8;case $t:case ml:return 32;case ql:return 268435456;default:return 32}default:return 32}}var Lo=!1,fa=null,ma=null,xa=null,bi=new Map,gi=new Map,pa=[],tp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sf(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function vi(e,t,l,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fn(t),t!==null&&Cf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lp(e,t,l,a,s){switch(t){case"focusin":return fa=vi(fa,e,t,l,a,s),!0;case"dragenter":return ma=vi(ma,e,t,l,a,s),!0;case"mouseover":return xa=vi(xa,e,t,l,a,s),!0;case"pointerover":var i=s.pointerId;return bi.set(i,vi(bi.get(i)||null,e,t,l,a,s)),!0;case"gotpointercapture":return i=s.pointerId,gi.set(i,vi(gi.get(i)||null,e,t,l,a,s)),!0}return!1}function Ef(e){var t=Pn(e.target);if(t!==null){var l=g(t);if(l!==null){if(t=l.tag,t===13){if(t=U(l),t!==null){e.blockedOn=t,xl(e.priority,function(){yf(l)});return}}else if(t===31){if(t=w(l),t!==null){e.blockedOn=t,xl(e.priority,function(){yf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Vo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ya=a,l.target.dispatchEvent(a),ya=null}else return t=Fn(l),t!==null&&Cf(t),e.blockedOn=l,!1;t.shift()}return!0}function Mf(e,t,l){Mc(e)&&l.delete(t)}function np(){Lo=!1,fa!==null&&Mc(fa)&&(fa=null),ma!==null&&Mc(ma)&&(ma=null),xa!==null&&Mc(xa)&&(xa=null),bi.forEach(Mf),gi.forEach(Mf)}function wc(e,t){e.blockedOn===t&&(e.blockedOn=null,Lo||(Lo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,np)))}var Tc=null;function wf(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(ko(a||l)===null)continue;break}var i=Fn(l);i!==null&&(e.splice(t,3),t-=3,Dr(i,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function js(e){function t(N){return wc(N,e)}fa!==null&&wc(fa,e),ma!==null&&wc(ma,e),xa!==null&&wc(xa,e),bi.forEach(t),gi.forEach(t);for(var l=0;l<pa.length;l++){var a=pa[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<pa.length&&(l=pa[0],l.blockedOn===null);)Ef(l),l.blockedOn===null&&pa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],i=l[a+1],c=s[ll]||null;if(typeof i=="function")c||wf(l);else if(c){var u=null;if(i&&i.hasAttribute("formAction")){if(s=i,c=i[ll]||null)u=c.formAction;else if(ko(s)!==null)continue}else u=c.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),wf(l)}}}function Tf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return s=c})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Bo(e){this._internalRoot=e}Oc.prototype.render=Bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=zl();Nf(l,a,e,t,null,null)},Oc.prototype.unmount=Bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nf(e.current,2,null,e,null,null),uc(),t[jn]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ot();e={blockedOn:null,target:e,priority:t};for(var l=0;l<pa.length&&t!==0&&t<pa[l].priority;l++);pa.splice(l,0,e),l===0&&Ef(e)}};var Of=f.version;if(Of!=="19.2.3")throw Error(o(527,Of,"19.2.3"));y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var ap={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{rl=Rc.inject(ap),$=Rc}catch{}}return ji.createRoot=function(e,t){if(!x(e))throw Error(o(299));var l=!1,a="",s=kd,i=Ld,c=Bd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=gf(e,1,!1,null,null,l,a,null,s,i,c,Tf),e[jn]=t.current,vo(e),new Bo(t)},ji.hydrateRoot=function(e,t,l){if(!x(e))throw Error(o(299));var a=!1,s="",i=kd,c=Ld,u=Bd,N=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),t=gf(e,1,!0,t,l??null,a,s,N,i,c,u,Tf),t.context=vf(null),l=t.current,a=zl(),a=sn(a),s=ea(a),s.callback=null,ta(l,s,a),l=a,t.current.lanes=l,tl(t,l),vn(t),e[jn]=t.current,vo(e),new Oc(t)},ji.version="19.2.3",ji}var zf;function pp(){if(zf)return qo.exports;zf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),qo.exports=xp(),qo.exports}var hp=pp(),ne=(r=>(r.NONE="None",r.ENPHASE="Enphase",r.APSYSTEMS="APSystems",r.FOXESS="FoxESS",r.CUSTOM="Custom",r))(ne||{}),zn=(r=>(r.TUILE_MECANIQUE="Tuile mcanique",r.TUILE_PLATE="Tuile plate",r.TUILE_CANAL="Tuile Canal",r.FIBROCIMENT="Fibrociment / PST",r))(zn||{}),ye=(r=>(r.ZONE_1="Zone 1",r.ZONE_2="Zone 2",r.ZONE_3="Zone 3",r.ZONE_4="Zone 4",r.ZONE_5="Zone 5",r))(ye||{});function bp(r,f){let p=300;switch(f){case ye.ZONE_1:case ye.ZONE_2:p=300;break;case ye.ZONE_3:p=400;break;case ye.ZONE_4:p=500;break;case ye.ZONE_5:p=600;break}let o=p,x=p;switch(r){case zn.TUILE_MECANIQUE:case zn.TUILE_PLATE:break;case zn.TUILE_CANAL:o+=50;break;case zn.FIBROCIMENT:o+=100;break}return{top:x,bottom:x,left:o,right:o}}function Jf(r){return{2.5:25,6:40,10:50,16:63,25:80}[r]??null}function gp(r){return{2.5:20,6:32,10:40,16:63,25:80}[r]??null}function Wf(r){return r<=20?2.5:r<=32?6:r<=40?10:r<=63?16:25}function ys(r,f){const p=Jf(r);return p==null?!1:f>p}function Hn(r,f){const p=gp(r),o=Jf(r);return o==null?"ok":f>o?"danger":p!=null&&f>p?"info":"ok"}function eu(r){return{2.5:20,6:32,10:40,16:63}[r]??null}function em(r,f){const p=eu(r);return p==null?!1:f>p}const Uc=20;function jl(r){return r.rowConfiguration&&r.rowConfiguration.length>0?r.rowConfiguration.reduce((f,p)=>f+p,0):r.rows*r.columns}function vp(r,f){if(f.length===0||r<=0)return null;let p=null;const o=f[0];if(!o.length||o.length<=0)return null;const x=Math.ceil(r/o.length);if(p={waste:x*o.length-r,railComponent:o,railsPerLine:x,splicesPerLine:x>1?x-1:0},p){const{waste:w,...M}=p;return M}return null}function Qt(r,f,p){if(r[f])return r[f];const o=Object.values(r).find(x=>x.id===f);return o||{id:f,description:p,unit:"piece",price:""}}function ba(r,f,p,o){if(r<=0||f<=0||p<=0)return 0;const x=o?400:230,g=o?r/(x*1.732):r/x,U=.023;return(o?Math.sqrt(3)*f*g*U/p:2*f*g*U/p)/x*100}function qf(r,f,p,o=!1,x){if(r<=0||f<=0)return null;const g=o?400:230,U=o?r/(g*1.732):r/g;let w=2.5;U>25&&(w=6),U>32&&(w=10),U>45&&(w=16),U>63&&(w=25);const M=Math.ceil(U*1.25),h=Wf(M),R=g*.01,H=.023,O=o?Math.sqrt(3)*H*f*U/R:H*2*f*U/R,T=Math.max(w,O,h),I=[2.5,6,10,16,25];let k=I.find(G=>G>=T);k||(k=25),x!=null&&(k=I.find(de=>de>=x)??k);const z=G=>{const de=[...G].sort((Be,Ue)=>Be.coilM-Ue.coilM);return de.find(Be=>f<=Be.coilM)||de[de.length-1]};let Q=[];o?k<=2.5?Q=[{id:"81010512509205",coilM:50},{id:"81010512509200",coilM:100}]:k<=6?Q=[{id:"810105100609205",coilM:50}]:Q=[]:k<=1.5?Q=[{id:"81010311509205",coilM:50},{id:"81010311509200",coilM:100}]:k<=2.5?Q=[{id:"81010312509205",coilM:50},{id:"81010312509200",coilM:100}]:k<=6?Q=[{id:"810103100609205",coilM:50}]:k<=10?Q=[{id:"810103101009205",coilM:50},{id:"810103101009200",coilM:100}]:k<=16?Q=[{id:"810103101609207",coilM:500}]:Q=[];const te=`CABLE-R2V-${o?"5G":"3G"}${k}-MANUEL`,le=Q.length?z(Q):{id:te,coilM:50},q=p?p[le.id]:null,d=Math.max(1,Math.ceil(f/(le.coilM||50)));return q?{id:q.id,description:q.description,quantity:d,price:q.price,datasheetUrl:q.datasheetUrl}:{id:le.id,description:Q.length?`CABLE R2V ${o?"5G":"3G"}${k} C${le.coilM}`:`Cble R2V ${o?"5G":"3G"}${k} (longueur estime ${Math.ceil(f)} m)   chiffrer`,quantity:d,price:""}}function Np(r,f,p){var R,H;const o=[],x=jl(r.panels),g=r.panels.orientation==="Portrait",U=f.brand,w=f.phase==="Tri";if(x===0)return[];const M=Object.values(p).find(O=>O.id===f.model),h=U===ne.CUSTOM&&((R=M==null?void 0:M.electrical)==null?void 0:R.isMicro);if(U===ne.ENPHASE||U===ne.APSYSTEMS||h||U===ne.FOXESS&&((H=f.model)==null?void 0:H.includes("MICRO")))if(w){const O=Qt(p,"2300711032","CONNECTEUR ETANCHE MALE TRI. APS"),T=Qt(p,"2300812032","CONNECTEUR ETANCHE FEM. TRI. APS");o.push({id:O.id,description:O.description,quantity:1,price:O.price||"A04CJ7",datasheetUrl:O.datasheetUrl}),o.push({id:T.id,description:T.description,quantity:1,price:T.price||"A04CK5",datasheetUrl:T.datasheetUrl})}else{const O=Qt(p,"2300531032","CONNECTEUR ETANCHE MALE MONO APS"),T=Qt(p,"2300532032","CONNECTEUR ETANCHE FEM. MONO APS");o.push({id:O.id,description:O.description,quantity:1,price:O.price||"A04CG2",datasheetUrl:O.datasheetUrl}),o.push({id:T.id,description:T.description,quantity:1,price:T.price||"A04CH0",datasheetUrl:T.datasheetUrl})}if(U===ne.ENPHASE){const O=f.model||"ENP-IQ8MC-72-M-INT",T=Qt(p,O,"Micro-onduleur Enphase");o.push({id:T.id,description:T.description,quantity:x,price:T.price,datasheetUrl:T.datasheetUrl});let I="";w?I=g?"Q-25-10-3P-200":"Q-25-17-3P-160":I=g?"ENP-Q-25-10-240":"ENP-Q-25-17-240";const k=Qt(p,I,"Cble Enphase Q-Cable");o.push({id:k.id,description:k.description,quantity:x,price:k.price,datasheetUrl:k.datasheetUrl});const te=Qt(p,w?"Q-TERM-3P":"ENP-Q-TERM-R",w?"EMBOUT DE TERMIN.TRI.ENPHASE":"EMBOUT TERMINAIS.MONO ENPHASE");o.push({id:te.id,description:te.description,quantity:1,price:te.price,datasheetUrl:te.datasheetUrl})}else if(U===ne.APSYSTEMS){const O=Math.ceil(x/2),T=f.model||"APS-DS3",I=Qt(p,T,"Micro-onduleur AP Systems");if(o.push({id:I.id,description:`${I.description} (1 pour 2 panneaux)`,quantity:O,price:I.price,datasheetUrl:I.datasheetUrl}),g){const z=Qt(p,"2322304903","CABLE MONO. PORTRAIT 2M APS");o.push({id:z.id,description:z.description,quantity:O,price:z.price||"A04C98",datasheetUrl:z.datasheetUrl})}else{const z=Qt(p,"2322404903","CABLE MONO. PAYSAGE 4M DS3 APS");o.push({id:z.id,description:z.description,quantity:O,price:z.price||"A04CS1",datasheetUrl:z.datasheetUrl})}const k=Qt(p,"2060700017","EMBOUT TERMINAIS.MONO APS");o.push({id:k.id,description:k.description,quantity:1,price:k.price||"A08TY8",datasheetUrl:k.datasheetUrl})}else if(U===ne.FOXESS){const O=f.model;if(O&&O.includes("MICRO")){const I=O.includes("2000")?4:2,k=Math.ceil(x/I),z=Qt(p,O,"Micro-onduleur FoxESS");o.push({id:z.id,description:`${z.description} (1 pour ${I} panneaux)`,quantity:k,price:z.price,datasheetUrl:z.datasheetUrl});const Q=Qt(p,"10-100-01176-0","CABLE AC MONO FoxESS");o.push({id:Q.id,description:Q.description,quantity:k,price:Q.price,datasheetUrl:Q.datasheetUrl});const te=Qt(p,"10-208-00083-00","TE DE CONNEXION AC MONO FoxESS");o.push({id:te.id,description:te.description,quantity:k,price:te.price,datasheetUrl:te.datasheetUrl});const le=Math.floor((k-1)/7),q=1+le,d=Qt(p,"10-109-00175-00","BOUCHON AC FoxESS");if(o.push({id:d.id,description:d.description,quantity:q,price:d.price,datasheetUrl:d.datasheetUrl}),le>0){const G=Qt(p,"2300532032","CONNECTEUR ETANCHE FEM. MONO APS");o.push({id:G.id,description:G.description,quantity:le,price:G.price,datasheetUrl:G.datasheetUrl});const de=Qt(p,"2300531032","CONNECTEUR ETANCHE MALE MONO APS");o.push({id:de.id,description:de.description,quantity:le,price:de.price,datasheetUrl:de.datasheetUrl})}}}else if(U===ne.CUSTOM&&h){const O=Qt(p,f.model||"OND-PERSO","Micro-onduleur Perso");o.push({id:O.id,description:O.description,quantity:x,price:O.price,datasheetUrl:O.datasheetUrl})}return o}function jp(r,f,p){var g,U;if(r===0)return null;if(f.brand===ne.CUSTOM){const w=Qt(p,f.model||"OND-PERSO","Onduleur Personnalis");return((g=w.electrical)==null?void 0:g.isMicro)?null:{id:w.id,description:w.description,quantity:1,price:w.price,datasheetUrl:w.datasheetUrl}}if(f.brand!==ne.FOXESS||(U=f.model)!=null&&U.includes("MICRO"))return null;let o=f.model;if(!o||o==="Auto"){const w=Object.values(p).filter(j=>j.id.startsWith("FOX-S")||j.id.startsWith("FOX-F"));w.sort((j,R)=>(j.power||0)-(R.power||0));const M=r*.8,h=w.find(j=>(j.power||0)>=M)||w[w.length-1];o=(h==null?void 0:h.id)||"FOX-S3000"}const x=Qt(p,o,"Onduleur FoxESS");return{id:x.id,description:x.description,quantity:1,price:x.price,datasheetUrl:x.datasheetUrl}}function Cp(r,f,p,o,x,g){var G,de,Re,Be,Ue,ue;if(!r.panels.model||r.panels.rows===0||r.panels.columns===0)return[];const U=[],{panels:w,roof:M}=r,h=jl(w),{rows:j,columns:R}=w;h>0&&U.push({id:w.model.name,description:w.model.name,quantity:h,price:w.model.price||"",datasheetUrl:w.model.datasheetUrl});const O=(r.railOrientation||p.railOrientation||"Horizontal")==="Vertical",T=(fe,ie,Ae=!1)=>{fe&&ie>0&&U.push({id:fe.id,description:Ae?`${fe.description}*`:fe.description,quantity:Math.ceil(ie),price:fe.price||"",datasheetUrl:fe.datasheetUrl})},I=w.model.width,k=w.model.height,z=w.orientation==="Portrait",Q=z?R*I+Math.max(0,R-1)*Uc:R*k+Math.max(0,R-1)*Uc,te=z?j*k+Math.max(0,j-1)*Uc:j*I+Math.max(0,j-1)*Uc;let le=O?R*2:j*2,q=O?te:Q;const d=Object.values(f).filter(fe=>fe.description.toLowerCase().includes("rail")&&fe.length&&fe.length>0).sort((fe,ie)=>(fe.length||0)-(ie.length||0));if(p.brand==="ESDEC"){if(d.length>0){const ie=d[0],Ae=le*q;T(ie,Math.ceil(Ae/ie.length));const S=Math.ceil(q/ie.length);S>1&&T(f.SPLICE,(S-1)*le)}T(f.END_CAP,le*2),T(f.UNIVERSAL_CLAMP,O?h*2+4:(R+1)*j*2);let fe=f.HOOK_UNIVERSAL;if(M.type===zn.FIBROCIMENT&&(fe=f.HANGER_BOLT_FIBRO),fe){const ie=Math.max(2,Math.ceil(q/1e3))*le;T(fe,ie),fe===f.HOOK_UNIVERSAL&&f.HOOK_GASKET&&T(f.HOOK_GASKET,ie,!0)}if(g&&g.brand!==ne.NONE){let ie=0,Ae=0;const S=o[g.model||""],y=g.brand===ne.CUSTOM&&((G=S==null?void 0:S.electrical)==null?void 0:G.isMicro);if(g.brand===ne.ENPHASE||y)ie=h,Ae=1;else if(g.brand===ne.APSYSTEMS)ie=Math.ceil(h/2),Ae=1;else if(g.brand===ne.FOXESS&&((de=g.model)!=null&&de.includes("MICRO"))){const W=g.model.includes("2000")?4:2;ie=Math.ceil(h/W),Ae=2}if(ie>0&&Ae>0){const W=f.CLIP_HEAVY_DUTY||{id:"1008068",description:"ClickFit EVO - Clip mtal poids lourd 2-8kg (Micro-ond)",price:"A0K6F7"};T(W,ie*Ae)}}}else{const fe=vp(q,d);if(fe&&(T(fe.railComponent,fe.railsPerLine*le),T(f.SPLICE,fe.splicesPerLine*le)),T(f.END_CAP,le*2),T(f.MID_CLAMP,O?(j-1)*2*R:(R-1)*2*j),T(f.END_CLAMP,O?4*R:4*j),M.type===zn.FIBROCIMENT){const S=Math.max(2*le,Math.ceil(q/1e3)*le);T(f.HANGER_BOLT_FIBRO,S)}else{const S=Math.max(2*le,Math.ceil(q/800)*le);T(f.HOOK_CROSSHOOK,S),T(f.WOOD_SCREW_8X100,S*2)}T(f.GROUND_LUG_K2SZ,h);let ie=0,Ae=1;if(g&&g.brand!==ne.NONE){const S=o[g.model||""],y=g.brand===ne.CUSTOM&&((Re=S==null?void 0:S.electrical)==null?void 0:Re.isMicro);g.brand===ne.ENPHASE||y?(ie=h,Ae=1):g.brand===ne.APSYSTEMS?(ie=Math.ceil(h/2),Ae=1):g.brand===ne.FOXESS&&((Be=g.model)!=null&&Be.includes("MICRO"))&&(ie=Math.ceil(h/(g.model.includes("2000")?4:2)),Ae=2)}ie>0&&T(f.STAIRPLATE_KIT,ie*Ae)}if(g&&g.brand!==ne.NONE){const fe=Np(r,g,o);U.push(...fe);let ie=0;const Ae=o[g.model||""],S=g.brand===ne.CUSTOM&&((Ue=Ae==null?void 0:Ae.electrical)==null?void 0:Ue.isMicro);if(g.brand===ne.APSYSTEMS)ie=Math.ceil(h/2);else if(g.brand===ne.FOXESS&&((ue=g.model)!=null&&ue.includes("MICRO"))){const y=g.model.includes("2000")?4:2;ie=Math.ceil(h/y)}else S&&(ie=h);if(ie>0){const y=(x==null?void 0:x["MC4-EXT-2M"])||{id:"303037",description:"Rallonge MC4 2M",price:"A0BEX2"};U.push({id:y.id,description:y.description,quantity:ie*2,price:y.price,datasheetUrl:y.datasheetUrl})}}return U}function tm(r){const f={Panneaux:[],Onduleurs:[],Electricit:[],Structure:[],Accessoires:[]},p=h=>{const j=((h==null?void 0:h.id)||"").toString(),R=((h==null?void 0:h.description)||"").toLowerCase();return!!(new Set(["810103100609205","81010100060920","810105100609205","810106100609205","8102051507512","8102025007512","8102066007512","81021060060820","820001000608600","821101000609200","CAB14124171"]).has(j)||R.includes("cable r2v")||R.includes("cable terre")&&R.includes("h07v")||R.includes("h1z2z2")||R.includes("cable solaire")||R.includes("liyc")||R.includes("liyc y")||R.includes("liyc y"))};r.forEach(h=>{const j=h.description.toLowerCase(),R=h.id.toUpperCase();(j.includes("panneau")||j.includes("module")||j.includes("dmegc")||j.includes("tcl")||j.includes("dualsun"))&&!j.includes("onduleur")&&!j.includes("micro")?f.Panneaux.push(h):(j.includes("onduleur")||j.includes("micro-onduleur")||j.includes("passerelle")||j.includes("envoy")||j.includes("ecu"))&&!j.includes("fixation")&&!j.includes("clip")&&!j.includes("ecrou")&&!j.includes("crou")&&!j.includes("montage")&&!j.includes("coffret")&&!j.includes("tore")&&!j.includes("compteur")&&!j.includes("meter")||R.startsWith("ENP-IQ")||R.startsWith("APS-DS3")||R.startsWith("FOX-")&&!R.includes("ECS")&&!R.includes("EP")&&!R.includes("MIRA")||R.startsWith("SMG666")||R==="OND-PERSO"?f.Onduleurs.push(h):p(h)?f.Accessoires.push(h):j.includes("batterie")||R.includes("ECS")||R.includes("EP5")||R.includes("EP11")||j.includes("coffret")||j.includes("disjoncteur")||j.includes("inter diff")||j.includes("cable")||j.includes("cble")||j.includes("cordon")||j.includes("rallonge")||j.includes("connecteur")&&!j.includes("rail")||j.includes("embout")||j.includes("te de connexion")||j.includes("mc4")||j.includes("terminaison")&&!j.includes("rail")||j.includes("bouchon ac")||j.includes("tore")||j.includes("compteur")||j.includes("borne")||j.includes("sticker")||j.includes("q-relay")||j.includes("qrelay")||R.startsWith("Q-RELAY")||R.startsWith("MAD-")?f.Electricit.push(h):f.Structure.push(h)}),f.Electricit.sort((h,j)=>{const R=new Set(["13412","13416","13418","13474","13476","12522","12526","12528","12501","12334","12338","12340","12333","12337","12341","13462","13464","13466","13488","13442","13444","13446","13498","12554","12556","12558","12507"]),H=new Set(["12232","12272","12282","12233","12273","12283"]),O=Q=>{const te=(Q.description||"").toLowerCase(),le=(Q.id||"").toString();return!te.includes("coffret")||te.includes("dc")?!1:te.includes("ac")?!0:R.has(le)},T=Q=>{const te=(Q.description||"").toLowerCase(),le=(Q.id||"").toString();return te.includes("coffret")?te.includes("dc")?!0:H.has(le):!1},I=Q=>{const te=(Q.description||"").toLowerCase(),le=(Q.id||"").toUpperCase();return te.includes("batterie")||le.includes("ECS")||le.includes("EP5")||le.includes("EP11")||le.includes("MIRA")?1:le.startsWith("STICKER")?2:O(Q)?3:te.includes("disjoncteur")||te.includes("inter diff")?4:T(Q)?5:te.includes("compteur")||te.includes("meter")||le.includes("DDSU")||le.includes("DTSU")||te.includes("tore")?6:te.includes("borne")||te.includes("cordon ve")||te.includes("recharge")?7:te.includes("foxess")||le.startsWith("FOX-")||le.startsWith("10-")?8:te.includes("enphase")||le.startsWith("ENP-")||le.startsWith("Q-")?9:te.includes("aps")||le.startsWith("APS-")||te.includes("ecu")?10:11},k=I(h),z=I(j);return k!==z?k-z:h.description.localeCompare(j.description)});const o=["A7300S1-E-2","A022KS1-E-A","15254","15264"],g=r.some(h=>o.includes(((h==null?void 0:h.id)||"").toString()))?["02056","03446","03140"]:[],U=[],w=[];return f.Electricit.forEach(h=>{const j=h.description.toLowerCase();h.id.toUpperCase(),o.includes(h.id)||g.includes(h.id)||j.includes("borne recharge")||j.includes("cordon ve")?w.push(h):U.push(h)}),[{category:"Panneaux",items:f.Panneaux},{category:"Onduleurs",items:f.Onduleurs},{category:"Electricit",items:U,subSections:w.length>0?[{title:"BORNE VE",items:w}]:void 0},{category:"Structure",items:f.Structure},{category:"Accessoires",items:f.Accessoires}].filter(h=>h.items.length>0||h.subSections&&h.subSections.length>0)}const Yo={"01":-10,"02":-7,"03":-8,"04":-8,"05":-10,"06":-6,"07":-6,"08":-10,"09":-5,10:-10,11:-5,12:-8,13:-5,14:-7,15:-8,16:-5,17:-5,18:-7,19:-8,"2A":-2,"2B":-2,20:-2,21:-10,22:-4,23:-8,24:-5,25:-12,26:-6,27:-7,28:-7,29:-4,30:-5,31:-5,32:-5,33:-5,34:-5,35:-4,36:-7,37:-7,38:-10,39:-10,40:-5,41:-7,42:-10,43:-8,44:-5,45:-7,46:-6,47:-5,48:-8,49:-7,50:-4,51:-10,52:-12,53:-7,54:-15,55:-12,56:-4,57:-15,58:-10,59:-9,60:-7,61:-7,62:-9,63:-8,64:-5,65:-5,66:-5,67:-15,68:-15,69:-10,70:-10,71:-10,72:-7,73:-10,74:-10,75:-5,76:-7,77:-7,78:-7,79:-7,80:-9,81:-5,82:-5,83:-5,84:-6,85:-5,86:-7,87:-8,88:-15,89:-10,90:-15,91:-7,92:-7,93:-7,94:-7,95:-7,971:15,972:15,973:15,974:10,976:15},Pf={83400:-2,83e3:-2,83100:-2,83200:-2,83500:-2,83110:-2,83140:-2,83130:-2,83220:-2,83320:-2,83230:-2,83980:-2,83120:-2,83990:-2,83240:-2,83600:-2,83700:-2,83150:-2,83270:-2,"06000":-2,"06100":-2,"06200":-2,"06300":-2,"06400":-2,"06150":-2,"06160":-2,"06600":-2,"06800":-2,"06700":-2,"06270":-2,"06500":-2,"06310":-2,"06230":-2,13001:-2,13002:-2,13003:-2,13004:-2,13005:-2,13006:-2,13007:-2,13008:-2,13009:-2,13010:-2,13011:-2,13012:-2,13013:-2,13014:-2,13015:-2,13016:-2,13600:-2,13260:-2,13500:-2,2e4:-2,20090:-2,20200:-2,20137:-2,20260:-2,20110:-2,20169:-2};function Vc(r,f=0){if(!r||r.length<2)return{tempMin:-10,tempMaxAmb:35,label:"Standard (Dfaut)"};const p=r.substring(0,2),o=r.substring(0,3);let x=-10,g=`Dept ${p}`,U=!1;r.startsWith("97")?(x=Yo[o]||15,g=`Outre-mer ${o}`):Pf[r]!==void 0?(x=Pf[r],g="Zone Ctire/Ile",U=!0):r.startsWith("20")?(x=-2,g="Corse"):Yo[p]!==void 0&&(x=Yo[p]);let w=0;f>200&&(w=Math.ceil((f-200)/200));const M=x-w;let h=35;return x>=-5&&(h=38),x<=-15&&(h=30),{tempMin:M,tempMaxAmb:h,label:`${g} (Base ${x}C) @ ${f}m`,altitudePenalty:w,baseTempSeaLevel:x,labelOrigin:g,coastalOverrideApplied:U}}const _c={971:ye.ZONE_5,972:ye.ZONE_5,973:ye.ZONE_5,974:ye.ZONE_5,976:ye.ZONE_5,"06":ye.ZONE_4,11:ye.ZONE_4,13:ye.ZONE_4,"2A":ye.ZONE_4,"2B":ye.ZONE_4,30:ye.ZONE_4,34:ye.ZONE_4,66:ye.ZONE_4,83:ye.ZONE_4,14:ye.ZONE_3,17:ye.ZONE_3,22:ye.ZONE_3,29:ye.ZONE_3,33:ye.ZONE_3,40:ye.ZONE_3,44:ye.ZONE_3,50:ye.ZONE_3,56:ye.ZONE_3,59:ye.ZONE_3,62:ye.ZONE_3,64:ye.ZONE_3,76:ye.ZONE_3,80:ye.ZONE_3,85:ye.ZONE_3,"02":ye.ZONE_2,"08":ye.ZONE_2,27:ye.ZONE_2,28:ye.ZONE_2,35:ye.ZONE_2,37:ye.ZONE_2,41:ye.ZONE_2,45:ye.ZONE_2,49:ye.ZONE_2,51:ye.ZONE_2,54:ye.ZONE_2,55:ye.ZONE_2,57:ye.ZONE_2,60:ye.ZONE_2,61:ye.ZONE_2,72:ye.ZONE_2,77:ye.ZONE_2,78:ye.ZONE_2,79:ye.ZONE_2,86:ye.ZONE_2,87:ye.ZONE_2,89:ye.ZONE_2,91:ye.ZONE_2,95:ye.ZONE_2};function yp(r){if(!r||r.length<2)return ye.ZONE_1;if(r.toUpperCase().startsWith("2A")||r.toUpperCase().startsWith("2B"))return ye.ZONE_4;const f=r.substring(0,3);if(_c[f])return _c[f];const p=r.substring(0,2);return _c[p]?_c[p]:ye.ZONE_1}const $o=.023,Ap=[2.5,6,10,16];function kc(r,f,p,o){if(r<=0||f<=0||p<=0||o<=0)return{duV:0,duPct:0};const x=2*r*f*$o/p,g=x/o*100;return{duV:x,duPct:g}}function tu(r,f,p){let o=6;if(r<=0||f<=0||p<=0)return o;for(const x of Ap.filter(g=>g>=6)){const{duPct:g}=kc(r,f,Number(x),p);if(o=Number(x),g<=3)break}return o}function Sp(r,f){return r<=0?"missing":f>3?"danger":f>1?"warn":"ok"}const Io=[2.5,6,10,16,25];function As(r,f){return!r||r<=0?null:f?r<=25?16:r<=30?20:r<=40?25:r<=50?32:40:r<=30?32:r<=45?40:63}function Ss(r,f){const p=f?[16,20,25,32,40]:[16,20,32,40,63];return p.find(o=>o>=Math.max(0,r))??p[p.length-1]}function Ff(r,f,p,o){if(r<=0||f<=0||p<=0)return 0;const x=o?400:230,g=o?r/(x*1.732):r/x;return(o?Math.sqrt(3)*f*g*$o/p:2*f*g*$o/p)/x*100}function Gf(r){const{powerVA:f,lengthM:p,isThreePhase:o,breakerA:x}=r,g=r.minAutoSectionMm2??2.5;for(const w of Io){const M=Number(w);if(M<g)continue;const h=Ff(f,p,M,o),j=Hn(M,x);if(h<=1&&j==="ok")return M}let U=Number(Io[0]);for(const w of Io){const M=Number(w);if(M<g)continue;U=M;const h=Ff(f,p,M,o),j=Hn(M,x);if(h<=1&&j!=="danger")break}return U}const Yf=-.26;function Ep(r,f,p,o=1,x,g=1,U=0,w=[],M=[],h=void 0){var S,y;const j={isCompatible:!0,warnings:[],errors:[],details:null},R=.95,H=1.05,O=p?p.tempMin:-10,I=(p?p.tempMaxAmb:35)+35;if(!f||!f.electrical)return j;const k=f.electrical,z=k.maxInputVoltage<100;let Q="F";if(z?Q="F":(f.id.includes("H1")||f.id.includes("H3")||f.id.includes("KH")||f.id.includes("P3"))&&(Q="B"),z){if(!r||!r.electrical)return j;const W=r.electrical,pe=W.tempCoeffVoc||Yf,ge=O-25,v=W.voc*(1+pe/100*ge),_=k.mpptCount||1;let A=k.maxAcPower,J=r.power*_;x&&x>0&&(A=Math.ceil(x/_)*k.maxAcPower,J=r.power*x);const Z=A>0?J/A:0,se=h?h==="Tri":!1,me=se?A/(400*1.732):A/230,_e=me*1.25;return v>k.maxInputVoltage&&(j.isCompatible=!1,j.errors.push(`Tension panneau (${v.toFixed(1)}V) > Max Micro (${k.maxInputVoltage}V)`)),j.details={vocCold:parseFloat(v.toFixed(1)),vmaxInverter:k.maxInputVoltage,vmpHot:0,vminMppt:k.minMpptVoltage,iscPanel:W.isc,iscCalculation:parseFloat((W.isc*1.25).toFixed(2)),imaxInverter:k.maxInputCurrent,dcAcRatio:Z,maxAcPower:A,nominalAcCurrent:parseFloat(me.toFixed(1)),acCurrentBasis:"FALLBACK_S_OVER_U",acCurrentBasisDetail:`S=${A}VA, U=${se?"400V tri":"230V mono"}`,recommendedBreakerTheo:parseFloat(_e.toFixed(1)),recommendedBreaker:Math.ceil(_e),rcdType:Q,tempsUsed:{min:O,maxCell:I},stringsAnalysis:[],maxPanelsInAString:1},j}const te={};if(!w||w.length===0){const W=g||1;for(let pe=0;pe<W;pe++)te[pe+1]=[{id:`legacy-${pe}`,fieldId:"legacy",panelCount:o,mpptIndex:pe+1}]}else w.forEach(W=>{const pe=W.mpptIndex||1;te[pe]||(te[pe]=[]),te[pe].push(W)});const le=[];let q=0,d=1e4,G=0,de=0;for(const[W,pe]of Object.entries(te)){const ge=parseInt(W);let v=0,_=0,A=0,J=0;const Z=[];if(pe.forEach(se=>{const me=M.find(Ve=>Ve.id===se.fieldId),_e=(me==null?void 0:me.panels.model)||r;if(_e.electrical){const Ve=_e.electrical,nt=Ve.tempCoeffVoc||Yf,Xe=O-25,tt=Ve.voc*(1+nt/100*Xe);v+=tt*se.panelCount;const K=I-25,re=Ve.vmp*(1+nt/100*K);_+=re*se.panelCount,Ve.isc>A&&(A=Ve.isc),G+=_e.power*se.panelCount}J+=se.panelCount,Z.push(`${(me==null?void 0:me.name)||"Toiture"} (${se.panelCount})`)}),J>de&&(de=J),v>q&&(q=v),_<d&&(d=_),le.push({mpptIndex:ge,composition:Z.join(" + "),totalPanelCount:J,vocCold:parseFloat(v.toFixed(1)),vmpHot:parseFloat(_.toFixed(1)),iscMax:A,iscCalculation:parseFloat((A*1.25).toFixed(2)),isVoltageWarning:v>=k.maxInputVoltage*R&&v<=k.maxInputVoltage,isVoltageError:v>k.maxInputVoltage,isMpptError:_<k.minMpptVoltage,isMpptWarning:_>=k.minMpptVoltage&&_<=k.minMpptVoltage*H,isCurrentError:A>k.maxInputCurrent}),v>k.maxInputVoltage)j.isCompatible=!1,j.errors.push(`MPPT ${ge}: Surtension (${v.toFixed(1)}V > ${k.maxInputVoltage}V)`);else{const se=k.maxInputVoltage>0?v/k.maxInputVoltage:0;se>=R&&j.warnings.push(`MPPT ${ge}: Voc froid proche limite (${v.toFixed(1)}V  ${(se*100).toFixed(0)}% de ${k.maxInputVoltage}V)`)}if(_<k.minMpptVoltage)j.isCompatible=!1,j.errors.push(`MPPT ${ge}: Vmp chaud trop bas (${_.toFixed(1)}V < ${k.minMpptVoltage}V)  risque de dcrochage en t`);else{const se=k.minMpptVoltage>0?_/k.minMpptVoltage:0;se<=H&&j.warnings.push(`MPPT ${ge}: Vmp chaud proche limite basse (${_.toFixed(1)}V  ${(se*100).toFixed(0)}% de ${k.minMpptVoltage}V)`)}}const Re=k.maxAcPower||f.power||0,Be=Re>0?G/Re:0,Ue=h?h==="Tri":k.maxAcPower>6e3||f.id.includes("TRI")||f.id.includes("T15");let ue="FALLBACK_S_OVER_U",fe="",ie=0;typeof k.maxAcCurrent=="number"&&k.maxAcCurrent>0?(ie=k.maxAcCurrent,ue="IAC_MAX",fe=`Iac_max=${k.maxAcCurrent}A (fiche technique)`):typeof k.nominalAcCurrent=="number"&&k.nominalAcCurrent>0?(ie=k.nominalAcCurrent,ue="IAC_NOMINAL",fe=`Iac_nom=${k.nominalAcCurrent}A (fiche technique)`):(ie=Ue?Re/(400*1.732):Re/230,ue="FALLBACK_S_OVER_U",fe=`S=${Re}VA, U=${Ue?"400V tri":"230V mono"}`);const Ae=ie;return j.details={vocCold:parseFloat(q.toFixed(1)),vmaxInverter:k.maxInputVoltage,vmpHot:parseFloat(d.toFixed(1)),vminMppt:k.minMpptVoltage,iscPanel:((S=r.electrical)==null?void 0:S.isc)||0,iscCalculation:parseFloat(((((y=r.electrical)==null?void 0:y.isc)||0)*1.25).toFixed(2)),imaxInverter:k.maxInputCurrent,dcAcRatio:Be,maxAcPower:Re,nominalAcCurrent:parseFloat(Ae.toFixed(1)),acCurrentBasis:ue,acCurrentBasisDetail:fe,recommendedBreakerTheo:parseFloat((Ae*1.25).toFixed(1)),recommendedBreaker:Math.ceil(Ae*1.25),rcdType:Q,tempsUsed:{min:O,maxCell:I},stringsAnalysis:le,maxPanelsInAString:de},j}const Mp={"ENP-IQ8MC-72-M-INT":{maxMicrosPerBranch:11,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas, cble 2.5mm."},"ENP-IQ8HC-72-M-INT":{maxMicrosPerBranch:9,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas, cble 2.5mm."},"ENP-IQ8P-72-2-INT":{maxMicrosPerBranch:8,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas, cble 2.5mm."},"APS-DS3":{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Bus AC 2.5mm (20A) : 5 units max / branche."},"APS-DS3-H":{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Bus AC 2.5mm (20A) : 4  5 units max / branche."},"FOX-MICRO-1000":{maxMicrosPerBranch:7,recommendedBranchBreakerA:32,defaultCableSectionMm2:6,note:"Exemple terrain: 7 micros max sur cble quiv. 6mm avec disj jusqu 32A."}};function lm(r,f){if(!f)return null;const p=Mp[f];return p||(r===ne.ENPHASE?{maxMicrosPerBranch:8,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5}:r===ne.APSYSTEMS?{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5}:r===ne.FOXESS&&f.includes("MICRO")?{maxMicrosPerBranch:7,recommendedBranchBreakerA:32,defaultCableSectionMm2:6}:null)}const wp=.023;function Es(r,f=0){const p=typeof r=="number"?r:parseFloat(String(r));return Number.isFinite(p)?p:f}function nm(r){var o,x;const f=r.fields.reduce((g,U)=>{const w=U.panels.rows||0,M=U.panels.columns||0,h=w*M,j=U.panels.rowConfiguration;return g+(j&&j.length?j.reduce((R,H)=>R+(H||0),0):h)},0);let p=1;return r.inverterConfig.brand===ne.APSYSTEMS&&(p=2),r.inverterConfig.brand===ne.FOXESS&&((o=r.inverterConfig.model)!=null&&o.includes("2000"))?p=4:r.inverterConfig.brand===ne.FOXESS&&((x=r.inverterConfig.model)!=null&&x.includes("MICRO"))&&(p=2),Math.max(0,Math.ceil(f/p))}function Lc(r){const f=nm(r),p=lm(r.inverterConfig.brand,r.inverterConfig.model),o=(p==null?void 0:p.defaultCableSectionMm2)??2.5,x=r.inverterConfig.phase==="Tri"?"L1":"Mono",g=r.inverterConfig.microBranches;return g&&g.length?g.map(U=>({...U,microCount:Es(U.microCount,0),cableLengthM:Es(U.cableLengthM,0),cableSectionMm2:Es(U.cableSectionMm2,o),phase:U.phase||x})):[{id:"branch-1",name:"Branche 1",phase:x,microCount:f,cableLengthM:0,cableSectionMm2:o}]}function Tp(r,f,p,o=230){const x=Math.max(0,r),g=Math.max(0,f),U=Math.max(.1,p),w=2*wp*x*g/U,M=o>0?w/o*100:0;return{dropV:w,dropPercent:M}}function Jo(r,f){const p=r.inverterConfig.brand,o=r.inverterConfig.model;if(!(p===ne.ENPHASE||p===ne.APSYSTEMS||p===ne.FOXESS&&(o||"").includes("MICRO")))return null;const g=nm(r),U=Lc(r),w=lm(p,o),M=(w==null?void 0:w.maxMicrosPerBranch)??0,h=[],j=[],R=U.map((z,Q)=>{const te=Es(z.microCount,0),le=Es(z.cableLengthM,0),q=Es(z.cableSectionMm2,(w==null?void 0:w.defaultCableSectionMm2)??2.5),d=z.phase||(r.inverterConfig.phase==="Tri"?"L1":"Mono"),G=te*f/230,{dropV:de,dropPercent:Re}=Tp(le,G,q,230),Be=M>0?te<=M:!0,Ue=Re<=1;return{branchId:z.id,name:z.name||`Branche ${Q+1}`,phase:d,microCount:te,maxAllowed:M||0,cableLengthM:le,cableSectionMm2:q,currentA:G,dropV:de,dropPercent:Re,isWithinMaxMicros:Be,isDropOk:Ue}}),H=R.reduce((z,Q)=>z+Q.microCount,0);g>0&&H!==g&&h.push(`Rpartition branches: ${H} micros configurs sur ${g} requis.`);const O=R.filter(z=>z.microCount>0&&z.cableLengthM<=0);O.length&&h.push(...O.map(z=>`${z.name}: longueur cble non renseigne (0 m). Renseigner la distance micro  coffret AC.`));const T=R.filter(z=>!z.isWithinMaxMicros);T.length&&h.push(...T.map(z=>`${z.name}: ${z.microCount} micros > max ${z.maxAllowed} (selon rgle ${p}${o?` / ${o}`:""}).`));const I=R.filter(z=>z.cableLengthM>0&&z.dropPercent>1);if(I.length&&j.push(...I.map(z=>`${z.name}: chute de tension estime ${z.dropPercent.toFixed(2)}% (> 1%). Augmenter section ou rduire longueur.`)),r.inverterConfig.phase==="Tri"){R.length<3&&j.push("Triphas: rpartition recommande sur 3 branches (L1/L2/L3) pour quilibrer les phases.");const z={L1:0,L2:0,L3:0};for(const q of R)(q.phase==="L1"||q.phase==="L2"||q.phase==="L3")&&(z[q.phase]+=q.microCount);const Q=[z.L1,z.L2,z.L3],te=Math.max(...Q),le=Math.min(...Q);te>0&&le===0?j.push(`Triphas: une phase n'est pas alimente (rpartition micros L1/L2/L3 = ${z.L1}/${z.L2}/${z.L3}). Rquilibrer recommand.`):te-le>=2&&j.push(`Triphas: rpartition peu quilibre (L1/L2/L3 = ${z.L1}/${z.L2}/${z.L3}). Viser un cart  1 micro.`)}return{requiredMicros:g,microPowerVA:f||0,totalMicrosConfigured:H,ruleNote:w==null?void 0:w.note,branches:R,errors:h,warnings:j}}const Op=[3,6,9,12],Rp=[9,12,15,18,24,30,36],Up={15:3,30:6,45:9,60:12},_p={10:6,15:9,20:12,25:15,30:18,40:24,50:30,60:36};function Dp(r,f){return!f||f<=0?null:r==="Tri"?_p[f]??null:Up[f]??null}function Vp(r,f){return!f||f<=0?null:(r==="Tri"?Rp:Op).find(x=>x>=f)??null}function kp(r){return r==="Tri"?36:12}function am(r){const f=r.phase,p=Number.isFinite(r.projectPowerKwc)?r.projectPowerKwc:0,o=Dp(f,r.agcpA),x=p>0?p:null,g=x?Vp(f,x):null,U=!!x&&x>kp(f),w=o!=null&&g!=null?o>=g:null;return{phase:f,projectPowerKwc:p,requiredMinKva:x,recommendedKva:g,subscribedKva:o,isOk:w,isOverMaxForPhase:U}}const Bc="local-db-update",Cs=(r,f)=>{const p=()=>{try{const x=localStorage.getItem(`richardson_${r}`);if(x){const g=JSON.parse(x);if(Object.keys(g).length>0){f(g);return}}}catch(x){console.error("Erreur lecture localStorage",x)}};p();const o=x=>{x.detail&&x.detail.collection===r&&p()};return window.addEventListener(Bc,o),()=>window.removeEventListener(Bc,o)},Lp=async(r,f)=>{try{localStorage.setItem(`richardson_${r}`,JSON.stringify(f));const p=new CustomEvent(Bc,{detail:{collection:r}});window.dispatchEvent(p)}catch(p){throw console.error("Erreur sauvegarde locale:",p),p}},Bp=()=>{["k2","esdec","inverters","panels","boxes","cables"].forEach(f=>{localStorage.removeItem(`richardson_${f}`);const p=new CustomEvent(Bc,{detail:{collection:f}});window.dispatchEvent(p)}),window.location.reload()},Hp=async(r,f)=>new Promise((p,o)=>{setTimeout(()=>{if(r.toLowerCase()==="admin@richardson.fr"&&f==="admin1213"){const x={uid:"local-admin",email:r,displayName:"Admin Local"};sessionStorage.setItem("isAdmin","true"),p(x)}else o(new Error("Identifiants incorrects. Aide : admin@richardson.fr / admin1213"))},500)}),zp=async()=>(sessionStorage.removeItem("isAdmin"),Promise.resolve()),qp={RAIL_2400:{id:"K2S/2003458",description:"K2 Single Rail 36 de 2,4 m",unit:"piece",length:2400,price:"A0J792"},SPLICE:{id:"K2S/2001976",description:"K2S Connecteur de Rails Single Rail 36",unit:"piece",price:"A08TU6"},END_CAP:{id:"K2S/1004767",description:"K2 Bouchon NOIR P.Rail 36",unit:"piece",price:"A08TR3"},MID_CLAMP:{id:"K2S/2004148",description:"K2 Bride Int Universelle (31  42mm) NOIR",unit:"piece",price:"A09504"},END_CLAMP:{id:"K2S/2004545",description:"K2 Bride Ext Universelle (31  42mm) NOIR",unit:"piece",price:"A30ZQ3"},HOOK_CROSSHOOK:{id:"K2S/2003144",description:"K2S Crochets CrossHook 4S (Crochet pour tuiles galbs)",unit:"piece",price:"A08U06"},WOOD_SCREW_8X100:{id:"K2S/2004112",description:"K2 Vis bois Heco Topix 8x100",unit:"piece",price:"A04DJ6"},HANGER_BOLT_FIBRO:{id:"K2S/2003274",description:"FIXATION TIREFD.M10X250 BOIS K2SYS",unit:"piece",price:"A4MXP0"},GROUND_LUG_K2SZ:{id:"K2S/2001881",description:"K2 Griffe de mise  la terre K2SZ",unit:"piece",price:"A08U89"},STAIRPLATE_KIT:{id:"K2S/2004057",description:"Kit StairPlate (Fixation micro onduleur)",unit:"piece",price:"A08TP7"},MK2_NUT:{id:"K2S/1001643",description:"Ecrou-prisonnierMK2 avec clip de montage(micro-onduleur)",unit:"piece",price:"210110"},M8_SCREW:{id:"K2S/2001735",description:"Vis avec rondelle intgre M8x16",unit:"piece",price:"210111"}},Pp={RAIL_2338:{id:"1008132",description:"ClickFit EVO - Rail de montage 2338mm",unit:"piece",length:2338,price:"A0B095"},SPLICE:{id:"1008061",description:"ClickFit EVO - Coupleur de rail",unit:"piece",price:"A0B0A2"},END_CAP:{id:"1008060",description:"ClickFit EVO - Terminaison de rail NOIR",unit:"piece",price:"A0B0D6"},UNIVERSAL_CLAMP:{id:"1008020",description:"ClickFit EVO - Etrier universel NOIR",unit:"piece",price:"A0B0B0"},HOOK_UNIVERSAL:{id:"1008040",description:"ClickFit EVO - Crochet de toit liteau-Fermette - UniversalHook",unit:"piece",price:"A0B087"},HOOK_GASKET:{id:"1008063",description:"ClickFit EVO - Entretoise caoutchouc protection tuile",unit:"piece",price:"A0B0E3"},MOUNTING_GUIDE:{id:"1008064",description:"ClickFit EVO - Guide d'aide au montage",unit:"piece",price:"A2KHU5"},HANGER_BOLT:{id:"1008053",description:"ClickFit EVO - Vis de fixation pour tle ondule/fibrociment",unit:"piece",price:"310109"},HANGER_BOLT_FIBRO:{id:"1008012",description:"BOULON SUSPENSION M10X250MM",unit:"piece",price:"A0EA3"},GROUND_LUG:{id:"ESD-GRD-01",description:"ESDEC Griffe de mise  la terre",unit:"piece",price:"310110"},CLIP_HEAVY_DUTY:{id:"1008068",description:"ClickFit EVO - Clip mtal poids lourd 2-8kg (Micro-ond)",unit:"piece",price:"A0K6F7"}},yi={id:"OND-PERSO",description:"Onduleur Personnalis",unit:"piece",price:"",power:5e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:15,maxAcPower:5e3,maxStrings:2,mpptCount:2}},Hc={IQ8MC:{id:"ENP-IQ8MC-72-M-INT",description:"Micro-onduleur Enphase IQ8MC (330VA)",unit:"piece",price:"A04BM2",power:330,datasheetUrl:"https://enphase.com/fr-fr/download/iq8-series-microinverters-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8mc-iq8ac-iq8hc-et-iq8x-microinverters-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:60,minMpptVoltage:25,maxMpptVoltage:45,maxInputCurrent:25,maxAcPower:330,maxStrings:1,mpptCount:1}},IQ8HC:{id:"ENP-IQ8HC-72-M-INT",description:"Micro-onduleur Enphase IQ8HC (380VA)",unit:"piece",price:"A04BR4",power:380,datasheetUrl:"https://enphase.com/fr-fr/download/iq8-series-microinverters-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8mc-iq8ac-iq8hc-et-iq8x-microinverters-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:60,minMpptVoltage:29.5,maxMpptVoltage:45,maxInputCurrent:25,maxAcPower:380,maxStrings:1,mpptCount:1}},IQ8P:{id:"ENP-IQ8P-72-2-INT",description:"Micro-onduleur Enphase IQ8P (475VA)",unit:"piece",price:"A0BWU6",power:480,datasheetUrl:"https://enphase.com/fr-fr/download/iq8p-microinverter-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8p-microinverter-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:65,minMpptVoltage:36,maxMpptVoltage:55,maxInputCurrent:25,maxAcPower:480,maxStrings:1,mpptCount:1}},Q_CABLE_PORTRAIT:{id:"ENP-Q-25-10-240",description:"CABLE MONO PORTRAIT 1.3M ENPHASE",unit:"piece",price:"A04BX8"},Q_CABLE_LANDSCAPE:{id:"ENP-Q-25-17-240",description:"CABLE MONO.PAYSAGE 2M ENPHASE",unit:"piece",price:"A04C51"},Q_RELAY:{id:"ENP-Q-RELAY-1P-INT",description:"Enphase Q-Relay (Relais de dcouplage)",unit:"piece",price:"A04C41"},Q_RELAY_MONO_FR:{id:"Q-RELAY-1P-FR",description:"RELAIS QRELAY mono (IQ7/IQ8) 1P-FR",unit:"piece",price:"A0GRV"},Q_TERMINATOR:{id:"ENP-Q-TERM-R",description:"EMBOUT TERMINAIS.MONO ENPHASE",unit:"piece",price:"A08TZ7"},Q_CABLE_TRI_PORTRAIT:{id:"Q-25-10-3P-200",description:"CABLE TRI PORTRAIT 1.3M ENPHASE",unit:"piece",price:"A04BY9"},Q_CABLE_TRI_LANDSCAPE:{id:"Q-25-17-3P-160",description:"CABLE TRI PAYSAGE 2M ENPHASE",unit:"piece",price:"A04BZ8"},Q_TERMINATOR_TRI:{id:"Q-TERMINATOR-3P",description:"EMBOUT DE TERMIN.TRI.ENPHASE",unit:"piece",price:"A08TX0"},Q_RELAY_TRI_INT:{id:"Q-RELAY-3P-INT",description:"RELAIS QRELAY TRI (Q) RELAY-3P-INT",unit:"piece",price:"A0J3J"},ENVOY_S:{id:"ENVOY-S-EM-230",description:"PASSERELLE ENVOY/S ENPHASE (2CT inclus)",unit:"piece",price:"A04BS2",manualUrl:"https://enphase.com/fr-fr/download/iq-gateway-metered-triphase-manuel-dinstallation-et-dutilisation"},CT_100:{id:"CT-100-SPLIT",description:"TRANSFORMATEUR COURANT ENPHASE",unit:"piece",price:"A04BT0"}},sm={DS3:{id:"APS-DS3",description:"Micro-onduleur AP Systems DS3 (880VA)",unit:"piece",price:"A04C64",power:880,datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211d53NLzlMjcL3SsFZZsK9usxhBSe3KiHTdSwtTdF2GEkTD5O2X4veNTEdkT/uMAS9kXM3IOyxMpI#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211v5vNzzNMrcj3ssbZDsC9WsJhHS23GiNT1SGtpdb2cE8TX5o2P4HelT8d8l/E1lmarvDbTmCxi7z#/",videoUrl:"https://www.youtube.com/watch?v=36nRxgq3B_Y",electrical:{maxInputVoltage:60,minMpptVoltage:28,maxMpptVoltage:45,maxInputCurrent:20,maxAcPower:880,maxStrings:2,mpptCount:2}},DS3_H:{id:"APS-DS3-H",description:"Micro-onduleur AP Systems DS3-H (960VA)",unit:"piece",price:"A0F3G7",power:960,datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211d53NLzlMjcL3SsFZZsK9usxhBSe3KiHTdSwtTdF2GEkTD5O2X4veNTEdkT/uMAS9kXM3IOyxMpI#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211v5vNzzNMrcj3ssbZDsC9WsJhHS23GiNT1SGtpdb2cE8TX5o2P4HelT8d8l/E1lmarvDbTmCxi7z#/",videoUrl:"https://www.youtube.com/watch?v=36nRxgq3B_Y",electrical:{maxInputVoltage:60,minMpptVoltage:30,maxMpptVoltage:45,maxInputCurrent:20,maxAcPower:960,maxStrings:2,mpptCount:2}},AC_BUS_PORTRAIT_2M:{id:"2322304903",description:"CABLE MONO. PORTRAIT 2M APS",unit:"piece",price:"A04C98"},AC_BUS_PAYSAGE_4M:{id:"2322404903",description:"CABLE MONO. PAYSAGE 4M DS3 APS",unit:"piece",price:"A04CS1"},AC_BUS_CAP:{id:"2060700017",description:"EMBOUT TERMINAIS.MONO APS",unit:"piece",price:"A08TY8"},AC_MALE_CONN:{id:"2300531032",description:"CONNECTEUR ETANCHE MALE MONO APS",unit:"piece",price:"A04CG2"},AC_FEMALE_CONN:{id:"2300532032",description:"CONNECTEUR ETANCHE FEM. MONO APS",unit:"piece",price:"A04CH0"},AC_MALE_CONN_TRI:{id:"2300711032",description:"CONNECTEUR ETANCHE MALE TRI. APS",unit:"piece",price:"A04CJ7"},AC_FEMALE_CONN_TRI:{id:"2300812032",description:"CONNECTEUR ETANCHE FEM. TRI. APS",unit:"piece",price:"A04CK5"},ECU_C:{id:"350029",description:"PASSERELLE COM AVANCEE ECU-C APS",unit:"piece",price:"A046Q2",datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211D5hNhz5MDcv3WsBZvsu9QsPhlSG3uiTTrSUtvdh2GE6TN5a2747epTydS8/lX1fFpYKvSCkpjzx#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211h5eNgz4MAcw3XsCZusv9RsIhkSH3viQTqSVtudg2hE7TM5b2646emTpdJ7/s4TNs6qWgnUcuTwP#/"},TOre_80A:{id:"350040",description:"TORE MESURE COURANT 80A ECU C APS",unit:"piece",price:"A046R0"}},im={MICRO_1000:{id:"FOX-MICRO-1000",description:"Micro-onduleur FoxESS M1-1000-E (2 Entres)",unit:"piece",price:"A2R4J8",power:1e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-M-E-datasheet-V2.1-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-M1-series-Manual.pdf",electrical:{maxInputVoltage:60,minMpptVoltage:24,maxMpptVoltage:60,maxInputCurrent:24,maxAcPower:1e3,maxStrings:2,mpptCount:2,isMicro:!0}},MICRO_AC_CABLE:{id:"10-100-01176-0",description:"CABLE AC MONO FoxESS",unit:"piece",price:"A2R4K6"},MICRO_TEE:{id:"10-208-00083-00",description:"TE DE CONNEXION AC MONO FoxESS",unit:"piece",price:"A2R4Q6"},MICRO_END_CAP:{id:"10-109-00175-00",description:"BOUCHON AC FoxESS",unit:"piece",price:"A2R4N0"},MICRO_GATEWAY:{id:"SMG666.005",description:"PASSERELLE P/MICRO-ONDULEUR",unit:"piece",price:"A2R4H1"},CHINT_MONO:{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",unit:"piece",price:"A2R4G3"},CHINT_TRI:{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",unit:"piece",price:"A4C248"},S3000_G2:{id:"FOX-S3000-G2",description:"Onduleur Fox S3000-G2 (Monophas)",unit:"piece",price:"A2R3X2",power:3e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-S(G2)-Datasheet-V3.3-20250306.pdf",electrical:{maxInputVoltage:500,minMpptVoltage:50,maxMpptVoltage:480,maxInputCurrent:18,maxAcPower:3300,maxStrings:1,mpptCount:1,maxDcPower:4500}},MC4_EVO2_FEM:{id:"32.0316P0010-UR",description:"CONNECTEUR FEM.MC4 EVO2-10 pices",unit:"piece",price:"A0C085"},MC4_EVO2_MALE:{id:"32.0317P0010-UR",description:"CONNECTEUR MALE MC4 EVO2-10 pices",unit:"piece",price:"A0C077"},H1_30_G2:{id:"FOX-H1-3.0-E-G2",description:"Onduleur Hybride Fox H1-3.0-E-G2",unit:"piece",price:"A2R3Y",power:3e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:3300,maxAcCurrent:15,maxStrings:2,mpptCount:2,maxDcPower:4500}},H1_37_G2:{id:"FOX-H1-3.7-E-G2",description:"Onduleur Hybride Fox H1-3.7-E-G2",unit:"piece",price:"A2R3Z",power:3680,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:4400,maxAcCurrent:18.4,maxStrings:2,mpptCount:2,maxDcPower:5500}},H1_46_G2:{id:"FOX-H1-4.6-E-G2",description:"Onduleur Hybride Fox H1-4.6-E-G2",unit:"piece",price:"A2R40",power:4600,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:5060,maxAcCurrent:23,maxStrings:2,mpptCount:2,maxDcPower:6900}},H1_50_G2:{id:"FOX-H1-5.0-E-G2",description:"Onduleur Hybride Fox H1-5.0-E-G2",unit:"piece",price:"A2R41",power:5e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:5500,maxAcCurrent:25,maxStrings:2,mpptCount:2,maxDcPower:7500}},H1_60_G2:{id:"FOX-H1-6.0-E-G2",description:"Onduleur Hybride Fox H1-6.0-E-G2",unit:"piece",price:"A2R42",power:6e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:6600,maxAcCurrent:30,maxStrings:2,mpptCount:2,maxDcPower:9e3}},KH7:{id:"FOX-KH7",description:"Onduleur Hybride Fox KH7 (Monophas)",unit:"piece",price:"A3FT1",power:7e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:7e3,maxStrings:3,mpptCount:3,maxDcPower:10500}},KH8:{id:"FOX-KH8",description:"Onduleur Hybride Fox KH8 (Monophas)",unit:"piece",price:"A3FT3",power:8e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-KH-KA-Datasheet-V1.4-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-KHKA-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:480,maxInputCurrent:20,maxAcPower:8800,maxStrings:3,mpptCount:3,maxDcPower:12e3}},KH9:{id:"FOX-KH9",description:"Onduleur Hybride Fox KH9 (Monophas)",unit:"piece",price:"A3FT5",power:9e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:9e3,maxStrings:3,mpptCount:3,maxDcPower:13500}},KH10:{id:"FOX-KH10",description:"Onduleur Hybride Fox KH10 (Monophas)",unit:"piece",price:"A4BKW4",power:1e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-KH-KA-Datasheet-V1.4-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-KHKA-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:480,maxInputCurrent:20,maxAcPower:10500,maxStrings:4,mpptCount:4,maxDcPower:15e3}},T10_G3:{id:"FOX-T10-G3-TRI",description:"Onduleur Fox T10 G3 (Triphas)",unit:"piece",price:"A2R4L1",power:1e4,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:14,maxAcPower:1e4,maxStrings:2,mpptCount:2}},T15_G3:{id:"FOX-T15-G3-TRI",description:"Onduleur Fox T15 G3 (Triphas)",unit:"piece",price:"A2R4L2",power:15e3,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:28,maxAcPower:15e3,maxStrings:2,mpptCount:2}},T20_G3:{id:"FOX-T20-G3-TRI",description:"Onduleur Fox T20 G3 (Triphas)",unit:"piece",price:"A2R4L3",power:2e4,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:28,maxAcPower:2e4,maxStrings:4,mpptCount:2}},H3_10:{id:"FOX-H3-10.0-E",description:"Onduleur Hybride Fox H3-10.0-E (Triphas)",unit:"piece",price:"A2R48H",power:1e4,electrical:{maxInputVoltage:1e3,minMpptVoltage:160,maxMpptVoltage:950,maxInputCurrent:26,maxAcPower:1e4,maxStrings:2,mpptCount:2,maxDcPower:15e3}},H3_12:{id:"FOX-H3-12.0-E",description:"Onduleur Hybride Fox H3-12.0-E (Triphas)",unit:"piece",price:"A2R49H",power:12e3,electrical:{maxInputVoltage:1e3,minMpptVoltage:160,maxMpptVoltage:950,maxInputCurrent:26,maxAcPower:12e3,maxStrings:2,mpptCount:2,maxDcPower:18e3}},H3_PRO_15:{id:"FOX-H3-PRO-15.0",description:"Onduleur Hybride Fox H3-PRO-15.0 (Triphas)",unit:"piece",price:"A2R48",power:15e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:16500,maxStrings:6,mpptCount:3,maxDcPower:3e4}},H3_PRO_20:{id:"FOX-H3-PRO-20.0",description:"Onduleur Hybride Fox H3-PRO-20.0 (Triphas)",unit:"piece",price:"A2R49",power:2e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:22e3,maxStrings:6,mpptCount:3,maxDcPower:4e4}},H3_PRO_25:{id:"FOX-H3-PRO-25.0",description:"Onduleur Hybride Fox H3-PRO-25.0 (Triphas)",unit:"piece",price:"A2R4A",power:25e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:27500,maxStrings:6,mpptCount:3,maxDcPower:5e4}},H3_PRO_30:{id:"FOX-H3-PRO-30.0",description:"Onduleur Hybride Fox H3-PRO-30.0 (Triphas)",unit:"piece",price:"A2R4B",power:3e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:33e3,maxStrings:6,mpptCount:3,maxDcPower:6e4}},P3_60:{id:"FOX-P3-6.0-SH",description:"Onduleur Hybride Fox P3-6.0-SH (Triphas)",unit:"piece",price:"A2R44",power:6e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:6600,maxStrings:2,mpptCount:2,maxDcPower:9e3}},P3_80:{id:"FOX-P3-8.0-SH",description:"Onduleur Hybride Fox P3-8.0-SH (Triphas)",unit:"piece",price:"A2R45",power:8e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:8800,maxStrings:3,mpptCount:3,maxDcPower:12e3}},P3_10:{id:"FOX-P3-10.0-SH",description:"Onduleur Hybride Fox P3-10.0-SH (Triphas)",unit:"piece",price:"A2R46",power:1e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:11e3,maxStrings:3,mpptCount:3,maxDcPower:18e3}},P3_12:{id:"FOX-P3-12.0-SH",description:"Onduleur Hybride Fox P3-12.0-SH (Triphas)",unit:"piece",price:"A2R47",power:12e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:13200,maxStrings:3,mpptCount:3,maxDcPower:22500}},ECS2900_H2:{id:"FOX-ECS2900-H2",description:"Batterie Fox ECS2900-H2 (5.76 kWh)",unit:"piece",price:"A2R4K7"},ECS2900_H3:{id:"FOX-ECS2900-H3",description:"Batterie Fox ECS2900-H3 (8.64 kWh)",unit:"piece",price:"A2R4L5"},ECS2900_H4:{id:"FOX-ECS2900-H4",description:"Batterie Fox ECS2900-H4 (11.52 kWh)",unit:"piece",price:"A2R4M1"},ECS2900_H5:{id:"FOX-ECS2900-H5",description:"Batterie Fox ECS2900-H5 (14.40 kWh)",unit:"piece",price:"A2R4M8"},ECS2900_H6:{id:"FOX-ECS2900-H6",description:"Batterie Fox ECS2900-H6 (17.28 kWh)",unit:"piece",price:"A2R4P4"},ECS2900_H7:{id:"FOX-ECS2900-H7",description:"Batterie Fox ECS2900-H7 (20.16 kWh)",unit:"piece",price:"A2R4Q0"},ECS4800_H2:{id:"FOX-ECS4800-H2",description:"Batterie Fox ECS4800-H2 (9.48 kWh)",unit:"piece",price:"A2R4X1"},ECS4800_H3:{id:"FOX-ECS4800-H3",description:"Batterie Fox ECS4800-H3 (14.22 kWh)",unit:"piece",price:"A2R4X9"},EP5:{id:"FOX-EP5",description:"Batterie Fox et BMS EP5 (5.18 kWh)",unit:"piece",price:"A2R4E",power:5180,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP5-Datasheet-V1.3-20250711.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP-Manual-V1.0.0-20250407.pdf"},EP6:{id:"FOX-EP6",description:"Batterie Fox et BMS EP6 (5.76 kWh)",unit:"piece",price:"A4BKQ-",power:5760,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP6-Datasheet-V1.1-20250711.pdf",manualUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/20260107/ENEP612ManualV1.0.3.pdf"},EP11:{id:"FOX-EP11",description:"Batterie Fox et BMS EP11 (10.36 kWh)",unit:"piece",price:"A2R4F5",power:10360,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP11-Datasheet-V1.3-20250711.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP-Manual-V1.0.0-20250407.pdf"},EP12:{id:"FOX-EP12",description:"Batterie Fox et BMS EP12 (11.52 kWh)",unit:"piece",price:"A4BKR-",power:11520,datasheetUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/Download/EN-EP12-Datasheet-V1.1-20251023.pdf",manualUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/20260107/ENEP612ManualV1.0.3.pdf"},EQ_CM6000:{id:"FOX-EQ-CM6000",description:"Batterie Fox et BMS EQ CM6000 (5.90 kWh)",unit:"piece",price:"A4BKU-",power:5900,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ6000-Plus-Datasheet-V1.0-20250430.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ-Manual-V1.0.0-20250423.pdf"},EQ_CS6000:{id:"FOX-EQ-CS6000",description:"Batterie Fox EQ CS6000 (5.90 kWh)",unit:"piece",price:"A4BKV-",power:5900,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ6000-Plus-Datasheet-V1.0-20250430.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ-Manual-V1.0.0-20250423.pdf"},EV_7KW:{id:"A7300S1-E-2",description:"BORNE RECHARGE VE MONO 7KW",unit:"piece",price:"A2R4R4",datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-A-V2.0-EV-Charger-shutter-Datasheet-V1.3-20250612.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-7.3kW-EV-Charger-User-Manual-V1.0.pdf"},EV_22KW:{id:"A022KS1-E-A",description:"BORNE RECHARGE VE TRI 22KW",unit:"piece",price:"A2R4S2",datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-A-V2.0-EV-Charger-shutter-Datasheet-V1.3-20250612.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-V2.0-22kW-EV-Charger-User-Manual-V1.0.pdf"},EV_CABLE_7KW:{id:"15254",description:"Cordon VE 3G6mm mono 7,4kW Mle/Femelle 5m type 2",unit:"piece",price:"A4YC51"},EV_CABLE_22KW:{id:"15264",description:"Cordon VE 5G6mm 22kW Mle/Femelle 5m type 2",unit:"piece",price:"A4YC69"}},Fp={13412:{id:"13412",description:"COFFRET 20A MONO 4.5KW 300MA TYPE F 13412",unit:"piece",price:"A4YAU"},13416:{id:"13416",description:"COFFRET 32A MONO 6KW 300MA TYPE F 13416",unit:"piece",price:"A4YAV"},13418:{id:"13418",description:"COFFRET 40A MONO 8KW 300MA TYPE F 13418",unit:"piece",price:"A4YAW"},13474:{id:"13474",description:"COFFRET 16A TRI 9KW 300MA TYPE F 13474",unit:"piece",price:"A4YAX"},13476:{id:"13476",description:"COFFRET 20A TRI 12KW 300MA TYPE F 13476",unit:"piece",price:"A4YAY"},12334:{id:"12334",description:"COFAC 25A TRI 16KW 300MA TYPE F 12334",unit:"piece",price:"A4YB1"},12338:{id:"12338",description:"COFAC 40A TRI 24KW 300MA TYPE F 12338",unit:"piece",price:"A4YB2"},12340:{id:"12340",description:"COFAC 63A TRI 36KW 300MA TYPE F 12340",unit:"piece",price:"A4YB3"},12232:{id:"12232",description:"COFFRET DC 600V 1S/MPPT 2MPPT 12232",unit:"piece",price:"A4YBH"},12272:{id:"12272",description:"COFFRET 1000V 1S/MPPT 2MPPT IP65 12272",unit:"piece",price:"A3MBR"},12282:{id:"12282",description:"COFFRET 600V 1S/MPPT 3MPPT 12282",unit:"piece",price:"A4YBJ"},12522:{id:"12522",description:"COFFRET 20A M 300MA TYPE B 12522",unit:"piece",price:"A3MAW"},12526:{id:"12526",description:"COFFRET 32A MONO 300MA 6KW TYPE B 12526",unit:"piece",price:"A3MAX"},12528:{id:"12528",description:"COFFRET 40A MONO 8KW 300MA TYPE B 12528",unit:"piece",price:"A4YAZ"},12501:{id:"12501",description:"COFFRET 20A TRI 12KW 300MA TYPE B 12501",unit:"piece",price:"A4YB0"},12333:{id:"12333",description:"COFAC 25A TRI 16KW 300MA TYPE B 12333",unit:"piece",price:"A4YB4"},12337:{id:"12337",description:"COFAC 40A TRI 24KW 300MA TYPE B 12337",unit:"piece",price:"A4YB5"},12341:{id:"12341",description:"COFAC 63A TRI 36KW 300MA TYPE B 12341",unit:"piece",price:"A4YB6"},12233:{id:"12233",description:"COFFRET 600V 1S/MPPT 2MPPT+FUSIBLE 20A 12233",unit:"piece",price:"A4YBK"},12273:{id:"12273",description:"COFFRET 1000V 1S/MPPT 2MPPT+F20A IP65 12273",unit:"piece",price:"A3MBW"},12283:{id:"12283",description:"COFFRET 600V 1S/MPPT 3MPPT+FUS20A 12283",unit:"piece",price:"A3MEF"},12554:{id:"12554",description:"COFFRET 25A M 300MA TYP.B+BCK PART.IP30 12554",unit:"piece",price:"A3MBH"},12556:{id:"12556",description:"COFFRET 32A MONO 300MA TYP.B+BACKUP 12556",unit:"piece",price:"A3MBJ"},12558:{id:"12558",description:"COFFRET BKUP 40A MONO 8KW 300MA TYPE B 12558",unit:"piece",price:"A4YBF"},12507:{id:"12507",description:"COFFRET BKUP 20A TRI 12KW 300MA TYPE B 12507",unit:"piece",price:"A4YBG"},13462:{id:"13462",description:"COFFRET 20A MONO 4.5KW 30MA SS QRELAY 13462",unit:"piece",price:"A4YB7"},13464:{id:"13464",description:"COFFRET 2X20A MONO 8KW 30MA SS QRELAY 13464",unit:"piece",price:"A4YB8"},13466:{id:"13466",description:"COFFRET 3X20A MONO 12KW 30MA SS QRELAY 13466",unit:"piece",price:"A4YB9"},13488:{id:"13488",description:"COFFRET 16A TRI 9KW 30MA 1 SS QRELAY 13488",unit:"piece",price:"A4YBA"},13442:{id:"13442",description:"COFFRET 20A 30MA MONO 4.5KW +PASS 13442",unit:"piece",price:"A4YBB"},13444:{id:"13444",description:"COFFRET 40A MONO 8KW 30MA 2X20A +PASS 13444",unit:"piece",price:"A4YBC"},13446:{id:"13446",description:"COFFRET 63A MONO 12KW 30MA 3X20A +PASS 13446",unit:"piece",price:"A4YBD"},13498:{id:"13498",description:"COFFRET 16A TRI 9KW 30MA +PASS 13498",unit:"piece",price:"A4YBE"},"DISJ-20A":{id:"DISJ-20A",description:"Disjoncteur Ph+N 20A Courbe C 6kA",unit:"piece",price:"A08TR"},"DISJ-32A":{id:"DISJ-32A",description:"Disjoncteur Ph+N 32A Courbe C 6kA",unit:"piece",price:"A08TS"},"DISJ-40A":{id:"DISJ-40A",description:"Disjoncteur Ph+N 40A Courbe C 6kA",unit:"piece",price:"A08TT"},"DISJ-16A-TRI":{id:"DISJ-16A-TRI",description:"Disjoncteur Triphas 16A Courbe C 6kA",unit:"piece",price:"A08TU"},"DISJ-20A-TRI":{id:"DISJ-20A-TRI",description:"Disjoncteur Triphas 20A Courbe C 6kA",unit:"piece",price:"A08TV"},"01520":{id:"01520",description:"Disjoncteur 2x20 A C6 kA",unit:"piece",price:"A4YBP3"},"02018":{id:"02018",description:"Disjoncteur 2x32 A C6 kA",unit:"piece",price:"A4YBQ1"},"02020":{id:"02020",description:"Disjoncteur 2x40 A C6 kA",unit:"piece",price:"A4YBR9"},"02024":{id:"02024",description:"Disjoncteur 2x63 A C6 kA",unit:"piece",price:"A4YBS7"},"02048":{id:"02048",description:"Disjoncteur 4x16 A C6 kA",unit:"piece",price:"A4YBT5"},"02050":{id:"02050",description:"Disjoncteur 4x20 A C6 kA",unit:"piece",price:"A4YBU2"},"02052":{id:"02052",description:"Disjoncteur 4x25 A C6 kA",unit:"piece",price:"A4YBV0"},"02054":{id:"02054",description:"Disjoncteur 4x32 A C6 kA",unit:"piece",price:"A4YBW8"},"02056":{id:"02056",description:"Disjoncteur 4x40 A C6 kA",unit:"piece",price:"A4YSY3"},"03140":{id:"03140",description:"Disjoncteur Diff mono 40A/30mA Type F 10kA",unit:"piece",price:"A4YC28"},"03446":{id:"03446",description:"Inter Diff Tri 40A/30mA Type F",unit:"piece",price:"A4YC44"}},cm=[{name:"TCL HSM-ND48-DR-450",description:"TCL HSM-ND48-DR-450",width:1134,height:1762,power:450,price:"A4HQY7",imageUrl:"https://images.unsplash.com/photo-1545208942-e1c9c9918a44?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/product-datasheets/fr/FR_TCL_Solar_Panels_TCL_Solar_T_Class__430_450_W_(HSM_ND48_DR)_Fiches_techniques.pdf",manualUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/manuals-and-technical-sheets/fr/FR_TCL_Solar_Panels_Instructions_de_securite_et_d_installation_pour_les_Modules_TCL_Manuel.pdf",electrical:{voc:35.56,isc:16.06,vmp:30.13,imp:14.94,tempCoeffVoc:-.25}},{name:"TCL HSM-ND54- DR500",description:"TCL HSM-ND54- DR500",width:1134,height:1961,power:500,price:"A4HQZ6",imageUrl:"https://images.unsplash.com/photo-1545208942-e1c9c9918a44?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/product-datasheets/fr/FR_TCL_Solar_Panels_TCL_Solar_T_Class__485_510_W_(HSM_ND54_DR)_Fiches_techniques.pdf",manualUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/manuals-and-technical-sheets/fr/FR_TCL_Solar_Panels_Instructions_de_securite_et_d_installation_pour_les_Modules_TCL_Manuel.pdf",electrical:{voc:39.92,isc:15.81,vmp:33.7,imp:14.84,tempCoeffVoc:-.25}},{name:"DMEGC DM500M10RT-B60HBT",description:"DMEGC DM500M10RT-B60HBT",width:1134,height:1950,power:500,price:"A09WQ0",imageUrl:"https://images.unsplash.com/photo-1624397840029-22a893233550?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://www.dmegcsolar.com/upload/img/2025-11/690ccd063e961.pdf",manualUrl:"https://www.dmegcsolar.com/upload/img/2025-07/688b49495b469.pdf",videoUrl:"https://www.youtube.com/watch?v=tN0fVsbY8lg",electrical:{voc:44.22,isc:14.04,vmp:36.87,imp:13.56,tempCoeffVoc:-.25}}],ga={name:"Panneau Personnalis",width:1134,height:1722,power:425,electrical:{voc:38,isc:14,vmp:32,imp:13,tempCoeffVoc:-.27}},Gp={"81010511509200":{id:"81010511509200",description:"CABLE R2V 5G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUP1"},"81010512509200":{id:"81010512509200",description:"CABLE R2V 5G2.5 C100 MIGUELEZ",unit:"piece",price:"A0AUU0"},"81010411509200":{id:"81010411509200",description:"CABLE R2V 4G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUM5"},"81010411509205":{id:"81010411509205",description:"CABLE R2V 4G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUN3"},"81010412509205":{id:"81010412509205",description:"CABLE R2V 4G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUT3"},"81010511509205":{id:"81010511509205",description:"CABLE R2V 5G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUQ9"},"81010512509205":{id:"81010512509205",description:"CABLE R2V 5G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUV8"},"810105100609205":{id:"810105100609205",description:"CABLE R2V 5G6 C50 MIGUELEZ",unit:"piece",price:"A0AV18"},"81010311509200":{id:"81010311509200",description:"CABLE R2V 3G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUJ1"},"81010312509200":{id:"81010312509200",description:"CABLE R2V 3G2.5 C100 MIGUELEZ",unit:"piece",price:"A0AUR7"},"81010311509205":{id:"81010311509205",description:"CABLE R2V 3G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUK9"},"81010312509205":{id:"81010312509205",description:"CABLE R2V 3G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUS5"},"810103100609205":{id:"810103100609205",description:"CABLE R2V 3G6 C50 MIGUELEZ",unit:"piece",price:"A0AUX4"},"810103101009205":{id:"810103101009205",description:"CABLE R2V 3G10 C50 MIGUELEZ",unit:"piece",price:"A0AV42"},"810103101009200":{id:"810103101009200",description:"CABLE R2V 3G10 C100 MIGUELEZ",unit:"piece",price:"A0AV59"},"810103101609207":{id:"810103101609207",description:"CABLE R2V 3G16 T500 MIGUELEZ",unit:"piece",price:"A3ERE1"},"CABLE-R2V-3G25-C":{id:"CABLE-R2V-3G25-C",description:"CABLE R2V 3G25 C",unit:"piece",price:"ND"},"821101000609200":{id:"821101000609200",description:"CABLE H1Z2Z2 1x6 (noir) C100 MIGUELEZ",unit:"piece",price:"A3ERG"},"821101000609400":{id:"821101000609400",description:"CABLE H1Z2Z2 1x6 (rouge) C100 MIGUELEZ",unit:"piece",price:"A3ERF"},"CABLE-DC-10MM":{id:"CABLE-DC-10MM",description:"Cble Solaire DC H1Z2Z2-K 10mm",unit:"m",price:""},"MC4-EXT-2M":{id:"303037",description:"Rallonge MC4 2M",unit:"piece",price:"A0BEX2"},"820001000608600":{id:"820001000608600",description:"CABLE TERRE H07V-K 1X6 VJ C100",unit:"piece",price:"A0AV34"},CAB14124171:{id:"CAB14124171",description:"CABLE LIYCY 2X0.75 C100",unit:"piece",price:"A01NF9"}},rm=({roof:r,panels:f,maxDimension:p=400,bare:o=!1,roofName:x})=>{const g=r.width*1e3,U=r.height*1e3,w=r.margins||{top:0,bottom:0,left:0,right:0};if(g===0||U===0||!f.model){const Re=n.jsx("div",{className:"flex items-center justify-center h-full bg-slate-200 rounded-lg",style:{width:`${p}px`,height:`${p*.75}px`},children:n.jsx("p",{className:"text-slate-500 text-center p-4",children:"Veuillez entrer les dimensions de la toiture."})});return o?Re:n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md flex flex-col items-center justify-center gap-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-slate-700",children:["Visualisation de la toiture ",x&&n.jsxs("span",{className:"text-orange-500 uppercase font-black",children:["  ",x]})]}),Re]})}const M=f.orientation==="Portrait",h=f.model.width,j=f.model.height,R=f.columns,H=f.rows,O=20,T=M?R*h+Math.max(0,R-1)*O:R*j+Math.max(0,R-1)*O,I=M?H*j+Math.max(0,H-1)*O:H*h+Math.max(0,H-1)*O,k=Math.min(1,p/g),z=Math.min(1,p/U),Q=Math.min(k,z),te=g-w.left-w.right,le=U-w.top-w.bottom,q=T>te,d=I>le,G=!q&&!d,de=f.rowConfiguration||Array(H).fill(R);return n.jsxs("div",{className:`flex flex-col items-center justify-center gap-4 w-full ${o?"":"p-4 bg-white rounded-lg shadow-md"}`,children:[!o&&n.jsxs("h3",{className:"text-lg font-semibold text-slate-700",children:["Visualisation ",n.jsxs("span",{className:"text-orange-500 font-black uppercase",children:["  ",x||"Toiture"]})]}),n.jsxs("div",{className:`relative bg-orange-200 border-2 ${G?"border-orange-400":"border-red-500"} ${!o&&!G?"animate-pulse":""}`,style:{width:g*Q,height:U*Q},children:[n.jsx("div",{className:"absolute",style:{top:w.top*Q,left:w.left*Q,width:te>0?te*Q:0,height:le>0?le*Q:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:O*Q},children:de.map((Re,Be)=>{if(Be>=H)return null;const Ue=(M?h:j)*Q,ue=(M?j:h)*Q;return n.jsx("div",{style:{display:"flex",gap:O*Q},children:Array.from({length:Re}).map((fe,ie)=>{if(Ue<8||ue<8)return n.jsx("div",{className:"bg-slate-800 border border-slate-600/50",style:{width:Ue,height:ue}},`p-${Be}-${ie}`);const Ae=M?6:10,S=Ae-1;return n.jsx("div",{className:"relative bg-slate-900 flex shadow-sm",style:{width:Ue,height:ue,border:"1px solid #94a3b8",flexDirection:M?"column":"row",padding:"1px"},children:n.jsx("div",{className:"flex-1 flex w-full h-full bg-[#172033]",style:{flexDirection:M?"column":"row"},children:Array.from({length:Ae}).map((y,W)=>n.jsx("div",{className:"flex-1 border-slate-600/50",style:{[M?"borderBottom":"borderRight"]:W<S?"1px solid":"none"}},W))})},`p-${Be}-${ie}`)})},`row-${Be}`)})}),n.jsx("div",{className:"absolute text-center text-xs text-slate-600 font-mono",style:{left:0,right:0,top:w.top*Q/2-8},children:w.top}),n.jsx("div",{className:"absolute text-center text-xs text-slate-600 font-mono",style:{left:0,right:0,bottom:w.bottom*Q/2-8},children:w.bottom}),n.jsx("div",{className:"absolute top-0 bottom-0 flex items-center text-xs text-slate-600 -rotate-90 whitespace-nowrap font-mono",style:{left:w.left*Q/2-25,transformOrigin:"center"},children:n.jsx("span",{children:w.left})}),n.jsx("div",{className:"absolute top-0 bottom-0 flex items-center text-xs text-slate-600 rotate-90 whitespace-nowrap font-mono",style:{right:w.right*Q/2-25,transformOrigin:"center"},children:n.jsx("span",{children:w.right})}),n.jsxs("div",{className:`absolute -top-6 left-0 w-full text-center text-sm font-medium ${q?"text-red-600":"text-slate-600"}`,children:[r.width.toFixed(2)," m"]}),n.jsxs("div",{className:`absolute top-0 -left-12 h-full flex items-center text-sm font-medium -rotate-90 ${d?"text-red-600":"text-slate-600"}`,children:[r.height.toFixed(2)," m"]}),n.jsx("div",{className:"absolute border border-dashed border-slate-600/40 pointer-events-none",style:{top:w.top*Q,left:w.left*Q,width:te>0?te*Q:0,height:le>0?le*Q:0}})]}),n.jsxs("div",{className:`text-center text-sm text-slate-600 w-full ${o?"max-w-full":"max-w-md"}`,children:[n.jsxs("p",{children:["Dimensions du champ PV : ",n.jsxs("span",{className:"font-bold",children:[(T/1e3).toFixed(2),"m"]})," x ",n.jsxs("span",{className:"font-bold",children:[(I/1e3).toFixed(2),"m"]})]}),!G&&n.jsxs("div",{className:`mt-3 p-3 bg-red-50 border-l-4 border-red-400 text-red-700 text-left ${o?"text-xs":""}`,role:"alert",children:[n.jsx("p",{className:"font-bold",children:"Le champ de panneaux est trop grand !"}),n.jsxs("ul",{className:"list-disc list-inside mt-1 text-xs",children:[q&&n.jsxs("li",{children:["La ",n.jsx("strong",{children:"largeur"})," dpasse de ",((T-te)/1e3).toFixed(2)," m."]}),d&&n.jsxs("li",{children:["La ",n.jsx("strong",{children:"hauteur"})," dpasse de ",((I-le)/1e3).toFixed(2)," m."]})]})]})]})]})},om=({className:r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),um=({className:r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Yp=({className:r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Xo=({className:r})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ms=({className:r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Ip=({className:r})=>n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 3.487a2.1 2.1 0 012.972 2.972L8.5 17.793 4 19l1.207-4.5L16.862 3.487z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5l4 4"})]}),dm=({className:r})=>n.jsxs("svg",{className:`animate-spin ${r}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),lu=({className:r})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:r,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Xp=({roof:r,panels:f,system:p,railOrientation:o})=>{const g=ae.useId().replace(/:/g,""),U=`arrow-${g}`,w=`arrow-detail-${g}`,M=`hatch-${g}`,h=`margin-hatch-${g}`;if(!r||!f||!f.model)return n.jsx("div",{className:"text-center text-slate-400 text-sm p-10",children:"Donnes insuffisantes pour le schma"});const j=r.width*1e3,R=r.height*1e3,H=r.margins||{top:0,bottom:0,left:0,right:0},O=f.orientation==="Portrait",I=(o||p.railOrientation||"Horizontal")==="Vertical",k=f.model.width,z=f.model.height,Q=20,te=Math.max(j,R),q=(te>0?te:1e3)/100,d=Math.max(10,q*2),G=Math.max(8,q*1.8),de=Math.max(1,q*.15),Re=q*15,Be=j+Re*2,Ue=R+Re*2,ue=Re,fe=Re,ie=f.columns,Ae=f.rows,S=O?ie*k+Math.max(0,ie-1)*Q:ie*z+Math.max(0,ie-1)*Q,y=O?Ae*z+Math.max(0,Ae-1)*Q:Ae*k+Math.max(0,Ae-1)*Q,W=ue+H.left,pe=fe+H.top,ge=j-H.left-H.right,v=R-H.top-H.bottom,_=W+(ge-S)/2,A=pe+(v-y)/2,J=n.jsxs("defs",{children:[n.jsx("marker",{id:U,markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("path",{d:"M0,0 L0,6 L6,3 z",fill:"#ef4444"})}),n.jsx("marker",{id:w,markerWidth:"4",markerHeight:"4",refX:"3",refY:"2",orient:"auto",markerUnits:"strokeWidth",children:n.jsx("path",{d:"M0,0 L0,4 L4,2 z",fill:"#059669"})}),n.jsx("pattern",{id:M,patternUnits:"userSpaceOnUse",width:"4",height:"4",children:n.jsx("path",{d:"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2",stroke:"#059669",strokeWidth:"1",opacity:"0.3"})}),n.jsxs("pattern",{id:h,patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45)",children:[n.jsx("rect",{width:"8",height:"8",fill:"#fee2e2",opacity:"0.5"}),n.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"8",stroke:"#fca5a5",strokeWidth:"2",opacity:"0.5"})]})]}),Z=(K,re,be,Ne,Ee,He,Fe,Pe=!1)=>{const Ge=Pe?q*1:q*3;let rt=K,jt=re,at=be,Dt=Ne,wt=(K+be)/2,Rl=(re+Ne)/2;const $t=Pe?"#059669":"#ef4444",ml=Pe?`url(#${w})`:`url(#${U})`,ql=Pe?G:d;return Fe?(rt-=He,at-=He,wt-=He+Ge,n.jsxs("g",{children:[n.jsx("line",{x1:K,y1:re,x2:rt,y2:re,stroke:$t,strokeWidth:de,opacity:"0.3"}),n.jsx("line",{x1:be,y1:Ne,x2:at,y2:Ne,stroke:$t,strokeWidth:de,opacity:"0.3"}),n.jsx("line",{x1:rt,y1:re,x2:at,y2:Ne,stroke:$t,strokeWidth:de,markerStart:ml,markerEnd:ml}),n.jsx("text",{x:wt,y:Rl,fill:$t,fontSize:ql,textAnchor:"end",alignmentBaseline:"middle",fontWeight:"bold",style:{textShadow:"0px 0px 4px white"},children:Ee})]},`dim-v-${K}-${re}-${be}-${Math.random()}`)):(jt-=He,Dt-=He,Rl-=He+Ge,n.jsxs("g",{children:[n.jsx("line",{x1:K,y1:re,x2:K,y2:jt,stroke:$t,strokeWidth:de,opacity:"0.3"}),n.jsx("line",{x1:be,y1:Ne,x2:be,y2:Dt,stroke:$t,strokeWidth:de,opacity:"0.3"}),n.jsx("line",{x1:rt,y1:jt,x2:at,y2:Dt,stroke:$t,strokeWidth:de,markerStart:ml,markerEnd:ml}),n.jsx("text",{x:wt,y:Rl,fill:$t,fontSize:ql,textAnchor:"middle",alignmentBaseline:"baseline",fontWeight:"bold",style:{textShadow:"0px 0px 4px white"},children:Ee})]},`dim-h-${K}-${re}-${be}-${Math.random()}`))},se=[],me=[],_e=p.brand==="ESDEC"?"#94a3b8":"#475569",Ve=Math.max(2,q*.3);if(I){for(let Ee=0;Ee<ie;Ee++){const He=_+Ee*((O?k:z)+Q),Fe=O?k:z,Pe=He+Fe*.25,Ge=He+Fe*.75;se.push(n.jsx("line",{x1:Pe,y1:A,x2:Pe,y2:A+y,stroke:_e,strokeWidth:Ve,strokeDasharray:`${q},${q}`},`rv-${Ee}-1`)),se.push(n.jsx("line",{x1:Ge,y1:A,x2:Ge,y2:A+y,stroke:_e,strokeWidth:Ve,strokeDasharray:`${q},${q}`},`rv-${Ee}-2`))}const K=O?k:z,re=_+K*.15,be=K*.2,Ne=_+K*.65;me.push(n.jsx("rect",{x:re,y:A,width:be,height:O?z:k,fill:`url(#${M})`,stroke:"none"},"cz-1")),me.push(n.jsx("rect",{x:Ne,y:A,width:be,height:O?z:k,fill:`url(#${M})`,stroke:"none"},"cz-2"))}else{for(let Ee=0;Ee<Ae;Ee++){const He=A+Ee*((O?z:k)+Q),Fe=O?z:k,Pe=He+Fe*.25,Ge=He+Fe*.75;se.push(n.jsx("line",{x1:_,y1:Pe,x2:_+S,y2:Pe,stroke:_e,strokeWidth:Ve,strokeDasharray:`${q},${q}`},`rh-${Ee}-1`)),se.push(n.jsx("line",{x1:_,y1:Ge,x2:_+S,y2:Ge,stroke:_e,strokeWidth:Ve,strokeDasharray:`${q},${q}`},`rh-${Ee}-2`))}const K=O?z:k,re=A+K*.15,be=K*.2,Ne=A+K*.65;me.push(n.jsx("rect",{x:_,y:re,width:O?k:z,height:be,fill:`url(#${M})`,stroke:"none"},"cz-1")),me.push(n.jsx("rect",{x:_,y:Ne,width:O?k:z,height:be,fill:`url(#${M})`,stroke:"none"},"cz-2"))}const nt=[];for(let K=0;K<Ae;K++)for(let re=0;re<ie;re++){const be=O?k:z,Ne=O?z:k,Ee=_+re*(be+Q),He=A+K*(Ne+Q);nt.push(n.jsx("rect",{x:Ee,y:He,width:be,height:Ne,fill:"#3b82f6",fillOpacity:"0.05",stroke:"#2563eb",strokeWidth:q*.1},`p-${K}-${re}`))}const Xe=[],tt=[];if(I){const K=O?k:z,re=_+K*.25,be=_+K*.75;H.left>0&&tt.push(Z(ue,A+y/2,_,A+y/2,`Marge ${H.left}`,-q*5,!1,!1)),H.right>0&&tt.push(Z(_+S,A+y/2,ue+j,A+y/2,`Marge ${H.right}`,-q*5,!1,!1));const Ne=A+(O?z:k)*.15;Xe.push(Z(_,Ne,re,Ne,`${(K*.25).toFixed(0)}`,-q*2,!1,!0)),Xe.push(Z(re,Ne,be,Ne,`Entraxe ${(K*.5).toFixed(0)}`,-q*2,!1,!0)),Xe.push(n.jsx("text",{x:_+K*.15,y:A-q*2,fontSize:G,fill:"#059669",fontWeight:"bold",children:"Zone de serrage"},"txt-zone"))}else{const K=O?z:k,re=A+K*.25,be=A+K*.75;H.top>0&&tt.push(Z(ue+j/2,fe,ue+j/2,A,`Marge ${H.top}`,-q*8,!0,!1)),H.bottom>0&&tt.push(Z(ue+j/2,A+y,ue+j/2,fe+R,`Marge ${H.bottom}`,-q*8,!0,!1));const Ne=_+(O?k:z)*.2;Xe.push(Z(Ne,A,Ne,re,`${(K*.25).toFixed(0)}`,-q*3,!0,!0)),Xe.push(Z(Ne,re,Ne,be,`Entraxe ${(K*.5).toFixed(0)}`,-q*3,!0,!0)),Xe.push(n.jsx("text",{x:_-q*15,y:A+K*.15+K*.2/2,fontSize:G,fill:"#059669",fontWeight:"bold",children:"Zone de serrage"},"txt-zone"))}return n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsxs("svg",{viewBox:`0 0 ${Be} ${Ue}`,className:"w-full h-full max-w-full max-h-full",children:[J,n.jsx("rect",{x:ue,y:fe,width:j,height:R,fill:"#f8fafc",stroke:"#64748b",strokeWidth:q*.2}),(H.top>0||H.bottom>0||H.left>0||H.right>0)&&n.jsx("path",{d:`
                    M ${ue},${fe} 
                    L ${ue+j},${fe} 
                    L ${ue+j},${fe+R} 
                    L ${ue},${fe+R} 
                    Z
                    M ${W},${pe}
                    L ${W},${pe+v}
                    L ${W+ge},${pe+v}
                    L ${W+ge},${pe}
                    Z
                `,fill:`url(#${h})`,fillRule:"evenodd"}),(H.top>0||H.bottom>0||H.left>0||H.right>0)&&n.jsx("rect",{x:W,y:pe,width:ge,height:v,fill:"none",stroke:"#ef4444",strokeWidth:q*.1,strokeDasharray:`${q},${q}`,opacity:"0.4"}),nt,me,se,Z(ue,fe+R,ue+j,fe+R,`${(j/1e3).toFixed(2)}m`,q*4,!1),Z(ue,fe,ue,fe+R,`${(R/1e3).toFixed(2)}m`,q*4,!0),tt,ie>0&&Ae>0&&n.jsxs(n.Fragment,{children:[Z(_,A,_+S,A,`Champ PV ${(S/1e3).toFixed(2)}m`,-q*10,!1),Z(_+S,A,_+S,A+y,`Champ PV ${(y/1e3).toFixed(2)}m`,-q*10,!0)]}),Xe]})})},Zp=({project:r,materials:f})=>{var w,M,h,j,R;const p=r.inverterConfig.brand===ne.ENPHASE||r.inverterConfig.brand===ne.APSYSTEMS||r.inverterConfig.brand===ne.FOXESS&&((w=r.inverterConfig.model)==null?void 0:w.includes("MICRO"));r.inverterConfig.brand===ne.FOXESS&&((M=r.inverterConfig.model)!=null&&M.includes("H1")||(h=r.inverterConfig.model)!=null&&h.includes("H3")||(j=r.inverterConfig.model)!=null&&j.includes("KH")||((R=r.inverterConfig.model)==null||R.includes("P3")));const o={NEUTRAL:"#3b82f6",PHASE:"#ef4444",GROUND:"#16a34a",CABLING:"#1e293b",RJ45:"#f97316",TORE:"#eab308",BORDER:"#cbd5e1"},x={Linky:(H,O)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"50",height:"70",rx:"4",fill:"#a3e635",stroke:"#4d7c0f",strokeWidth:"2"}),n.jsx("rect",{x:"10",y:"10",width:"30",height:"20",fill:"white",stroke:"#4d7c0f"}),n.jsx("rect",{x:"15",y:"45",width:"20",height:"15",fill:"#3f6212",rx:"2"}),n.jsx("text",{x:"25",y:"25",fontSize:"8",textAnchor:"middle",fill:"#4d7c0f",fontWeight:"bold",children:"LINKY"})]}),AGCP:(H,O)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"40",height:"60",rx:"2",fill:"#e2e8f0",stroke:"#64748b",strokeWidth:"2"}),n.jsx("line",{x1:"10",y1:"15",x2:"30",y2:"15",stroke:"#64748b"}),n.jsx("line",{x1:"10",y1:"30",x2:"30",y2:"30",stroke:"#64748b"}),n.jsx("rect",{x:"15",y:"40",width:"10",height:"10",fill:"#ef4444"}),n.jsx("text",{x:"20",y:"75",fontSize:"8",textAnchor:"middle",fontWeight:"bold",children:"AGCP"})]}),InverterH1:(H,O,T)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"100",height:"100",rx:"12",fill:"white",stroke:"#64748b",strokeWidth:"2"}),n.jsx("path",{d:"M0 70 Q50 80 100 70 L100 100 Q50 110 0 100 Z",fill:"#f1f5f9",stroke:"#64748b",strokeWidth:"2"}),n.jsx("circle",{cx:"50",cy:"40",r:"10",fill:"#e2e8f0"}),n.jsx("text",{x:"50",y:"125",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:T})]}),BatteryEP:(H,O)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"100",height:"100",rx:"8",fill:"#1e293b",stroke:"#0f172a"}),n.jsx("path",{d:"M50 25 L35 55 L45 55 L40 75 L65 45 L55 45 L60 25 Z",fill:"#3b82f6"}),n.jsx("text",{x:"50",y:"120",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"Batterie PV"})]}),Gateway:(H,O,T)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"80",height:"50",rx:"4",fill:"#f8fafc",stroke:"#64748b",strokeWidth:"2"}),n.jsx("circle",{cx:"20",cy:"25",r:"3",fill:"#22c55e"}),n.jsx("circle",{cx:"40",cy:"25",r:"3",fill:"#22c55e"}),n.jsx("circle",{cx:"60",cy:"25",r:"3",fill:"#94a3b8"}),n.jsx("text",{x:"40",y:"65",fontSize:"9",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:T})]}),CoffretAC:(H,O,T)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"160",height:"110",rx:"6",fill:"#f0f9ff",stroke:"#7dd3fc",strokeWidth:"2",fillOpacity:"0.5"}),n.jsx("rect",{x:"20",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),n.jsx("rect",{x:"65",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),n.jsx("rect",{x:"110",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),n.jsx("text",{x:"80",y:"-10",fontSize:"12",textAnchor:"middle",fontWeight:"black",fill:"#0369a1",children:T})]}),DomesticBoard:(H,O)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("rect",{x:"0",y:"0",width:"80",height:"140",rx:"2",fill:"white",stroke:"#64748b",strokeWidth:"2"}),[20,50,80,110].map(T=>n.jsx("rect",{x:"10",y:T,width:"60",height:"10",fill:"#e2e8f0"},T)),n.jsx("text",{x:"40",y:"160",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"Tableau lectrique"}),n.jsx("text",{x:"40",y:"175",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"domestique"})]}),Tore:(H,O)=>n.jsxs("g",{transform:`translate(${H}, ${O})`,children:[n.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"white",stroke:o.TORE,strokeWidth:"3"}),n.jsx("text",{x:"15",y:"5",fontSize:"10",fill:o.TORE,fontWeight:"black",children:"Tore"})]})},g=()=>n.jsxs("g",{transform:"translate(50, 50)",children:[n.jsxs("g",{transform:"translate(0, 50)",children:[n.jsx("rect",{x:"0",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),n.jsx("rect",{x:"110",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),n.jsx("text",{x:"105",y:"-15",fontSize:"14",fontWeight:"black",textAnchor:"middle",fill:"#1e293b",children:"Installation PV"})]}),n.jsxs("g",{transform:"translate(40, 250)",children:[n.jsx("rect",{x:"0",y:"0",width:"120",height:"80",fill:"white",stroke:"#64748b",strokeWidth:"2",rx:"4"}),n.jsx("text",{x:"60",y:"100",fontSize:"10",textAnchor:"middle",fontWeight:"bold",children:"Coffret DC"})]}),x.InverterH1(210,230,`Onduleur ${r.inverterConfig.model||"Hybride"}`),r.inverterConfig.hasBattery&&x.BatteryEP(210,420),x.CoffretAC(450,230,"Coffret AC Protection"),x.Linky(720,100),x.AGCP(790,100),x.DomesticBoard(500,480),n.jsx("path",{d:"M50 200 L50 250",stroke:o.CABLING,strokeWidth:"3",fill:"none"}),n.jsx("path",{d:"M160 290 L210 290",stroke:o.CABLING,strokeWidth:"3",fill:"none"}),r.inverterConfig.hasBattery&&n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:"260",y1:"330",x2:"260",y2:"420",stroke:o.CABLING,strokeWidth:"3"}),n.jsx("line",{x1:"240",y1:"330",x2:"240",y2:"420",stroke:o.RJ45,strokeWidth:"2",strokeDasharray:"3,3"})]}),n.jsx("path",{d:"M310 280 L450 280",stroke:o.CABLING,strokeWidth:"3",fill:"none"}),n.jsx("path",{d:"M530 340 L530 480",stroke:o.CABLING,strokeWidth:"4",fill:"none"}),n.jsx("path",{d:"M745 170 L745 250 L610 250",stroke:o.CABLING,strokeWidth:"4",fill:"none"}),x.Tore(745,210),n.jsx("path",{d:"M745 210 L745 400 L260 400 L260 330",stroke:o.TORE,strokeWidth:"2",strokeDasharray:"4,2",fill:"none",opacity:"0.6"}),n.jsx("text",{x:"500",y:"395",fontSize:"8",fill:o.TORE,fontWeight:"bold",children:"Com. Tore (Modbus/CT)"})]}),U=()=>{const H=r.inverterConfig.brand===ne.ENPHASE?"Passerelle ENVOY":r.inverterConfig.brand===ne.APSYSTEMS?"Passerelle ECU":"Passerelle Com";return n.jsxs("g",{transform:"translate(50, 50)",children:[n.jsx("g",{transform:"translate(0, 50)",children:[0,1].map(O=>n.jsxs("g",{transform:`translate(${O*120}, 0)`,children:[n.jsx("rect",{x:"0",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),n.jsx("rect",{x:"25",y:"160",width:"50",height:"40",fill:"white",stroke:"#64748b",rx:"4"}),n.jsx("text",{x:"50",y:"185",fontSize:"8",textAnchor:"middle",children:"Micro-inv."}),n.jsx("line",{x1:"50",y1:"150",x2:"50",y2:"160",stroke:o.CABLING,strokeWidth:"2"})]},O))}),n.jsxs("g",{transform:"translate(300, 160)",children:[n.jsx("rect",{x:"0",y:"0",width:"80",height:"60",rx:"4",fill:"#f8fafc",stroke:"#64748b",strokeWidth:"2"}),n.jsx("text",{x:"40",y:"80",fontSize:"10",textAnchor:"middle",fontWeight:"bold",children:"Bote de jonction"})]}),x.CoffretAC(450,140,"Coffret AC Monitoring"),x.Gateway(490,270,H),x.Linky(720,50),x.AGCP(790,50),x.DomesticBoard(500,420),n.jsx("path",{d:"M120 180 L300 180",stroke:o.CABLING,strokeWidth:"3",fill:"none"}),n.jsx("path",{d:"M380 190 L450 190",stroke:o.CABLING,strokeWidth:"3",fill:"none"}),n.jsx("path",{d:"M530 250 L530 420",stroke:o.CABLING,strokeWidth:"4",fill:"none"}),n.jsx("path",{d:"M745 120 L745 190 L610 190",stroke:o.CABLING,strokeWidth:"4",fill:"none"}),x.Tore(745,160),n.jsx("path",{d:"M745 160 L745 300 L570 300",stroke:o.TORE,strokeWidth:"2",strokeDasharray:"4,2",fill:"none",opacity:"0.6"}),n.jsx("text",{x:"640",y:"315",fontSize:"8",fill:o.TORE,fontWeight:"bold",children:"Liaison Tore"})]})};return n.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white p-4",children:n.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 900 850",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxs("text",{x:"450",y:"30",fontSize:"20",fontWeight:"black",textAnchor:"middle",fill:"#1e293b",textDecoration:"underline",children:["SCHMA LECTRIQUE DE PRINCIPE - ",p?"MICRO-ONDULEURS":"ONDULEUR HYBRIDE"]}),p?U():g(),n.jsxs("g",{transform:"translate(50, 650)",children:[n.jsx("rect",{x:"0",y:"0",width:"380",height:"130",rx:"8",fill:"white",stroke:o.BORDER}),n.jsx("text",{x:"20",y:"25",fontSize:"12",fontWeight:"black",children:"Lgende"}),n.jsxs("g",{transform:"translate(20, 45)",children:[n.jsx("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:o.NEUTRAL,strokeWidth:"2"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"Neutre"})]}),n.jsxs("g",{transform:"translate(20, 65)",children:[n.jsx("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:o.PHASE,strokeWidth:"2"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"Phase"})]}),n.jsxs("g",{transform:"translate(20, 85)",children:[n.jsx("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:o.GROUND,strokeWidth:"2",strokeDasharray:"3,3"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"Terre"})]}),n.jsxs("g",{transform:"translate(140, 45)",children:[n.jsx("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:o.CABLING,strokeWidth:"3"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"Puissance AC/DC"})]}),n.jsxs("g",{transform:"translate(140, 65)",children:[n.jsx("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:o.RJ45,strokeWidth:"2"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"RJ45 / Communication"})]}),n.jsxs("g",{transform:"translate(140, 85)",children:[n.jsx("circle",{cx:"10",cy:"0",r:"8",fill:"white",stroke:o.TORE,strokeWidth:"2"}),n.jsx("text",{x:"40",y:"4",fontSize:"10",children:"Tore de mesure (CT)"})]})]}),n.jsxs("g",{transform:"translate(50, 810)",children:[n.jsx("path",{d:"M0 20 L15 -10 L30 20 Z",fill:"#facc15",stroke:"#854d0e",strokeWidth:"2"}),n.jsx("text",{x:"15",y:"16",textAnchor:"middle",fontWeight:"bold",fontSize:"14",children:"!"}),n.jsx("text",{x:"40",y:"5",fontSize:"10",fill:"#854d0e",fontWeight:"bold",children:"Nouvelle norme NFC 15-100"}),n.jsx("text",{x:"40",y:"18",fontSize:"9",fill:"#854d0e",children:"Vrifier le calibrage de l'AGPC et la protection diffrentielle 30mA Type F/B"})]})]})})},If=14,Nn=({title:r,url:f,icon:p=""})=>n.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors group text-decoration-none",children:[n.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-lg group-hover:scale-110 transition-transform shadow-sm",children:p}),n.jsxs("div",{className:"flex-1 overflow-hidden",children:[n.jsx("div",{className:"font-bold text-slate-700 text-[10px] uppercase tracking-wide leading-tight",children:r}),n.jsx("div",{className:"text-[8px] text-blue-600 underline truncate w-full",children:f})]}),n.jsx("div",{className:"text-slate-300 group-hover:text-blue-500 text-xs font-bold",children:""})]}),Kp=({project:r,materials:f,exportOptions:p,report:o,voltageDrop:x,acSection:g,showAc1:U,ac1VoltageDrop:w,ac1Section:M,ac1BreakerA:h,microBranchesReport:j})=>{var Fe,Pe,Ge,rt,jt,at,Dt,wt,Rl,$t,ml,ql,Ya,ws,rl;const R=r.fields.reduce(($,oe)=>$+oe.panels.model.power*jl(oe.panels),0),H=(R/1e3).toFixed(2),O=ae.useMemo(()=>{const $=f.find(ve=>/coffret\s*ac/i.test(ve.description||""));if(!$)return null;const oe=($.description||"").match(/\b(\d{2,3})\s*A\b/i);return oe?Number(oe[1]):null},[f]),T=r.inverterConfig.phase==="Tri",k=r.fields[0].panels.model;Vc(r.postalCode,r.altitude);const z=((Fe=o==null?void 0:o.details)==null?void 0:Fe.vocCold)||0,Q=((Pe=o==null?void 0:o.details)==null?void 0:Pe.vmpHot)||0;(Ge=o==null?void 0:o.details)!=null&&Ge.dcAcRatio&&o.details.dcAcRatio*100;const te=((rt=o==null?void 0:o.details)==null?void 0:rt.vmaxInverter)||(T?1e3:600),le=((jt=o==null?void 0:o.details)==null?void 0:jt.vminMppt)||80,q=ae.useMemo(()=>{var Je;const $=r.inverterConfig.brand===ne.CUSTOM&&!!((Je=o==null?void 0:o.inverterSpecs)!=null&&Je.isMicro),oe=r.inverterConfig.brand===ne.ENPHASE||r.inverterConfig.brand===ne.APSYSTEMS,ve=r.inverterConfig.brand===ne.FOXESS&&((r.inverterConfig.model||"").toUpperCase().includes("MICRO")||r.inverterConfig.model==="FOX-S3000-G2");return oe||ve||$},[r.inverterConfig.brand,r.inverterConfig.model,(at=o==null?void 0:o.inverterSpecs)==null?void 0:at.isMicro]),d=((Dt=o==null?void 0:o.details)==null?void 0:Dt.stringsAnalysis)||[],G=d.length,de=ae.useMemo(()=>q||d.length===0?[]:d.map($=>{const oe=(r.inverterConfig.dcCablingRuns||[]).find(Ul=>Ul.mpptIndex===$.mpptIndex)||{mpptIndex:$.mpptIndex,lengthM:0,sectionMm2:null},ve=Number(oe.lengthM||0),Je=oe.sectionMm2==null?null:Number(oe.sectionMm2),Le=Number($.iscCalculation||0),Pt=Number($.vmpHot||0)||1,Lt=tu(ve,Le,Pt),Tt=Je??Lt,{duV:Jt,duPct:Ot}=kc(ve,Le,Tt||0,Pt),{duV:yt,duPct:ut}=kc(ve,Le,Lt||0,Pt);return{mpptIndex:$.mpptIndex,V:Pt,I:Le,L:ve,S:Tt,forcedS:Je,autoS:Lt,du:Jt,dup:Ot,duAuto:yt,dupAuto:ut}}),[q,d,r.inverterConfig.dcCablingRuns]);ae.useMemo(()=>de.length?Math.max(...de.map($=>Number($.dup||0))):0,[de]);const Be=(r.inverterConfig.configuredStrings||[]).reduce(($,oe)=>{const ve=Number(oe.mpptIndex||1);return $[ve]=($[ve]||0)+1,$},{}),ue=Object.values(Be).reduce(($,oe)=>Math.max($,Number(oe)||0),0)>2,fe=ae.useMemo(()=>!p.includeDatasheets||q?!1:d.length>=4||d.length>=3&&ue,[p.includeDatasheets,q,d.length,ue]),ie=!!(j&&j.branches&&j.branches.length>0),Ae=ie?Math.max(...j.branches.map($=>$.dropPercent||0)):0,S=ie?Ae+(x||0):x||0,y=new Date().toLocaleDateString("fr-FR"),W=am({phase:T?"Tri":"Mono",projectPowerKwc:R/1e3,agcpA:r.inverterConfig.agcpValue}),pe=ae.useMemo(()=>({...Hc,...sm,...im}),[]),ge=ae.useMemo(()=>{const $=r.inverterConfig.model,oe=Object.values(pe).find(Je=>Je.id===$);let ve="https://www.google.com/search?q="+r.inverterConfig.brand;return r.inverterConfig.brand===ne.FOXESS?ve="https://fr.fox-ess.com/download/":r.inverterConfig.brand===ne.ENPHASE?ve="https://support.enphase.com/s/article/video-iq-microinverter-installationsguide":r.inverterConfig.brand===ne.APSYSTEMS&&(ve="https://emea.apsystems.com/document-library/"),{structure:{brand:r.system.brand,videos:r.system.brand==="K2"?[{title:"Installation K2 SingleRail",url:"https://youtu.be/drCs25sMDgE?si=dMfyGLM-dh1V2cby"},{title:"Fixations sur tuiles K2",url:"https://www.youtube.com/watch?v=drCs25sMDgE"}]:[{title:"Installation ClickFit EVO Tuiles",url:"https://www.youtube.com/watch?v=wlc8v_cif1A"}],manuals:r.system.brand==="K2"?["https://catalogue.k2-systems.com/media/7b/4e/d3/Product-Brochure-fr.pdf"]:["https://www.esdec.com/wp-content/uploads/2023/03/Manual_ClickFitEvo_TiledRoof_306_FR.pdf"]},panel:{name:k.name,datasheet:k.datasheetUrl||`https://www.google.com/search?q=${encodeURIComponent(k.name)}+datasheet`,manual:k.manualUrl||`https://www.google.com/search?q=${encodeURIComponent(k.name)}+manual`,video:k.videoUrl},inverter:{brand:r.inverterConfig.brand,model:oe?oe.description:r.inverterConfig.model,datasheet:(oe==null?void 0:oe.datasheetUrl)||ve,manual:(oe==null?void 0:oe.manualUrl)||ve,video:oe==null?void 0:oe.videoUrl,genericUrl:ve,foxCommissioningUrl:null}}},[r,k,pe]),v=ae.useMemo(()=>{const $=tm(f),oe=[],ve=Je=>{oe.push({type:"item",material:Je});const Le=(Je.description||"").toLowerCase();(Le.includes("coffret")||Le.includes("cofac"))&&!Le.includes("coffret dc")&&(Le.includes("type f")||Le.includes("type b"))&&(!r.inverterConfig.agcpValue||r.inverterConfig.agcpValue<=0)&&oe.push({type:"warning",text:"Disjoncteur non livr dans les coffrets AC  calibrer et a ajouter en fonction de l'AGCP client"})};return $.forEach(Je=>{oe.push({type:"header",title:Je.category}),Je.items.forEach(Le=>ve(Le)),Je.subSections&&Je.subSections.forEach(Le=>{var Pt;oe.push({type:"subheader",title:Le.title}),Le.title&&/borne ve/i.test(Le.title)&&((Pt=r.evCharger)!=null&&Pt.selected)&&oe.push({type:"warning",text:r.evCharger.phase==="Tri"?" Borne VE TRI : prvoir cble 5G10 mm.":" Borne VE MONO : prvoir cble 3G10 mm."}),Le.items.forEach(Lt=>ve(Lt))})}),oe},[f,r.inverterConfig.agcpValue,(wt=r.evCharger)==null?void 0:wt.selected,(Rl=r.evCharger)==null?void 0:Rl.phase]),_=ae.useMemo(()=>{const $=[];for(let oe=0;oe<v.length;oe+=If)$.push(v.slice(oe,oe+If));return $.length>0?$:[[]]},[v]),A=_.length,J=p.includeGuides,Z=p.includeRegulations,se=1+r.fields.length*2,me=p.includeDatasheets?fe?2:1:0,_e=p.includeDatasheets?se+1:null,Ve=p.includeDatasheets&&fe?se+2:null,nt=se+me+1,Xe=nt+1,tt=nt+2,re=se+me+3+A+(J?2:0)+(Z?1:0),be=({ok:$,warn:oe,label:ve})=>{const Je=$?"bg-green-50 text-green-800 border-green-200":oe?"bg-orange-50 text-orange-800 border-orange-200":"bg-red-50 text-red-800 border-red-200";return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-[8px] font-black uppercase tracking-wide ${Je}`,children:[$?"":oe?"":""," ",ve]})},Ne=({children:$})=>n.jsx("h3",{className:"text-[10px] font-black text-slate-800 uppercase mb-2 tracking-tight border-b border-slate-200 pb-1",children:$}),Ee=({title:$})=>n.jsxs("header",{className:"flex justify-between items-end mb-6 border-b border-slate-200 pb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8",children:n.jsxs("svg",{viewBox:"0 0 100 100",children:[n.jsx("path",{d:"M50 5 L90 25 L90 75 L50 95 L10 75 L10 25 Z",fill:"#eab308"}),n.jsx("path",{d:"M50 5 L90 25 L50 45 L10 25 Z",fill:"#84cc16"}),n.jsx("path",{d:"M50 45 L90 25 L90 75 L50 95 Z",fill:"#db2777"})]})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:$}),n.jsx("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:"Richardson Solaire v3.0"})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:"text-sm font-bold text-slate-700",children:r.name})})]}),He=({page:$})=>n.jsxs("footer",{className:"mt-auto pt-4 border-t border-slate-100 flex justify-between text-[9px] text-slate-400",children:[n.jsx("span",{children:"Richardson Solaire - Dossier d'aide au chiffrage - Document non contractuel"}),n.jsxs("span",{children:["Page ",$,"/",re]})]});return n.jsxs("div",{id:"pdf-report-source",className:"hidden bg-white text-slate-800 font-sans text-left",children:[n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] bg-white relative flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"h-[60%] relative",children:[n.jsx("img",{src:"https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover",alt:"Solar Field"}),n.jsx("div",{className:"absolute top-12 left-12",children:n.jsx("span",{className:"text-white font-black tracking-widest text-sm uppercase",children:"RICHARDSON"})}),n.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center p-16",children:[n.jsx("h1",{className:"text-[64px] font-black text-white leading-none drop-shadow-2xl",children:"Dossier Technique"}),n.jsx("h2",{className:"text-[64px] font-black text-yellow-400 leading-none drop-shadow-2xl mt-2",children:"Photovoltaque"}),n.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[n.jsx("div",{className:"w-1.5 h-10 bg-orange-500"}),n.jsx("p",{className:"text-white/90 text-xl font-medium tracking-tight",children:"Etude d'aide au dimensionnement et au chiffrage"})]})]})]}),n.jsxs("div",{className:"flex-1 p-20 flex justify-between items-start relative",children:[n.jsxs("div",{className:"flex gap-8 items-stretch",children:[n.jsx("div",{className:"w-1.5 bg-slate-900"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"PROJET"}),n.jsx("h3",{className:"text-3xl font-black text-slate-800 tracking-tight",children:r.name||"Nouveau Projet"}),n.jsxs("p",{className:"text-slate-500 font-bold text-lg mt-1",children:[r.postalCode," ",r.city]})]}),n.jsxs("div",{className:"flex gap-12",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"PUISSANCE INSTALLE"}),n.jsxs("span",{className:"text-2xl font-black text-slate-800",children:[H," kWc"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"DATE"}),n.jsx("span",{className:"text-2xl font-black text-slate-800",children:y})]})]})]})]}),n.jsx("div",{className:"absolute bottom-10 left-20 right-20",children:n.jsxs("div",{className:"border-t border-slate-200 pt-3 text-[10px] text-slate-600 leading-snug",children:[n.jsx("div",{className:"font-black text-slate-700 uppercase tracking-widest text-[9px] mb-1",children:"Condition de validit de l'tude"}),n.jsxs("div",{children:["Cette tude est ralise pour une puissance installe de ",n.jsxs("span",{className:"font-black",children:[H," kWc"]}),". La faisabilit est conditionne  une puissance souscrite au point de livraison compatible.",W.recommendedKva?n.jsxs(n.Fragment,{children:[" Abonnement minimal conseill : ",n.jsxs("span",{className:"font-black",children:[W.recommendedKva," kVA"]})," (",W.phase==="Mono"?"mono":"tri",")."]}):null]}),n.jsxs("div",{className:"mt-1",children:[W.subscribedKva==null?n.jsx("span",{className:"font-bold",children:"Puissance souscrite non renseigne (AGCP).  vrifier auprs du fournisseur/gestionnaire de rseau."}):W.isOk?n.jsxs("span",{className:"font-bold text-green-700",children:["Abonnement renseign : ",W.subscribedKva," kVA  compatible."]}):n.jsxs("span",{className:"font-bold text-red-700",children:["Abonnement renseign : ",W.subscribedKva," kVA   faire voluer."]}),n.jsx("span",{className:"text-slate-500",children:" Limites usuelles : 12 kVA max en monophas, 36 kVA max en triphas, sous rserve de compatibilit du site/rseau."})]})]})})]})]}),r.fields.map(($,oe)=>n.jsxs(Ga.Fragment,{children:[n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[n.jsx(Ee,{title:`Vue d'ensemble - ${$.name}`}),n.jsx("div",{className:"mt-4 mb-10 text-left",children:n.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["Configuration - ",$.name]})}),n.jsxs("div",{className:"grid grid-cols-12 gap-12",children:[n.jsx("div",{className:"col-span-6",children:n.jsx("div",{className:"bg-orange-50/50 rounded-3xl p-10 border border-orange-100 shadow-sm",children:n.jsx(rm,{roof:$.roof,panels:$.panels,bare:!0,maxDimension:320})})}),n.jsx("div",{className:"col-span-6 space-y-10",children:n.jsxs("section",{children:[n.jsx("h4",{className:"text-[11px] font-black text-orange-500 uppercase tracking-widest border-b-2 border-orange-500 w-fit mb-5",children:"Spcifications"}),n.jsx("table",{className:"w-full text-sm",children:n.jsxs("tbody",{className:"divide-y divide-slate-100",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"py-2.5 text-slate-400",children:"Module"}),n.jsx("td",{className:"py-2.5 font-bold text-right",children:$.panels.model.name})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-2.5 text-slate-400",children:"Quantit (ce champ)"}),n.jsxs("td",{className:"py-2.5 font-bold text-right",children:[jl($.panels)," panneaux"]})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-2.5 text-slate-400",children:"Puissance Champ"}),n.jsxs("td",{className:"py-2.5 font-bold text-right",children:[(jl($.panels)*$.panels.model.power/1e3).toFixed(2)," kWc"]})]}),n.jsxs("tr",{children:[n.jsx("td",{className:"py-2.5 text-slate-400",children:"Orientation"}),n.jsx("td",{className:"py-2.5 font-bold text-right",children:$.panels.orientation})]})]})})]})})]}),n.jsx(He,{page:1+oe*2+1})]}),n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[n.jsx(Ee,{title:`Plan de Calpinage - ${$.name}`}),n.jsx("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-3xl p-12 flex items-center justify-center overflow-hidden shadow-inner my-6",children:n.jsx(Xp,{roof:$.roof,panels:$.panels,system:r.system,railOrientation:$.railOrientation})}),n.jsx(He,{page:1+oe*2+2})]})]},$.id)),p.includeDatasheets&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[n.jsx(Ee,{title:"Analyse lectrique - Cot DC"}),n.jsxs("div",{className:"flex items-end justify-between gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-[20px] font-black text-slate-900 leading-tight",children:"Audit lectrique DC (gnrateur PV)"}),n.jsx("p",{className:"text-slate-500 text-[9px] font-bold uppercase mt-3",children:"Guide UTE C15-712-1  Voc corrige au froid  Isc  1,25  chute de tension DC par MPPT"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-[8px] text-slate-500 font-black uppercase",children:"MPPT utiliss"}),n.jsx("div",{className:"text-[18px] font-black text-slate-900",children:G})]})]}),n.jsxs("section",{className:"mb-4",children:[n.jsx(Ne,{children:"Tableau DC  Synthse MPPT"}),q?n.jsx("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50 text-[9px] text-slate-700",children:"Systme micro-onduleurs : pas de liaisons DC longues par MPPT  dimensionner (cblage DC interne aux micro-onduleurs). Cette page DC est donc non applicable."}):n.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:n.jsxs("table",{className:"w-full text-[9px]",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 text-left",children:"MPPT"}),n.jsx("th",{className:"p-3 text-left",children:"Fonction"}),n.jsx("th",{className:"p-3 text-right",children:"L (m)"}),n.jsx("th",{className:"p-3 text-right",children:"Section"}),n.jsx("th",{className:"p-3 text-right",children:"I (A)"}),n.jsx("th",{className:"p-3 text-right",children:"U (%)"}),n.jsx("th",{className:"p-3 text-center",children:"Statut"})]})}),n.jsxs("tbody",{className:"divide-y divide-slate-200",children:[de.map(($,oe)=>{const ve=Number($.dup||0),Je=ve>3?n.jsx(be,{label:">3%"}):ve>1?n.jsx(be,{warn:!0,label:">1%"}):n.jsx(be,{ok:!0,label:"OK"}),Le=ve>3?"text-red-700":ve>1?"text-orange-700":"text-green-700";return n.jsxs("tr",{className:oe%2===0?"bg-white":"bg-slate-50",children:[n.jsx("td",{className:"p-3 font-black",children:$.mpptIndex}),n.jsx("td",{className:"p-3 text-slate-700 font-bold",children:"Chane PV  onduleur"}),n.jsx("td",{className:"p-3 text-right font-mono",children:Number($.L||0).toFixed(0)}),n.jsxs("td",{className:"p-3 text-right",children:[n.jsx("span",{className:"font-mono font-black",children:Number($.S||0).toFixed(0)}),n.jsx("span",{className:"ml-1",children:"mm"}),$.forcedS!=null&&n.jsx("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc"})]}),n.jsx("td",{className:"p-3 text-right font-mono",children:Number($.I||0).toFixed(2)}),n.jsx("td",{className:`p-3 text-right font-black ${Le}`,children:ve.toFixed(2)}),n.jsx("td",{className:"p-3 text-center",children:Je})]},oe)}),!de.length&&n.jsx("tr",{className:"bg-white",children:n.jsx("td",{className:"p-3 text-slate-500",colSpan:7,children:"Aucun MPPT/liaison DC configur."})})]})]})})]}),n.jsxs("section",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Chute de tension DC"}),n.jsxs("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Seuils :"}),"  1% recommand  13% tolr  > 3% non conforme (blocage export)."]}),n.jsxs("div",{className:"mt-2 font-mono text-[8px] text-slate-700",children:["U(V) = (2  L  I  ) / S",n.jsx("br",{}),"U(%) = (U / Vmp_chaud)  100"]})]})]}),n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"UTE C 15-712-1  Vrifs gnrateur"}),n.jsxs("div",{className:"text-[9px] text-slate-700 leading-relaxed space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-black text-[8px] uppercase text-slate-600",children:"Voc corrige au froid"}),n.jsxs("div",{children:["Voc(Tmin) = ",n.jsxs("b",{children:[z.toFixed(1)," V"]}),"  limite onduleur : ",n.jsxs("b",{children:[te," V"]}),"."]}),(()=>{const $=te>0?z/te:0;return z>te?n.jsx("div",{className:"mt-1 text-red-700 font-black",children:" Surtension : rduire le nombre de modules en srie (export bloqu)."}):$>=.95?n.jsxs("div",{className:"mt-1 text-orange-700 font-black",children:[" Proche limite (",($*100).toFixed(0),"% de Vmax) : prvoir marge, vrifier le Tmin retenu."]}):null})()]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-black text-[8px] uppercase text-slate-600",children:'Vmp "chaud" et plage MPPT'}),n.jsxs("div",{children:["Vmp_chaud = ",n.jsxs("b",{children:[Q.toFixed(1)," V"]}),"  limite basse MPPT : ",n.jsxs("b",{children:[le," V"]}),"."]}),(()=>{if(Q<le)return n.jsx("div",{className:"mt-1 text-red-700 font-black",children:" Hors plage MPPT : risque de dcrochage en t (export bloqu)."});const oe=le>0?Q/le:0;return oe<=1.05?n.jsxs("div",{className:"mt-1 text-orange-700 font-black",children:[" Proche limite (",(oe*100).toFixed(0),'% de Vmin) : prvoir marge, vrifier la temprature "chaude" retenue.']}):null})()]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-black text-[8px] uppercase text-slate-600",children:"Isc de calcul"}),n.jsxs("div",{children:["Isc_calc = Isc_STC  1,25  ",n.jsxs("b",{children:[((($t=o==null?void 0:o.details)==null?void 0:$t.iscCalculation)||0).toFixed(2)," A"]}),"."]})]})]})]})]}),n.jsxs("section",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Lgende & symboles"}),n.jsx("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("b",{children:"L (m)"})," : longueur aller du cble (aller-retour intgr via 2)."]}),n.jsxs("li",{children:[n.jsx("b",{children:"S (mm)"})," : section du cble cuivre."]}),n.jsxs("li",{children:[n.jsx("b",{children:"I (A)"})," : courant de calcul (Isc  1,25)."]}),n.jsxs("li",{children:[n.jsx("b",{children:""})," : rsistivit cuivre (hypothse 0,023 mm/m)."]})]})})]}),!fe&&n.jsx("section",{className:"mt-auto",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(Ne,{children:"Protections DC"}),n.jsx("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:n.jsxs("table",{className:"w-full text-[8px]",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 text-left",children:"lment"}),n.jsx("th",{className:"p-2 text-left",children:"Critre"}),n.jsx("th",{className:"p-2 text-center",children:"Verdict"})]})}),n.jsxs("tbody",{className:"divide-y divide-slate-200",children:[n.jsxs("tr",{className:"bg-white",children:[n.jsx("td",{className:"p-2 font-bold",children:"Sectionneur DC"}),n.jsxs("td",{className:"p-2",children:["In  Isc_calc (",(((ml=o==null?void 0:o.details)==null?void 0:ml.iscCalculation)||0).toFixed(2),"A)  Un  Uoc_max (",z.toFixed(1),"V)"]}),n.jsx("td",{className:"p-2 text-center text-green-700 font-black",children:"VALIDE"})]}),n.jsxs("tr",{className:"bg-slate-50",children:[n.jsx("td",{className:"p-2 font-bold",children:"Parafoudre DC (T2)"}),n.jsx("td",{className:"p-2",children:"Protection surtensions (15-712-1)"}),n.jsx("td",{className:"p-2 text-center text-green-700 font-black",children:"INCLUS"})]}),ue&&n.jsxs("tr",{className:"bg-white",children:[n.jsx("td",{className:"p-2 font-bold",children:"Fusibles gPV"}),n.jsx("td",{className:"p-2",children:"Requis si > 2 strings // sur un mme MPPT (pdagogique)"}),n.jsx("td",{className:"p-2 text-center text-orange-700 font-black",children:" PRVOIR"})]})]})]})})]}),n.jsxs("div",{children:[n.jsx(Ne,{children:"Mthodologie & symboles"}),n.jsxs("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[n.jsxs("div",{className:"font-mono text-[6.5px] text-slate-600 leading-[1.35]",children:[n.jsx("div",{className:"font-black text-[7px] uppercase text-slate-700 mb-1",children:"Tension au froid"}),"Uoc(Tmin) = Uoc_stc  [1 + (k_voc/100)  (Tmin - 25)]  N",n.jsx("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-700 mb-1",children:"Courant de calcul"}),"Isc_calc = Isc_stc  1.25",n.jsx("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-700 mb-1",children:"Chute de tension DC"}),"U(V) = (2  L  I  ) / S  U(%) = U / Vmp_chaud  100"]}),n.jsx("div",{className:"mt-2 text-[7px] text-slate-600",children:"Symboles : L(m)=longueur aller  S(mm)=section  I(A)=courant  0.023 (cuivre, hypothse chaude)  Vmp_chaud=tension de chane en conditions chaudes."})]})]})]})}),n.jsx(He,{page:_e})]}),fe&&n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[n.jsx(Ee,{title:"Analyse lectrique - Cot DC (suite)"}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h1",{className:"text-[18px] font-black text-slate-900",children:"Suite DC : protections & mthodologie"}),n.jsx("div",{className:"text-[8px] text-slate-500 font-bold uppercase",children:"Page ddie pour lisibilit"})]}),n.jsxs("section",{className:"mb-4",children:[n.jsx(Ne,{children:"Protections DC"}),n.jsx("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:n.jsxs("table",{className:"w-full text-[9px]",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 text-left",children:"lment"}),n.jsx("th",{className:"p-3 text-left",children:"Critre"}),n.jsx("th",{className:"p-3 text-center",children:"Verdict"})]})}),n.jsxs("tbody",{className:"divide-y divide-slate-200",children:[n.jsxs("tr",{children:[n.jsx("td",{className:"p-3 font-bold",children:"Sectionneur DC"}),n.jsxs("td",{className:"p-3",children:["In  Isc_calc (",(((ql=o==null?void 0:o.details)==null?void 0:ql.iscCalculation)||0).toFixed(2),"A)  Un  Uoc_max (",z.toFixed(1),"V)"]}),n.jsx("td",{className:"p-3 text-center text-green-700 font-black",children:"VALIDE"})]}),n.jsxs("tr",{className:"bg-slate-50",children:[n.jsx("td",{className:"p-3 font-bold",children:"Parafoudre DC (T2)"}),n.jsx("td",{className:"p-3",children:"Protection surtensions (15-712-1)"}),n.jsx("td",{className:"p-3 text-center text-green-700 font-black",children:"INCLUS"})]}),ue&&n.jsxs("tr",{children:[n.jsx("td",{className:"p-3 font-bold",children:"Fusibles gPV"}),n.jsx("td",{className:"p-3",children:"Requis si > 2 strings // sur un mme MPPT (pdagogique)"}),n.jsx("td",{className:"p-3 text-center text-orange-700 font-black",children:" PRVOIR"})]})]})]})})]}),n.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Formules utilises"}),n.jsxs("div",{className:"font-mono text-[7px] text-slate-700 leading-[1.4]",children:[n.jsx("div",{className:"font-black text-[7px] uppercase text-slate-600 mb-1",children:"Voc corrige au froid"}),"Uoc(Tmin) = Uoc_stc  [1 + (k_voc/100)  (Tmin - 25)]  N",n.jsx("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-600 mb-1",children:"Isc de calcul"}),"Isc_calc = Isc_stc  1.25",n.jsx("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-600 mb-1",children:"Chute DC (par MPPT)"}),"U(V) = (2  L  I  ) / S",n.jsx("br",{}),"U(%) = (U / Vmp_chaud)  100"]})]}),n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Symboles & repres"}),n.jsxs("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("b",{children:"L (m)"})," : longueur aller du cble (la formule intgre l'aller-retour via 2)."]}),n.jsxs("li",{children:[n.jsx("b",{children:"S (mm)"})," : section du cble cuivre."]}),n.jsxs("li",{children:[n.jsx("b",{children:"I (A)"})," : courant de calcul (Isc  1,25)."]}),n.jsxs("li",{children:[n.jsx("b",{children:"U (V)"})," : chute de tension en volts."]}),n.jsxs("li",{children:[n.jsx("b",{children:"U (%)"})," : chute rapporte  Vmp  chaud  de la chane."]}),n.jsxs("li",{children:[n.jsx("b",{children:""})," : rsistivit cuivre (hypothse 0,023 mm/m)."]})]}),n.jsx("div",{className:"mt-3 text-[8px] text-slate-600",children:"Repre : en pratique, viser  1% est courant ; si > 3% il est recommand d'augmenter la section ou rduire la longueur."})]})]})]}),n.jsx(He,{page:Ve})]})]}),n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[n.jsx(Ee,{title:"Analyse lectrique 2/2 - Cot AC"}),n.jsx("div",{className:"flex items-end justify-between gap-4 mb-3",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-[20px] font-black text-slate-900 leading-tight",children:"Audit lectrique AC (liaison tableau)"}),n.jsx("p",{className:"text-slate-500 text-[9px] font-bold uppercase mt-3",children:`NFC 15-100  chutes de tension AC  protections de tte${ie?"  cumul production (micro-onduleurs)":""}`})]})}),(()=>{var ol,va,sn;const $=[6,10,16,20,25,32,40,50,63,80,100,125],oe=Number(((ol=o==null?void 0:o.details)==null?void 0:ol.nominalAcCurrent)||0),ve=Number(((va=o==null?void 0:o.details)==null?void 0:va.recommendedBreakerTheo)??(oe?oe*1.25:0)),Je=dt=>Math.abs(dt-Math.round(dt))<1e-6?String(Math.round(dt)):dt.toFixed(1),Le=ve,Pt=$.find(dt=>dt>=Le)??Le,Lt=Number(((sn=r==null?void 0:r.inverterConfig)==null?void 0:sn.agcpValue)||0),Tt=Lt>0?As(Lt,!!T):null,Jt=Tt??(typeof O=="number"&&O>0?O:Pt),Ot=Tt?`AGCP saisi ${Lt} A  normalis ${Tt} A`:typeof O=="number"&&O>0?`coffret AC ${O} A`:null,yt=oe,ut=ve,Ul=$.find(dt=>dt>=ut)??ut,Pl=typeof h=="number"&&h>0?h:Ul,_l=(r==null?void 0:r.acCableSectionMm2)!=null,tl=(r==null?void 0:r.ac1CableSectionMm2)!=null,Ts=ys(g,Jt),Os=U&&typeof M=="number"?ys(M,Pl):!1;return n.jsxs(n.Fragment,{children:[n.jsxs("section",{className:"mb-3",children:[n.jsx(Ne,{children:"Tronons AC  synthse"}),n.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:n.jsxs("table",{className:"w-full text-[9px]",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 text-left",children:"Tronon"}),n.jsx("th",{className:"p-3 text-right",children:"L (m)"}),n.jsx("th",{className:"p-3 text-right",children:"Section"}),n.jsx("th",{className:"p-3 text-right",children:"Disj mini (tho)"}),n.jsx("th",{className:"p-3 text-right",children:"Disj retenu"}),n.jsx("th",{className:"p-3 text-right",children:"U (%)"}),n.jsx("th",{className:"p-3 text-center",children:"Statut"})]})}),n.jsxs("tbody",{className:"divide-y divide-slate-200",children:[U&&typeof M=="number"&&typeof w=="number"&&n.jsxs("tr",{className:"bg-white",children:[n.jsxs("td",{className:"p-3",children:[n.jsx("div",{className:"font-black text-slate-900",children:"AC1  Onduleur  Coffret AC"}),n.jsx("div",{className:"text-[7px] text-slate-500",children:"Liaison interne production (ct PV). Dimensionne sur Imax AC de londuleur."})]}),n.jsx("td",{className:"p-3 text-right font-mono",children:r.distanceInverterToAcCoffret||0}),n.jsxs("td",{className:"p-3 text-right",children:[n.jsx("span",{className:"font-mono font-black",children:M}),n.jsx("span",{className:"ml-1",children:"mm"}),tl&&n.jsx("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc"})]}),n.jsx("td",{className:"p-3 text-right font-mono",children:ut?Je(ut):"-"}),n.jsx("td",{className:"p-3 text-right font-mono",children:Pl||"-"}),n.jsx("td",{className:`p-3 text-right font-black ${w>3?"text-red-700":w>1?"text-orange-700":"text-green-700"}`,children:w.toFixed(2)}),n.jsx("td",{className:"p-3 text-center",children:Os?n.jsx(be,{label:"NON conforme"}):w>3?n.jsx(be,{label:">3%"}):w>1?n.jsx(be,{warn:!0,label:">1%"}):n.jsx(be,{ok:!0,label:"OK"})})]}),n.jsxs("tr",{className:U?"bg-slate-50":"bg-white",children:[n.jsxs("td",{className:"p-3",children:[n.jsx("div",{className:"font-black text-slate-900",children:"AC2  Coffret AC  Tableau"}),n.jsx("div",{className:"text-[7px] text-slate-500",children:"Liaison vers point de raccordement. Rf. : UTE C 15-712-1 (viser ~1%)  NF C 15-100 (limites gnrales)."})]}),n.jsx("td",{className:"p-3 text-right font-mono",children:r.distanceToPanel}),n.jsxs("td",{className:"p-3 text-right",children:[n.jsx("span",{className:"font-mono font-black",children:g}),n.jsx("span",{className:"ml-1",children:"mm"}),_l&&n.jsx("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc"})]}),n.jsx("td",{className:"p-3 text-right font-mono",children:Le?Je(Le):"-"}),n.jsx("td",{className:"p-3 text-right font-mono",children:Jt||"-"}),n.jsx("td",{className:`p-3 text-right font-black ${x>3?"text-red-700":x>1?"text-orange-700":"text-green-700"}`,children:x.toFixed(2)}),n.jsx("td",{className:"p-3 text-center",children:Ts?n.jsx(be,{label:"NON conforme"}):x>3?n.jsx(be,{label:">3%"}):x>1?n.jsx(be,{warn:!0,label:">1%"}):n.jsx(be,{ok:!0,label:"OK"})})]})]})]})}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[n.jsx("div",{className:"text-[7px] font-black uppercase text-slate-500",children:"Protection AC  rappel"}),n.jsxs("div",{className:"text-[8px] text-slate-700 leading-snug space-y-1",children:[U&&n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-black",children:"AC1"}),"  Base de calcul : ",n.jsx("b",{children:"Imax AC onduleur"}),yt?n.jsxs(n.Fragment,{children:[" = ",n.jsxs("b",{children:[yt.toFixed(1)," A"]})]}):n.jsx(n.Fragment,{children:" (donne onduleur)"}),". Mini thorique : ",n.jsxs("b",{children:[Je(ut)," A"]}),n.jsx("span",{className:"text-slate-500",children:" (In_min = 1,25  Imax)"}),"  calibre commercial suprieur : ",n.jsxs("b",{children:[Ul," A"]}),"  retenu : ",n.jsxs("b",{children:[Pl," A"]}),"."]}),n.jsxs("div",{className:"text-[7px] text-slate-500",children:["Repre : si Imax AC nest pas fourni par la notice, on peut lestimer via la puissance AC max : I  S",n.jsx("sub",{children:"AC"}),"/230V (mono) ou I  S",n.jsx("sub",{children:"AC"}),"/(3400V) (tri)."]})]}),n.jsxs("div",{children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-black",children:"AC2"}),"  Base de calcul : ",n.jsx("b",{children:"Imax AC production"}),ac2Imax?n.jsxs(n.Fragment,{children:[" = ",n.jsxs("b",{children:[ac2Imax.toFixed(1)," A"]})]}):n.jsx(n.Fragment,{children:" (courant nominal max)"}),". Mini thorique : ",n.jsxs("b",{children:[Je(Le)," A"]}),n.jsx("span",{className:"text-slate-500",children:" (In_min = 1,25  Imax)"}),"  calibre commercial suprieur : ",n.jsxs("b",{children:[Pt," A"]}),"  retenu : ",n.jsxs("b",{children:[Jt," A"]}),Ot?n.jsxs(n.Fragment,{children:[" (",Ot,")"]}):null,"."]}),n.jsx("div",{className:"text-[7px] text-slate-500",children:"Note : en onduleur centralis, le courant production traversant AC2 est celui de londuleur (mme base que AC1). Le calibre retenu peut tre impos par lAGCP / coffret."})]}),n.jsxs("div",{className:"text-[7px] text-slate-500",children:["Rgle : ",n.jsx("b",{children:"In_min = 1,25  Imax AC"})," (NF C 15-100 / UTE C 15-712-1). Le calibre retenu peut tre ",n.jsx("b",{children:"impos"})," par lAGCP ou le coffret AC (prioritaire sur le calibre commercial suprieur)."]})]})]}),n.jsxs("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[n.jsx("div",{className:"text-[7px] font-black uppercase text-slate-500",children:"Chute de tension  repre"}),n.jsxs("div",{className:"text-[8px] text-slate-700 leading-snug",children:["Bonnes pratiques : viser ",n.jsx("b",{children:" 1%"}),". Tolr : ",n.jsx("b",{children:"13%"}),". Au-del de ",n.jsx("b",{children:"3%"})," : augmenter la section / rduire la longueur.",ie?n.jsx(n.Fragment,{children:" Cumul production = pire branche + AC2."}):null]})]})]})]}),ie&&(j==null?void 0:j.branches)&&j.branches.length>0&&n.jsxs("section",{className:"mb-3",children:[n.jsx(Ne,{children:"Branches micro-onduleurs (chutes AC)"}),n.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:n.jsxs("table",{className:"w-full text-[9px]",children:[n.jsx("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 text-left",children:"Branche"}),n.jsx("th",{className:"p-3 text-right",children:"# micros"}),n.jsx("th",{className:"p-3 text-right",children:"L (m)"}),n.jsx("th",{className:"p-3 text-right",children:"S (mm)"}),n.jsx("th",{className:"p-3 text-right",children:"I (A)"}),n.jsx("th",{className:"p-3 text-right",children:"U (V)"}),n.jsx("th",{className:"p-3 text-right",children:"U (%)"}),n.jsx("th",{className:"p-3 text-center",children:"Statut"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-200",children:j.branches.map((dt,ot)=>{const xl=Number(dt.dropPercent??dt.duPercent??0),ft=xl>3?"text-red-700":xl>1?"text-orange-700":"text-green-700";return n.jsxs("tr",{className:ot%2===0?"bg-white":"bg-slate-50",children:[n.jsxs("td",{className:"p-3 font-black",children:["Branche ",dt.branchIndex??ot+1]}),n.jsx("td",{className:"p-3 text-right font-mono",children:dt.micros??dt.microCount??"-"}),n.jsx("td",{className:"p-3 text-right font-mono",children:dt.lengthM??dt.length??"-"}),n.jsx("td",{className:"p-3 text-right font-mono",children:dt.sectionMm2??dt.section??"-"}),n.jsx("td",{className:"p-3 text-right font-mono",children:Number(dt.currentA??dt.current??0).toFixed(1)}),n.jsx("td",{className:"p-3 text-right font-mono",children:Number(dt.dropV??dt.duV??0).toFixed(1)}),n.jsx("td",{className:`p-3 text-right font-black ${ft}`,children:xl.toFixed(2)}),n.jsx("td",{className:"p-3 text-center",children:xl>3?n.jsx(be,{label:">3%"}):xl>1?n.jsx(be,{warn:!0,label:">1%"}):n.jsx(be,{ok:!0,label:"OK"})})]},ot)})})]})}),n.jsxs("div",{className:"mt-1 text-[7px] text-slate-500",children:["Chute production cumule : ",n.jsxs("b",{children:[S.toFixed(2),"%"]})," (pire branche + AC2)."]})]}),n.jsxs("section",{className:"mt-auto grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Formules utilises"}),n.jsxs("div",{className:"font-mono text-[7px] text-slate-700 leading-[1.4]",children:["Imax AC = P_ac / U_rseau",n.jsx("br",{}),"In_min = 1,25  Imax AC",n.jsx("br",{}),"U(%) = (L  I  ) / (S  U)  100",n.jsx("div",{className:"mt-2 text-[7px] text-slate-600",children:" cuivre  0,023 mm/m (hypothse chaude)."})]})]}),n.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[n.jsx(Ne,{children:"Symboles"}),n.jsx("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("b",{children:"L (m)"})," : distance coffret AC  point de raccordement (AC2) ou onduleur  coffret (AC1)."]}),n.jsxs("li",{children:[n.jsx("b",{children:"S (mm)"})," : section cble cuivre."]}),n.jsxs("li",{children:[n.jsx("b",{children:"I (A)"})," : courant nominal max en AC."]}),n.jsxs("li",{children:[n.jsx("b",{children:"U (%)"})," : chute de tension."]}),n.jsxs("li",{children:[n.jsx("b",{children:"In"})," : calibre disjoncteur."]})]})})]})]})]})})(),n.jsx(He,{page:nt})]}),n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[n.jsx(Ee,{title:"Synthse Consuel-ready"}),n.jsx("section",{className:"flex-1",children:n.jsxs("div",{className:"bg-slate-900 text-white rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:[n.jsx("div",{className:"absolute top-6 right-8 text-xs font-black uppercase tracking-[0.3em] opacity-20",children:"Synthse Administrative"}),n.jsxs("h3",{className:"text-xl font-black mb-6 uppercase tracking-tight flex items-center gap-3",children:[n.jsx("span",{className:"w-1.5 h-6 bg-orange-500"}),' Donnes "Consuel-ready"']}),n.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Puissance PV totale installe"}),n.jsxs("span",{className:"text-lg font-bold",children:[H," kWc"]})]}),n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Puissance maximale de l'onduleur"}),n.jsxs("span",{className:"text-lg font-bold",children:[(((Ya=o==null?void 0:o.details)==null?void 0:Ya.maxAcPower)/1e3).toFixed(2)," kVA"]})]}),n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Tension de service DC max (Uoc_max)"}),n.jsxs("span",{className:"text-lg font-bold",children:[z," V"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Courant de court-circuit max corrig (Isc x 1.25)"}),n.jsxs("span",{className:"text-lg font-bold",children:[(ws=o==null?void 0:o.details)==null?void 0:ws.iscCalculation," A"]})]}),n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Intensit maximale AC par phase"}),n.jsxs("span",{className:"text-lg font-bold",children:[(rl=o==null?void 0:o.details)==null?void 0:rl.nominalAcCurrent," A"]})]}),(()=>{var Tt,Jt,Ot,yt,ut;const $=Number(((Tt=o==null?void 0:o.details)==null?void 0:Tt.recommendedBreaker)||0),oe=[6,10,16,20,25,32,40,50,63,80,100,125],ve=Number(((Jt=o==null?void 0:o.details)==null?void 0:Jt.nominalAcCurrent)||((Ot=o==null?void 0:o.details)==null?void 0:Ot.maxAcCurrent)||0);ve?Math.round(ve*1.25):Number(((yt=o==null?void 0:o.details)==null?void 0:yt.recommendedBreaker)||0);const Je=oe.find(Ul=>Ul>=$)??null,Le=Number(((ut=r==null?void 0:r.inverterConfig)==null?void 0:ut.agcpValue)||0),Lt=(Le>0?As(Le,!!T):null)??(typeof O=="number"&&O>0?O:Je??$);return n.jsxs("div",{className:"border-b border-slate-800 pb-2",children:[n.jsx("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Protection de tte (Calibre disjoncteur retenu)"}),n.jsxs("div",{className:"flex items-end justify-between gap-4",children:[n.jsxs("span",{className:"text-lg font-bold",children:[Lt," A"]}),$>0?n.jsxs("span",{className:"text-[10px] text-slate-400 italic",children:["Mini thorique : ",$," A (1,25  Imax AC)"]}):null]})]})})()]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-800",children:[n.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed italic",children:"* Note technique : Cette synthse facilite le remplissage des attestations de conformit (Dossiers Techniques SC 144A/B). Elle ne dispense pas l'installateur d'une vrification sur site des calibres et longueurs relles."}),n.jsx("p",{className:"mt-2 text-[10px] text-slate-400 leading-relaxed italic",children:(()=>{var Ot,yt,ut,Ul,Pl;const $=Number(((Ot=o==null?void 0:o.details)==null?void 0:Ot.recommendedBreaker)||0);if(!$)return null;const oe=[6,10,16,20,25,32,40,50,63,80,100,125],ve=Number(((yt=o==null?void 0:o.details)==null?void 0:yt.nominalAcCurrent)||((ut=o==null?void 0:o.details)==null?void 0:ut.maxAcCurrent)||0);ve?Math.round(ve*1.25):Number(((Ul=o==null?void 0:o.details)==null?void 0:Ul.recommendedBreaker)||0);const Je=oe.find(_l=>_l>=$)??null,Le=Number(((Pl=r==null?void 0:r.inverterConfig)==null?void 0:Pl.agcpValue)||0),Pt=Le>0?As(Le,!!T):null,Lt=Pt??(typeof O=="number"&&O>0?O:Je??$),Tt=oe.includes($),Jt=Pt?`AGCP saisi ${Le} A  normalis ${Pt} A`:typeof O=="number"&&O>0?`coffret AC ${O} A`:null;return Tt?n.jsxs(n.Fragment,{children:["* Note technique  calibre : mini thorique ",$," A (1,25  Imax AC). Calibre retenu : ",Lt," A",Jt?` (${Jt})`:"","."]}):n.jsxs(n.Fragment,{children:["* Note technique  calibre normalis : calibre minimal thorique ",$," A (1,25  Imax AC). Calibre commercial suprieur : ",Je??$," A. Calibre retenu : ",Lt," A",Jt?` (${Jt})`:"","."]})})()})]})]})}),n.jsx(He,{page:Xe})]}),n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[n.jsx(Ee,{title:"Schma lectrique de principe"}),n.jsx("div",{className:"flex-1 border border-slate-100 rounded-3xl overflow-hidden bg-white shadow-sm p-4 my-6",children:n.jsx(Zp,{project:r,materials:f})}),n.jsx(He,{page:tt})]}),_.map(($,oe)=>n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[n.jsx(Ee,{title:`Liste matriel globale ${A>1?`(${oe+1}/${A})`:""}`}),n.jsx("div",{className:"flex-1",children:n.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-slate-800 text-white font-black text-[9px] tracking-widest uppercase",children:[n.jsx("th",{className:"p-4 text-left rounded-tl-xl",children:"REF."}),n.jsx("th",{className:"p-4 text-left",children:"DESCRIPTION"}),n.jsx("th",{className:"p-4 text-center",children:"QTE"}),n.jsx("th",{className:"p-4 text-right rounded-tr-xl",children:"CODE RICH."})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100 border-x border-slate-100",children:$.map((ve,Je)=>{if(ve.type==="header")return n.jsx("tr",{className:"bg-slate-200 border-y border-slate-300",children:n.jsx("td",{colSpan:4,className:"px-4 py-2 font-black text-slate-700 uppercase tracking-widest text-[10px]",children:ve.title})},`header-${ve.title}`);if(ve.type==="subheader")return n.jsx("tr",{className:"bg-green-50 border-y border-green-100",children:n.jsx("td",{colSpan:4,className:"px-4 py-1.5 font-bold text-green-800 uppercase tracking-wide text-[9px]",children:ve.title})},`subheader-${ve.title}`);if(ve.type==="warning")return n.jsx("tr",{className:"bg-red-50 border-b border-red-200",children:n.jsx("td",{colSpan:4,className:"p-2 text-[8px] font-bold text-red-600 text-center leading-tight",children:ve.text})},`warn-${Je}`);const Le=ve.material;return n.jsxs("tr",{className:Je%2===0?"bg-white":"bg-slate-100",children:[n.jsx("td",{className:"p-4 font-black text-slate-800",children:Le.id}),n.jsx("td",{className:"p-4",children:n.jsx("div",{className:"text-slate-500 font-medium",children:Le.description})}),n.jsx("td",{className:"p-4 text-center font-black text-slate-800 text-base",children:Le.quantity}),n.jsx("td",{className:"p-4 text-right font-mono font-bold text-slate-400 text-[10px]",children:Le.price||"-"})]},Le.id)})})]})}),n.jsx(He,{page:re-A+oe-(J?2:0)-(Z?1:0)})]},oe)),J&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[n.jsx(Ee,{title:"Documentation Technique - Structure & Modules"}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-4 flex-1 content-start",children:[n.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[n.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["1. Structure ",ge.structure.brand]}),n.jsxs("div",{className:"space-y-3",children:[ge.structure.manuals.map(($,oe)=>n.jsx(Nn,{title:"Notice de Montage (PDF)",url:$,icon:""},oe)),ge.structure.videos.map(($,oe)=>n.jsx(Nn,{title:`Vido : ${$.title}`,url:$.url,icon:""},oe))]})]}),n.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[n.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["2. Panneaux ",ge.panel.name]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Nn,{title:"Fiche Technique (PDF)",url:ge.panel.datasheet}),n.jsx(Nn,{title:"Manuel d'Installation (PDF)",url:ge.panel.manual,icon:""})]})]})]}),n.jsx(He,{page:re-(J?1:0)-(Z?1:0)})]}),n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[n.jsx(Ee,{title:"Documentation Technique - nergie & Administratif"}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-4 flex-1 content-start",children:[n.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[n.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["3. Onduleur ",ge.inverter.brand]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Nn,{title:"Fiche Technique",url:ge.inverter.datasheet}),n.jsx(Nn,{title:"Manuel Utilisateur",url:ge.inverter.manual,icon:""}),ge.inverter.foxCommissioningUrl&&n.jsx(Nn,{title:"Mise en service (Cloud)",url:ge.inverter.foxCommissioningUrl,icon:""})]})]}),n.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[n.jsx("h3",{className:"text-sm font-black text-blue-900 uppercase border-b-2 border-blue-900 pb-2 mb-4",children:"4. Dmarches & Consuel"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Nn,{title:"Portail CONSUEL (Demande en ligne)",url:"https://www.consuel.com/",icon:""}),n.jsx(Nn,{title:"Dossier Technique SC 144A (Vente Surplus)",url:"https://www.consuel.com/dossiers-techniques/",icon:""}),n.jsx(Nn,{title:"Dossier Technique SC 144B (Autoconso Totale/Batterie)",url:"https://www.consuel.com/dossiers-techniques/",icon:""})]})]})]}),n.jsx(He,{page:re-(Z?1:0)})]})]}),Z&&n.jsxs("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[n.jsx(Ee,{title:"Rappel et Rglementation"}),n.jsxs("div",{className:"mt-8 flex-1",children:[n.jsx("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Cadre Normatif"}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-10 relative overflow-hidden shadow-sm",children:[n.jsx("h3",{className:"text-xl font-black text-blue-900 mb-6 uppercase tracking-tight",children:"Attestation de Conformit CONSUEL"}),n.jsx("p",{className:"text-sm text-blue-800 font-medium leading-relaxed mb-8 max-w-xl",children:"Pour toute installation de production d'nergie lectrique (photovoltaque) avec ou sans dispositif de stockage, la conformit aux normes en vigueur est obligatoire."}),n.jsx("a",{href:"https://actualites.consuel.com/wp-content/uploads/2025/07/NL12-ART-AUTOCONSO-JUILLET25-v12.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-black text-sm uppercase tracking-widest shadow-md transition-transform active:scale-95",children:"Consulter la note officielle"})]})]}),n.jsx(He,{page:re})]})]})},Ci={},Xf=r=>(Ci[r]||(Ci[r]=new Promise((f,p)=>{const o=document.createElement("script");o.src=r,o.async=!0,o.onload=()=>f(),o.onerror=()=>{delete Ci[r],p(new Error(`Le script ${r} n'a pas pu tre charg.`))},document.head.appendChild(o)})),Ci[r]),Qp=async()=>{if(!(typeof window.html2canvas=="function"&&typeof window.jspdf<"u"))try{await Promise.all([Xf("https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"),Xf("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js")]);let r=0;for(;(typeof window.html2canvas!="function"||typeof window.jspdf>"u")&&r<50;)await new Promise(f=>setTimeout(f,100)),r++}catch{throw new Error("Les librairies PDF n'ont pas pu tre charges.")}},$p=({materials:r,project:f,onUpdate:p,report:o,voltageDrop:x,acSection:g,showAc1:U,ac1VoltageDrop:w,ac1Section:M,ac1BreakerA:h,microBranchesReport:j})=>{var v,_;const[R,H]=ae.useState(r),[O,T]=ae.useState(!1),[I,k]=ae.useState("Exporter en PDF"),[z,Q]=ae.useState(!1),[te,le]=ae.useState({includeDatasheets:!0,includeGuides:!0,includeRegulations:!0});ae.useEffect(()=>{H(r)},[r]);const q=(A,J)=>{const Z=R.map(se=>se.id===A?{...se,price:J}:se);H(Z),p(Z)},d=ae.useMemo(()=>tm(R),[R]),G=ae.useCallback(async()=>{var se;if(O)return;const A=document.getElementById("pdf-report-source");if(!A)return;T(!0),k("Prparation...");const J=window.scrollY;window.scrollTo(0,0);const Z=A.cloneNode(!0);Z.id="pdf-report-clone",Z.classList.remove("hidden"),Z.style.display="block",Z.style.position="absolute",Z.style.left="-10000px",Z.style.top="0",Z.style.width="210mm",document.body.appendChild(Z),await new Promise(me=>setTimeout(me,3e3));try{await Qp();const{jsPDF:me}=window.jspdf,_e=new me({orientation:"p",unit:"mm",format:"a4",compress:!0}),Ve=_e.internal.pageSize.getWidth(),nt=_e.internal.pageSize.getHeight(),Xe=Z.querySelectorAll(".pdf-page");for(let tt=0;tt<Xe.length;tt++){k(`Gnration Page ${tt+1}/${Xe.length}...`);const K=Xe[tt],re=await window.html2canvas(K,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",scrollY:0});tt>0&&_e.addPage();const be=re.toDataURL("image/jpeg",.9);_e.addImage(be,"JPEG",0,0,Ve,nt);const Ne=K.getBoundingClientRect(),Ee=Ve/Ne.width,He=nt/Ne.height;K.querySelectorAll("a").forEach(Pe=>{const Ge=Pe.getAttribute("href");if(Ge&&Ge!=="#"&&Ge.startsWith("http")){const rt=Pe.getBoundingClientRect(),jt=(rt.left-Ne.left)*Ee,at=(rt.top-Ne.top)*He,Dt=rt.width*Ee,wt=rt.height*He;_e.link(jt,at,Dt,wt,{url:Ge})}})}_e.save(`Dossier_Technique_${f.name.replace(/\s/g,"_")||"Solaire"}.pdf`)}catch(me){console.error("Erreur d'export PDF:",me),alert("Une erreur est survenue lors de la gnration du PDF interactif.")}finally{(se=document.getElementById("pdf-report-clone"))==null||se.remove(),window.scrollTo(0,J),T(!1),k("Exporter en PDF")}},[f,O]),de=(o==null?void 0:o.isCompatible)??!1,Re=((j==null?void 0:j.errors)||[]).filter(Boolean),Be=Re.length===0,Ue=(()=>{const A=typeof x=="number"?x<=3:!0,J=U&&typeof w=="number"?w<=3:!0;return A&&J})(),ue=((v=f==null?void 0:f.inverterConfig)==null?void 0:v.phase)==="Tri",fe=(o==null?void 0:o.acBreakerMin)??((_=o==null?void 0:o.details)==null?void 0:_.recommendedBreaker)??null,ie=(()=>{var J;const A=Number(((J=f==null?void 0:f.inverterConfig)==null?void 0:J.agcpValue)||0);return A>0?As(A,!!ue)??Ss(A,!!ue):typeof selectedAcCoffretA=="number"&&selectedAcCoffretA>0?selectedAcCoffretA:typeof fe=="number"&&fe>0?Ss(fe,!!ue):null})(),Ae=U&&typeof h=="number"&&h>0?h:null,S=(()=>{const A=ie&&typeof g=="number"?!ys(g,ie):!0,J=U&&Ae&&typeof M=="number"?!ys(M,Ae):!0;return A&&J})(),y=(()=>{var Ve,nt;const A=[],J=((Ve=o==null?void 0:o.details)==null?void 0:Ve.stringsAnalysis)||[];if(!Array.isArray(J)||J.length===0)return{ok:!0,reasons:A};const Z=.023,se=[2.5,6,10,16],me=((nt=f==null?void 0:f.inverterConfig)==null?void 0:nt.dcCablingRuns)||[],_e=(Xe,tt,K)=>{let re=6;if(Xe>0&&tt>0&&K>0)for(const be of se.filter(Ne=>Ne>=6)){const Ne=2*Xe*tt*Z/(be||1);if((K>0?Ne/K*100:0)<=3){re=be;break}re=be}return re};for(const Xe of J){const tt=Number((Xe==null?void 0:Xe.mpptIndex)||0);if(!tt)continue;const K=me.find(rt=>Number(rt.mpptIndex)===tt),re=Number((K==null?void 0:K.lengthM)||0);if(!re||re<=0){A.push(`Liaison DC MPPT ${tt} : longueur manquante ( renseigner).`);continue}const be=Number((Xe==null?void 0:Xe.iscCalculation)||0),Ne=Number((Xe==null?void 0:Xe.vmpHot)||0)||1,Ee=(K==null?void 0:K.sectionMm2)==null?null:Number(K==null?void 0:K.sectionMm2),He=_e(re,be,Ne),Fe=Ee??He,Ge=2*re*be*Z/(Fe||1)/Ne*100;if(Ge>3&&A.push(`Liaison DC MPPT ${tt} : chute de tension trop leve (U=${Ge.toFixed(2)}% > 3%). Augmenter la section ou rduire la longueur.`),be>0&&Fe&&em(Fe,be)){const rt=eu(Fe),jt=Wf(be);A.push(`Liaison DC MPPT ${tt} : section ${Fe} mm trop faible pour I=${be.toFixed(1)} A (max conseill ~${rt} A). Recommand  ${jt} mm.`)}}return{ok:A.length===0,reasons:A}})(),W=!U||typeof M=="number"&&typeof g=="number"&&g>=M,pe=de&&Be&&Ue&&S&&y.ok&&W,ge=(A,J)=>n.jsxs(Ga.Fragment,{children:[n.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 ${J%2===0?"bg-white":"bg-slate-100"}`,children:[n.jsx("td",{className:"px-6 py-2 font-medium text-slate-900",children:A.datasheetUrl?n.jsxs("a",{href:A.datasheetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline hover:text-blue-800 transition-colors flex items-center gap-1 group",title:"Voir la fiche technique",children:[A.id,n.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-[10px]",children:""})]}):A.id}),n.jsxs("td",{className:"px-6 py-2",children:[A.datasheetUrl?n.jsx("a",{href:A.datasheetUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 hover:underline block transition-colors",title:"Voir la fiche technique",children:A.description}):n.jsx("div",{children:A.description}),(()=>{const Z=(A.description||"").toLowerCase(),se=(Z.includes("coffret")||Z.includes("cofac"))&&!Z.includes("coffret dc")&&(Z.includes("type f")||Z.includes("type b")),me=!f.inverterConfig.agcpValue||f.inverterConfig.agcpValue<=0;return!se||!me?null:n.jsx("div",{className:"text-[10px] text-red-600 font-bold mt-1 italic leading-tight",children:"Disjoncteur non livr dans les coffrets AC  calibrer et a ajouter en fonction de l'AGCP client"})})(),(()=>{var nt;const Z=(A.description||"").toLowerCase();if(!((Z.includes("coffret")||Z.includes("cofac"))&&!Z.includes("coffret dc")&&(Z.includes("type f")||Z.includes("type b"))))return null;const me=Number(((nt=o==null?void 0:o.details)==null?void 0:nt.recommendedBreaker)||0),_e=[6,10,16,20,25,32,40,50,63,80,100,125],Ve=_e.find(Xe=>Xe>=me);return!me||_e.includes(me)?null:n.jsxs("div",{className:"text-[10px] text-slate-600 font-bold mt-1 italic leading-tight",children:["Note technique : calibre minimal thorique calcul = ",me," A (1,25  Imax AC). En labsence de calibre commercial, le calibre normalis retenu est ",Ve??me," A."]})})()]}),n.jsx("td",{className:"px-6 py-2 text-center font-bold text-slate-700",children:A.quantity}),n.jsx("td",{className:"px-6 py-2 text-right",children:n.jsx("input",{type:"text",value:A.price||"",onChange:Z=>q(A.id,Z.target.value),className:"w-24 text-right p-1 border border-slate-300 rounded bg-white/50 focus:bg-white"})})]}),A.id==="FOX-MICRO-1000"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte",n.jsx("br",{}),"Jusqu 7 micro-onduleurs sur un cble quivalent 6 mm avec un disjoncteur jusqu 32 A . Ces limites tiennent compte de la capacit de transport de courant du cble et des jonctions. Merci de vous reporter a la fiche technique constructeur"]})}),A.id==="ENP-IQ8MC-72-M-INT"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte (IQ8MC)",n.jsx("br",{}),"Disjoncteur 20 A monophas : nombre max ~11 par branche (Cble 2.5mm).",n.jsx("br",{})," Ces limites recommandes par Enphase tiennent compte de la chute de tension et du courant admissible du cble AC.",n.jsx("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),A.id==="ENP-IQ8HC-72-M-INT"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte (IQ8HC)",n.jsx("br",{}),"Disjoncteur 20 A monophas : nombre max ~9 par branche (Cble 2.5mm).",n.jsx("br",{})," Ces limites recommandes par Enphase tiennent compte de la chute de tension et du courant admissible du cble AC.",n.jsx("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),A.id==="ENP-IQ8P-72-2-INT"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte (IQ8P)",n.jsx("br",{}),"Disjoncteur 20 A monophas : nombre max ~7-8 par branche (Cble 2.5mm).",n.jsx("br",{})," Ces limites recommandes par Enphase tiennent compte de la chute de tension et du courant admissible du cble AC.",n.jsx("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),A.id==="APS-DS3"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte (DS3)",n.jsx("br",{}),"Cble AC bus 2.5mm (Max ~20A) : 5 units max par branche.",n.jsx("br",{})," Ces limites tiennent compte de la capacit du cble bus et des chutes de tension.",n.jsx("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),A.id==="APS-DS3-H"&&n.jsx("tr",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:[" Ce quil faut aussi prendre en compte (DS3-H)",n.jsx("br",{}),"Cble AC bus 2.5mm (Max ~20A) : 4  5 units max par branche.",n.jsx("br",{})," Ces limites tiennent compte de la capacit du cble bus et des chutes de tension.",n.jsx("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})})]},A.id);return n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md relative",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:"Liste de Matriel Globale"}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs("button",{onClick:()=>Q(!0),disabled:O||!pe,className:"flex items-center justify-center gap-2 w-[180px] bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm disabled:bg-slate-300 disabled:cursor-not-allowed",children:[O?n.jsx(dm,{className:"h-5 w-5 animate-spin"}):n.jsx(Yp,{className:"h-5 w-5"}),n.jsx("span",{children:O?I:"Exporter en PDF"})]}),!de&&n.jsx("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded",children:" Export bloqu : Configuration non conforme"}),de&&!Be&&n.jsx("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded max-w-[260px] text-right",children:" Export bloqu : micro-onduleurs  corriger"}),de&&Be&&!W&&n.jsx("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded max-w-[260px] text-right",children:" Export bloqu : AC2 doit tre  AC1"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[n.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3",children:"Rf. Fabricant"}),n.jsx("th",{className:"px-6 py-3",children:"Description"}),n.jsx("th",{className:"px-6 py-3 text-center",children:"Qt"}),n.jsx("th",{className:"px-6 py-3 text-right",children:"Code Rich."})]})}),n.jsx("tbody",{children:d.map(A=>{var J;return n.jsxs(Ga.Fragment,{children:[n.jsx("tr",{className:"bg-slate-200 border-y border-slate-300",children:n.jsx("td",{colSpan:4,className:"px-6 py-2 font-black text-slate-700 uppercase tracking-widest text-xs",children:A.category})}),A.items.map((Z,se)=>ge(Z,se)),(J=A.subSections)==null?void 0:J.map(Z=>{var se;return n.jsxs(Ga.Fragment,{children:[n.jsx("tr",{className:"bg-green-50 border-y border-green-100",children:n.jsx("td",{colSpan:4,className:"px-6 py-1.5 font-bold text-green-800 uppercase tracking-wide text-[10px]",children:Z.title})}),Z.title&&/borne ve/i.test(Z.title)&&((se=f.evCharger)==null?void 0:se.selected)&&n.jsx("tr",{className:"bg-white border-b border-red-100",children:n.jsx("td",{colSpan:4,className:"px-6 py-2 text-[11px] text-red-600 font-black",children:f.evCharger.phase==="Tri"?" Borne VE TRI : prvoir cble 5G10 mm.":" Borne VE MONO : prvoir cble 3G10 mm."})}),Z.items.map((me,_e)=>ge(me,_e))]},Z.title)})]},A.category)})})]})}),n.jsx(Kp,{project:f,materials:R,exportOptions:te,report:o,voltageDrop:x,acSection:g,showAc1:U,ac1VoltageDrop:w,ac1Section:M,ac1BreakerA:h,microBranchesReport:j}),z&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:"Gnration du Dossier Technique"}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("p",{className:"text-sm text-slate-600",children:["Le document comportera les plans de pose, les calculs de conformit, le schma lectrique et les ",n.jsx("b",{children:"liens interactifs"})," vers les notices."]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:te.includeDatasheets,onChange:()=>le(A=>({...A,includeDatasheets:!A.includeDatasheets}))}),n.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Inclure l'audit lectrique dtaill"})]}),n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:te.includeGuides,onChange:()=>le(A=>({...A,includeGuides:!A.includeGuides}))}),n.jsx("span",{className:"text-sm font-medium text-slate-800",children:"Inclure la documentation technique (liens & notices)"})]}),n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:te.includeRegulations,onChange:()=>le(A=>({...A,includeRegulations:!A.includeRegulations}))}),n.jsx("span",{className:"text-sm font-medium text-slate-800",children:'Ajouter la page "Rappel et Rglementation"'})]})]})]}),!Ue&&n.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[n.jsx("div",{className:"font-bold mb-1",children:"Export PDF bloqu : chute de tension AC trop leve"}),n.jsxs("div",{children:[U&&typeof w=="number"&&w>3&&n.jsxs("div",{children:["Tronon AC1 (onduleur  coffret AC) : ",n.jsxs("b",{children:[w.toFixed(2),"%"]})]}),typeof x=="number"&&x>3&&n.jsxs("div",{children:["Tronon AC2 (coffret AC  point de raccordement) : ",n.jsxs("b",{children:[x.toFixed(2),"%"]})]}),n.jsx("div",{className:"mt-1",children:"Objectif :  1% (recommand). Limite :  3% (tolr). Au-del, revoir la section et/ou la longueur."})]})]}),!Be&&n.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[n.jsx("div",{className:"font-bold mb-1",children:"Export PDF bloqu : configuration micro-onduleurs  corriger"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Re.slice(0,5).map((A,J)=>n.jsx("li",{children:A},J))}),Re.length>5&&n.jsxs("div",{className:"mt-2 italic",children:["et ",Re.length-5," autre(s) point(s)."]})]}),!y.ok&&n.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[n.jsx("div",{className:"font-bold mb-1",children:"Export PDF bloqu : liaison DC (MPPT)  corriger"}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.reasons.slice(0,5).map((A,J)=>n.jsx("li",{children:A},J))}),y.reasons.length>5&&n.jsxs("div",{className:"mt-2 italic",children:["et ",y.reasons.length-5," autre(s) point(s)."]})]}),!S&&n.jsxs("div",{className:"mb-3 p-3 rounded-lg border border-red-200 bg-red-50 text-red-800 text-sm",children:[n.jsx("div",{className:"font-bold",children:"Export PDF bloqu : protection/section AC non conforme"}),n.jsxs("div",{className:"mt-1 text-xs",children:[Ae&&U&&typeof M=="number"&&ys(M,Ae)&&n.jsxs("div",{children:["AC1 (onduleur  coffret) : In=",n.jsxs("b",{children:[Ae,"A"]})," incompatible avec ",n.jsxs("b",{children:[M,"mm"]}),"."]}),ie&&typeof g=="number"&&ys(g,ie)&&n.jsxs("div",{children:["AC2 (coffret  tableau) : In=",n.jsxs("b",{children:[ie,"A"]})," incompatible avec ",n.jsxs("b",{children:[g,"mm"]}),"."]}),n.jsx("div",{className:"mt-1",children:"Augmente la section (ex : 16 mm pour 63 A) ou ajuste la protection."})]})]}),!W&&n.jsxs("div",{className:"mb-3 p-3 rounded-lg border border-red-200 bg-red-50 text-red-800 text-sm",children:[n.jsx("div",{className:"font-bold",children:"Export PDF bloqu : incohrence sections AC"}),n.jsxs("div",{className:"mt-1 text-xs",children:["AC2 (coffret  tableau) doit tre ",n.jsx("b",{children:""})," AC1 (onduleur  coffret) en onduleur centralis.",n.jsxs("div",{className:"mt-1",children:["Valeurs actuelles : AC1 = ",n.jsxs("b",{children:[M," mm"]}),"  AC2 = ",n.jsxs("b",{children:[g," mm"]}),"."]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-2.5 bg-slate-100 rounded-lg font-bold text-slate-600",children:"Annuler"}),n.jsx("button",{disabled:!pe,onClick:()=>{Q(!1),G()},className:"flex-1 py-2.5 bg-blue-600 text-white rounded-lg font-bold shadow-lg shadow-blue-200 disabled:bg-slate-300 disabled:text-slate-600 disabled:shadow-none disabled:cursor-not-allowed",children:"Gnrer le PDF"})]})]})})]})},fm=({component:r,onSave:f,onCancel:p})=>{const[o,x]=ae.useState({}),[g,U]=ae.useState({}),[w,M]=ae.useState("other");if(ae.useEffect(()=>{var T,I,k,z,Q;r?(x(r),r.electrical?U(r.electrical):U({}),(T=r.id)!=null&&T.includes("ENP")||(I=r.id)!=null&&I.includes("APS")||(k=r.id)!=null&&k.includes("FOX")||(z=r.electrical)!=null&&z.maxInputVoltage?M("inverter"):(r.width&&r.width>800||(Q=r.electrical)!=null&&Q.voc,M("panel"))):(x({unit:"piece",price:""}),U({}),M("panel"))},[r]),!r)return null;const h=T=>{const{name:I,value:k}=T.target,z=["length","width","height","power"];x(Q=>({...Q,[I]:z.includes(I)?parseFloat(k)||0:k}))},j=T=>{const{name:I,value:k}=T.target;U(z=>({...z,[I]:parseFloat(k)||0}))},R=T=>{if(T.preventDefault(),o.id&&o.description&&o.unit){const I={...o};Object.keys(g).length>0&&(I.electrical=g),f(I)}else alert("Veuillez remplir les champs Rfrence, Description et Unit.")},H=w==="panel",O=w==="inverter";return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4 max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"diter le composant"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-xs font-bold text-slate-500",children:"Type :"}),n.jsxs("select",{value:w,onChange:T=>M(T.target.value),className:"p-1 border rounded text-xs bg-slate-100 font-bold text-blue-700 focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"panel",children:"Panneau PV"}),n.jsx("option",{value:"inverter",children:"Onduleur / Micro"}),n.jsx("option",{value:"other",children:"Autre (Rail/Acc.)"})]})]})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Rfrence (ID)"}),n.jsx("input",{type:"text",name:"id",value:o.id||"",onChange:h,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Description"}),n.jsx("input",{type:"text",name:"description",value:o.description||"",onChange:h,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Unit"}),n.jsxs("select",{name:"unit",value:o.unit||"piece",onChange:h,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 bg-white",children:[n.jsx("option",{value:"piece",children:"pice"}),n.jsx("option",{value:"m",children:"m"}),n.jsx("option",{value:"unite",children:"unit"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code Richardson"}),n.jsx("input",{type:"text",name:"price",value:o.price||"",onChange:h,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500"})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-2",children:[n.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Dimensions & Puissance (Physique)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Longueur (mm)"}),n.jsx("input",{type:"number",name:"length",value:o.length||"",onChange:h,className:"w-full p-2 border rounded",placeholder:"Ex: Rail"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Largeur (mm)"}),n.jsx("input",{type:"number",name:"width",value:o.width||"",onChange:h,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Hauteur (mm)"}),n.jsx("input",{type:"number",name:"height",value:o.height||"",onChange:h,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Puissance (Wc/VA)"}),n.jsx("input",{type:"number",name:"power",value:o.power||"",onChange:h,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau/Onduleur"})]})]})]}),(H||O)&&n.jsxs("div",{className:"border-t pt-4 mt-2 bg-yellow-50 -mx-4 px-4 pb-4",children:[n.jsxs("h4",{className:"text-xs font-bold text-yellow-700 uppercase mb-2",children:["Donnes lectriques (",H?"Panneau":"Onduleur",")"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Voc (V) / Max Input V"}),n.jsx("input",{type:"number",step:"0.01",name:H?"voc":"maxInputVoltage",value:H?g.voc||"":g.maxInputVoltage||"",onChange:j,className:"w-full p-1 border rounded text-sm font-mono"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Isc (A) / Max Input I"}),n.jsx("input",{type:"number",step:"0.01",name:H?"isc":"maxInputCurrent",value:H?g.isc||"":g.maxInputCurrent||"",onChange:j,className:"w-full p-1 border rounded text-sm font-mono"})]}),H&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Vmp (V)"}),n.jsx("input",{type:"number",step:"0.01",name:"vmp",value:g.vmp||"",onChange:j,className:"w-full p-1 border rounded text-sm font-mono"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Imp (A)"}),n.jsx("input",{type:"number",step:"0.01",name:"imp",value:g.imp||"",onChange:j,className:"w-full p-1 border rounded text-sm font-mono"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Coeff Voc (%/C)"}),n.jsx("input",{type:"number",step:"0.01",name:"tempCoeffVoc",value:g.tempCoeffVoc||"",onChange:j,className:"w-full p-1 border rounded text-sm font-mono",placeholder:"-0.26"})]})]}),O&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Min MPPT (V)"}),n.jsx("input",{type:"number",step:"0.1",name:"minMpptVoltage",value:g.minMpptVoltage||"",onChange:j,className:"w-full p-1 border rounded text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Max MPPT (V)"}),n.jsx("input",{type:"number",step:"0.1",name:"maxMpptVoltage",value:g.maxMpptVoltage||"",onChange:j,className:"w-full p-1 border rounded text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"Max AC Power (VA)"}),n.jsx("input",{type:"number",name:"maxAcPower",value:g.maxAcPower||"",onChange:j,className:"w-full p-1 border rounded text-sm"})]})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-2 space-y-3",children:[n.jsx("h4",{className:"text-xs font-bold text-blue-500 uppercase mb-1",children:"Liens & Documentations"}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"URL Fiche Technique (Datasheet PDF)"}),n.jsx("input",{type:"text",name:"datasheetUrl",value:o.datasheetUrl||"",onChange:h,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"URL Manuel d'installation (PDF)"}),n.jsx("input",{type:"text",name:"manualUrl",value:o.manualUrl||"",onChange:h,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"URL Vido de support (YouTube)"}),n.jsx("input",{type:"text",name:"videoUrl",value:o.videoUrl||"",onChange:h,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://youtube.com/..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-slate-600",children:"URL Image du produit"}),n.jsx("input",{type:"text",name:"imageUrl",value:o.imageUrl||"",onChange:h,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]})]})]}),n.jsxs("div",{className:"p-4 bg-slate-50 border-t flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:p,className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-md hover:bg-slate-300",children:"Annuler"}),n.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 font-bold",children:"Sauvegarder"})]})]})})})},mm=r=>new Promise((f,p)=>{if(document.querySelector(`script[src="${r}"]`)){f();return}const o=document.createElement("script");o.src=r,o.async=!0,o.onload=()=>f(),o.onerror=()=>p(new Error(`Failed to load ${r}`)),document.head.appendChild(o)}),Jp=async r=>{await mm("https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js");const f=window.pdfjsLib;f.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const p=await r.arrayBuffer(),o=await f.getDocument({data:p}).promise;let x="";const g=Math.min(o.numPages,3);for(let U=1;U<=g;U++){const M=await(await o.getPage(U)).getTextContent();let h=-1,j="";for(const R of M.items)h!==-1&&Math.abs(R.transform[5]-h)>5&&(j+=`
`),j+=R.str+" ",h=R.transform[5];x+=j+`
`}return x},Wp=async r=>{await mm("https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js");const f=window.Tesseract,{data:{text:p}}=await f.recognize(r,"eng+fra",{logger:o=>console.debug(o)});return p},Zf=r=>{const f=/\b\d{1,4}(?:[.,]\d{1,2})?\b/g,p=r.match(f);return p?p.map(o=>parseFloat(o.replace(",","."))).filter(o=>!isNaN(o)):[]},eh=r=>{const f=r.split(`
`).map(T=>T.trim()).filter(T=>T.length>0),p=r.replace(/\s+/g," ").replace(/O/g,"0").replace(/o/g,"0"),o={unit:"piece",electrical:{}},g=/micro[- ]?inverter|micro[- ]?onduleur|iq8|ds3/i.test(p)||/inverter|onduleur|mppt|hybrid/i.test(p),U=!g&&(/module|panneau|photovoltaic|cell|solar|bifacial/i.test(p)||/Voc/i.test(p)),w=/(\d{3,4})\s*[xX*]\s*(\d{3,4})(?:\s*[xX*]\s*(\d{2,3}))?/,M=p.match(w);if(M){const T=[parseFloat(M[1]),parseFloat(M[2])];U?(o.height=Math.max(...T),o.width=Math.min(...T)):(o.width=T[0],o.height=T[1])}const h=/([A-Z0-9]{2,}-[A-Z0-9-]{3,})/i,j=p.match(h);let R=j?j[1]:U?"Panneau":"Onduleur",H=0,O=!1;for(const T of f)if(/(Pmax|Power|Puissance|Nominale|Pnom)/i.test(T)&&!O){const I=Zf(T),k=I.filter(z=>z>200&&z<800);if(k.length>0){const z=Math.max(...k);o.power=z,H=I.indexOf(z),O=!0,R&&!R.includes(z.toString())&&(R+=`-${z}`)}}if(!o.power){const T=p.match(/(?:Pmax|Power|Puissance)[^0-9]*(\d{3})/i);T&&(o.power=parseFloat(T[1]))}if(U){const T=o.electrical,I=(k,z,Q)=>{for(const te of f)if(k.test(te)){const le=Zf(te);if(le.length>0){if(O&&le.length>H){const d=le[H];if(d>=z&&d<=Q)return d}const q=le.find(d=>d>=z&&d<=Q);if(q)return q}}};T.voc=I(/Voc|Ouvert|Open/i,20,60)||0,T.vmp=I(/Vmp|Vmpp|Pmax.*?Voltage|Tension.*?Maximale/i,20,50)||0,T.isc=I(/Isc|Court|Short/i,8,20)||0,T.imp=I(/Imp|Impp|Pmax.*?Current|Courant.*?Maximal/i,8,20)||0;for(const k of f)if(/(Temp|Coeff).*?Voc/i.test(k)){const z=k.match(/-0[.,]\d{2,3}/);if(z){T.tempCoeffVoc=parseFloat(z[0].replace(",","."));break}}}else if(g){const T=o.electrical,I=p.match(/(?:Max.*?Input.*?Voltage|Tension.*?Entre.*?Max)[^0-9]*(\d{2,4})/i);I&&(T.maxInputVoltage=parseFloat(I[1]));const k=p.match(/(?:MPPT|Plage)[^0-9]*(\d{2,3})\s*[-~to]\s*(\d{2,4})/i);k&&(T.minMpptVoltage=parseFloat(k[1]),T.maxMpptVoltage=parseFloat(k[2]));const z=p.match(/(?:Max.*?Input.*?Current|Courant.*?Entre.*?Max)[^0-9]*(\d{1,3}(?:[.,]\d)?)/i);z&&(T.maxInputCurrent=parseFloat(z[1].replace(",","."))),T.maxAcPower=o.power||0}return o.id=R,o.description=`${U?"Panneau":"Onduleur"} ${R} ${o.power?o.power+"W":""}`,o},th=({onImport:r,onClose:f})=>{const[p,o]=ae.useState(!1),[x,g]=ae.useState(""),[U,w]=ae.useState(null),M=ae.useRef(null),h=async H=>{o(!0),g("Analyse du fichier en cours...");try{let O="";if(H.type==="application/pdf")g("Lecture du PDF (Extraction texte)..."),O=await Jp(H);else if(H.type.startsWith("image/"))g("Lecture de l'image (OCR Tesseract)..."),O=await Wp(H);else throw new Error("Format non support. Utilisez PDF, JPG ou PNG.");g("Analyse intelligente des donnes...");const T=eh(O);T.id||(T.id=`NEW-${Math.floor(Math.random()*1e4)}`),T.datasheetUrl="",w(T)}catch(O){console.error(O),alert(`Erreur d'analyse: ${O instanceof Error?O.message:"Inconnue"}`)}finally{o(!1)}},j=H=>{H.preventDefault(),H.dataTransfer.files&&H.dataTransfer.files[0]&&h(H.dataTransfer.files[0])},R=()=>{var H;(H=M.current)==null||H.click()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 backdrop-blur-sm",children:U?n.jsx(fm,{component:U,onSave:H=>{r(H),f()},onCancel:()=>w(null)}):n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full relative",children:[n.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:n.jsx(Ms,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Import Intelligent (OCR)"}),n.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Dposez une fiche technique (PDF ou Image) pour extraire automatiquement les caractristiques."}),n.jsxs("div",{onDrop:j,onDragOver:H=>H.preventDefault(),onClick:R,className:`border-2 border-dashed rounded-xl h-48 flex flex-col items-center justify-center cursor-pointer transition-colors ${p?"border-blue-400 bg-blue-50":"border-slate-300 hover:border-blue-500 hover:bg-slate-50"}`,children:[p?n.jsxs(n.Fragment,{children:[n.jsx(dm,{className:"w-10 h-10 text-blue-600 mb-3"}),n.jsx("p",{className:"text-sm font-semibold text-blue-700 animate-pulse",children:x})]}):n.jsxs(n.Fragment,{children:[n.jsx(lu,{className:"w-12 h-12 text-slate-300 mb-2"}),n.jsx("p",{className:"text-sm font-bold text-slate-600",children:"Cliquez ou Dposez un fichier ici"}),n.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, JPG, PNG accepts"})]}),n.jsx("input",{type:"file",ref:M,className:"hidden",accept:".pdf,image/*",onChange:H=>H.target.files&&H.target.files[0]&&h(H.target.files[0])})]}),n.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:[n.jsx("strong",{children:"Note :"})," L'IA analysera le texte pour trouver la Puissance, les Tensions (Voc/Vmp), Courants (Isc) et Dimensions. Vrifiez toujours les donnes avant validation."]})]})})},Kf=({isOpen:r,onClose:f,onConfirm:p,title:o,message:x})=>r?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4",children:[n.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:o}),n.jsx("button",{onClick:f,className:"text-slate-500 hover:text-slate-800 p-1 rounded-full hover:bg-slate-200",children:n.jsx(Ms,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-6",children:n.jsx("p",{className:"text-slate-600",children:x})}),n.jsxs("div",{className:"p-4 bg-slate-50 border-t flex justify-end gap-2",children:[n.jsx("button",{onClick:f,className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-md hover:bg-slate-300",children:"Annuler"}),n.jsx("button",{onClick:p,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Confirmer"})]})]})}):null,lh=({k2:r,esdec:f,inverters:p,panels:o,boxes:x,cables:g,onUpdateK2:U,onUpdateEsdec:w,onUpdateInverters:M,onUpdatePanels:h,onUpdateBoxes:j,onUpdateCables:R,onExit:H})=>{const[O,T]=ae.useState("PANNEAUX"),[I,k]=ae.useState(null),[z,Q]=ae.useState(!1),[te,le]=ae.useState(null),[q,d]=ae.useState(""),[G,de]=ae.useState(!1),[Re,Be]=ae.useState("");ae.useRef(null),ae.useEffect(()=>{const y=localStorage.getItem("richardson_official_pdf_url");y&&Be(y)},[]);const ue=(()=>{switch(O){case"K2":return r;case"ESDEC":return f;case"ONDULEURS":return p;case"PANNEAUX":return o;case"COFFRETS":return x;case"CABLES":return g;default:return o}})(),fe=async(y,W)=>{d("Sauvegarde...");try{const pe={K2:"k2",ESDEC:"esdec",ONDULEURS:"inverters",PANNEAUX:"panels",COFFRETS:"boxes",CABLES:"cables"};pe[W]&&await Lp(pe[W],y),d(" Sauvegard !")}catch{d(" Erreur")}setTimeout(()=>d(""),2e3)},ie=()=>{localStorage.setItem("richardson_official_pdf_url",Re),d(" Rglages sauvs !"),setTimeout(()=>d(""),2e3)},Ae=y=>{const W={...ue},pe=Object.keys(W).find(ge=>W[ge].id===(I==null?void 0:I.id));pe&&pe!==y.id&&delete W[pe],W[y.id]=y,fe(W,O),k(null)},S=[{id:"PANNEAUX",label:"Panneaux"},{id:"ONDULEURS",label:"Onduleurs"},{id:"K2",label:"Systme K2"},{id:"ESDEC",label:"Systme ESDEC"},{id:"REGLAGES",label:" PDF & Rglages"}];return n.jsxs("div",{className:"container mx-auto px-4 py-8 min-h-screen bg-slate-100 font-sans",children:[n.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-t-xl flex flex-col md:flex-row justify-between items-center shadow-lg gap-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[n.jsx("span",{className:"text-orange-500",children:""})," Administration"]}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Grez vos matriels et vos documents officiels."})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[q&&n.jsx("span",{className:"text-sm font-bold text-green-400 animate-pulse mr-2",children:q}),n.jsx("button",{onClick:H,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold shadow-lg",children:"Retour au Calculateur"})]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-md min-h-[600px]",children:[n.jsx("div",{className:"flex gap-2 border-b border-slate-200 mb-6 overflow-x-auto pb-2",children:S.map(y=>n.jsx("button",{onClick:()=>T(y.id),className:`px-4 py-2 rounded-t-lg font-bold text-sm transition-colors whitespace-nowrap ${O===y.id?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-slate-500 hover:bg-slate-50"}`,children:y.label},y.id))}),O==="REGLAGES"?n.jsxs("div",{className:"max-w-2xl space-y-8 animate-scale-in",children:[n.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:""})," Configuration du Rfrentiel PDF Richardson"]}),n.jsx("p",{className:"text-sm text-slate-500 mb-4 leading-relaxed",children:"Pour que tous les utilisateurs sur tous les ordinateurs voient le mme PDF (Carte de vent, normes), hbergez votre fichier PDF en ligne et collez son URL directe ci-dessous."}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest block mb-2",children:"URL Directe du PDF (Partage universel)"}),n.jsx("input",{type:"url",value:Re,onChange:y=>Be(y.target.value),placeholder:"https://votre-site.com/normes-richardson.pdf",className:"w-full p-3 border rounded-lg font-mono text-sm bg-white shadow-inner focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsx("button",{onClick:ie,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2.5 rounded-lg font-bold shadow-md transition-all active:scale-95",children:"Enregistrer l'URL officielle"})]})]}),n.jsxs("div",{className:"bg-red-50 p-6 rounded-xl border border-red-100",children:[n.jsx("h3",{className:"text-lg font-bold text-red-800 mb-2",children:"Maintenance Systme"}),n.jsx("p",{className:"text-sm text-red-600/80 mb-6",children:"Rinitialiser les bases de donnes si vous avez fait des erreurs irrcuprables."}),n.jsx("button",{onClick:()=>de(!0),className:"bg-white border border-red-200 text-red-600 px-4 py-2 rounded font-bold hover:bg-red-600 hover:text-white transition-all text-xs",children:" Rinitialiser tout aux valeurs d'usine"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-center mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[n.jsxs("div",{className:"text-sm text-slate-600 font-bold uppercase tracking-widest",children:[O,"  ",Object.keys(ue).length," RFRENCES"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700 font-semibold text-sm shadow-md transition-all",children:[n.jsx(lu,{className:"w-5 h-5 text-orange-400"})," Importer via PDF (OCR)"]}),n.jsxs("button",{onClick:()=>k({unit:"piece",price:""}),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-semibold text-sm shadow-md transition-all",children:[n.jsx(om,{className:"w-5 h-5"})," Ajouter matriel"]})]})]}),n.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 shadow-sm",children:n.jsxs("table",{className:"w-full text-sm text-left",children:[n.jsx("thead",{className:"bg-slate-800 text-white font-bold text-[10px] uppercase tracking-widest",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4",children:"Rfrence"}),n.jsx("th",{className:"px-6 py-4",children:"Description"}),n.jsx("th",{className:"px-6 py-4",children:"Dtails"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Code Rich."}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:Object.values(ue).map(y=>n.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[n.jsx("td",{className:"px-6 py-3 font-bold text-slate-900",children:y.id}),n.jsx("td",{className:"px-6 py-3 text-slate-600",children:y.description}),n.jsxs("td",{className:"px-6 py-3 text-xs text-slate-400",children:[y.power?n.jsxs("span",{className:"inline-block bg-orange-100 text-orange-800 px-2 py-0.5 rounded mr-2 font-black",children:[y.power," ",O==="PANNEAUX"?"Wc":"VA"]}):null,y.width?n.jsxs("span",{children:[y.height,"x",y.width,"mm"]}):null]}),n.jsx("td",{className:"px-6 py-3 text-right font-mono font-bold text-slate-800",children:y.price||"-"}),n.jsxs("td",{className:"px-6 py-3 text-right flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>k(y),className:"text-blue-600 font-bold hover:underline",children:"Modifier"}),n.jsx("button",{onClick:()=>le(y.id),className:"text-red-400 hover:text-red-600",children:n.jsx(um,{className:"w-5 h-5"})})]})]},y.id))})]})})]})]}),I&&n.jsx(fm,{component:I,onSave:Ae,onCancel:()=>k(null)}),z&&n.jsx(th,{onImport:y=>{Ae(y),Q(!1)},onClose:()=>Q(!1)}),n.jsx(Kf,{isOpen:!!te,onClose:()=>le(null),onConfirm:()=>{if(te){const y={...ue};delete y[te],fe(y,O),le(null)}},title:"Supprimer matriel ?",message:"Cette action est irrversible."}),n.jsx(Kf,{isOpen:G,onClose:()=>de(!1),onConfirm:Bp,title:" Rinitialisation Totale",message:"Vous allez perdre tous vos prix et nouveaux produits. Continuer ?"})]})},Dc=({content:r,children:f,position:p="top",className:o})=>{const[x,g]=ae.useState(!1),U=ae.useId(),w=()=>g(!0),M=()=>g(!1),h=()=>{switch(p){case"bottom":return{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"8px"};case"left":return{top:"50%",right:"100%",transform:"translateY(-50%)",marginRight:"8px"};case"right":return{top:"50%",left:"100%",transform:"translateY(-50%)",marginLeft:"8px"};case"top":default:return{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"}}},j=()=>{switch(p){case"bottom":return{bottom:"100%",left:"50%",transform:"translateX(-50%)",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent #1e293b transparent"};case"left":return{top:"50%",left:"100%",transform:"translateY(-50%)",borderWidth:"6px 0 6px 6px",borderColor:"transparent transparent transparent #1e293b"};case"right":return{top:"50%",right:"100%",transform:"translateY(-50%)",borderWidth:"6px 6px 6px 0",borderColor:"transparent #1e293b transparent transparent"};case"top":default:return{top:"100%",left:"50%",transform:"translateX(-50%)",borderWidth:"6px 6px 0 6px",borderColor:"#1e293b transparent transparent transparent"}}};return n.jsxs("div",{className:`relative inline-flex ${o||""}`,onMouseEnter:w,onMouseLeave:M,onFocusCapture:w,onBlurCapture:M,children:[Ga.cloneElement(f,{"aria-describedby":x?U:void 0}),x&&n.jsxs("div",{id:U,role:"tooltip",className:"absolute z-[150] w-max max-w-xs p-2.5 text-center text-sm font-medium text-white bg-slate-800 rounded-lg shadow-xl",style:h(),children:[r,n.jsx("div",{className:"absolute w-0 h-0 border-solid pointer-events-none",style:j()})]})]})},nh="https://www.dropbox.com/scl/fi/zcv9qg4vxyp6wshhi3ood/Temperature-et-Vent-France.pdf?rlkey=j519tisqqo17vjx7btish244q&st=2smeag3x&raw=1",ah=({onClose:r})=>{const[f,p]=ae.useState(null),[o,x]=ae.useState(!1);return ae.useEffect(()=>{const U=localStorage.getItem("richardson_official_pdf_url")||nh;if(U.trim()!==""){p(U),x(!0);return}const w=localStorage.getItem("richardson_referentiel_pdf");if(w)try{const M=atob(w.split(",")[1]),h=new Array(M.length);for(let O=0;O<M.length;O++)h[O]=M.charCodeAt(O);const j=new Uint8Array(h),R=new Blob([j],{type:"application/pdf"}),H=URL.createObjectURL(R);p(H),x(!1)}catch(M){console.error("Erreur de conversion PDF local:",M)}},[]),n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md p-0 md:p-4 overflow-hidden",children:n.jsxs("div",{className:"bg-[#323639] w-full max-w-6xl h-full md:h-[95vh] rounded-none md:rounded-lg shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[n.jsxs("header",{className:"bg-[#2d3239] text-white px-6 py-3 flex justify-between items-center shrink-0 shadow-lg border-b border-white/10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-[#ff0000] p-1.5 rounded flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-[10px] font-black leading-none text-white",children:"PDF"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-sm leading-none",children:"Rfrentiel Solaire Richardson"}),n.jsx("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold",children:o?"Document Officiel (Lien Cloud)":"Document de session locale"})]})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx("button",{onClick:r,className:"bg-[#e53935] hover:bg-[#d32f2f] px-6 py-2 rounded text-white transition-all shadow-lg active:scale-95",children:n.jsx(Ms,{className:"w-5 h-5"})})})]}),n.jsx("div",{className:"flex-1 bg-[#525659] relative flex items-center justify-center",children:f?n.jsx("iframe",{src:f,className:"w-full h-full border-none bg-white",title:"Rfrentiel PDF"}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center space-y-6",children:[n.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center",children:n.jsx(lu,{className:"w-12 h-12 text-white/20"})}),n.jsxs("div",{className:"max-w-md",children:[n.jsx("h4",{className:"text-white text-xl font-bold mb-2",children:"Chargement du document..."}),n.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Si le document ne s'affiche pas, vrifiez votre connexion internet."})]})]})}),n.jsxs("footer",{className:"bg-[#2d3239] border-t border-white/5 px-8 py-2 flex justify-between items-center shrink-0",children:[n.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-[0.2em]",children:"Rfrentiel National  Richardson Solaire v3.0"}),f&&!o&&n.jsx("button",{onClick:()=>{localStorage.removeItem("richardson_referentiel_pdf"),window.location.reload()},className:"text-[9px] text-red-400 font-bold uppercase hover:underline",children:"Rinitialiser"})]})]})})},sh=({initialPanel:r,onSave:f,onClose:p})=>{var w,M,h,j;const[o,x]=ae.useState({width:r.width||1134,height:r.height||1722,power:r.power||425,voc:((w=r.electrical)==null?void 0:w.voc)||0,isc:((M=r.electrical)==null?void 0:M.isc)||0,vmp:((h=r.electrical)==null?void 0:h.vmp)||0,tempCoeffVoc:((j=r.electrical)==null?void 0:j.tempCoeffVoc)||-.26}),g=R=>{const{name:H,value:O}=R.target;x(T=>({...T,[H]:parseFloat(O)||0}))},U=R=>{var O;R.preventDefault();const H={...r,width:o.width,height:o.height,power:o.power,electrical:{...r.electrical,voc:o.voc,isc:o.isc,vmp:o.vmp,imp:((O=r.electrical)==null?void 0:O.imp)||13,tempCoeffVoc:o.tempCoeffVoc}};f(H)};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md animate-scale-in",children:[n.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-t-xl flex justify-between items-center",children:[n.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-400",children:""})," Configuration Panneau"]}),n.jsx("button",{onClick:p,className:"hover:bg-slate-700 p-1 rounded-full transition-colors",children:n.jsx(Ms,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:U,className:"p-6 space-y-5",children:[n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg text-xs text-blue-800",children:"Ces donnes sont temporaires et servent aux calculs de compatibilit onduleur et de calpinage pour ce projet."}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance (Wc)"}),n.jsx("input",{type:"number",name:"power",value:o.power,onChange:g,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Hauteur (mm)"}),n.jsx("input",{type:"number",name:"height",value:o.height,onChange:g,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Largeur (mm)"}),n.jsx("input",{type:"number",name:"width",value:o.width,onChange:g,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),n.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Donnes lectriques (STC)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tension Max (Voc)"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",step:"0.01",name:"voc",value:o.voc,onChange:g,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),n.jsx("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Courant Isc"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",step:"0.01",name:"isc",value:o.isc,onChange:g,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),n.jsx("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"A"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tension Vmp"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",step:"0.01",name:"vmp",value:o.vmp,onChange:g,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),n.jsx("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"V"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Coeff. Temp Voc"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"number",step:"0.01",name:"tempCoeffVoc",value:o.tempCoeffVoc,onChange:g,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"-0.26"}),n.jsx("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"%/C"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[n.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Annuler"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Appliquer"})]})]})]})})},ih=({initialInverter:r,initialPhase:f,onSave:p,onClose:o})=>{const x=r.electrical,[g,U]=ae.useState({description:r.description||"Onduleur Personnalis",maxAcPower:(x==null?void 0:x.maxAcPower)||5e3,maxDcPower:(x==null?void 0:x.maxDcPower)||6e3,maxInputVoltage:(x==null?void 0:x.maxInputVoltage)||600,minMpptVoltage:(x==null?void 0:x.minMpptVoltage)||80,maxMpptVoltage:(x==null?void 0:x.maxMpptVoltage)||550,maxInputCurrent:(x==null?void 0:x.maxInputCurrent)||15,mpptCount:(x==null?void 0:x.mpptCount)||2,maxStrings:(x==null?void 0:x.maxStrings)||2,isMicro:(x==null?void 0:x.isMicro)||!1,phase:f||"Mono"}),w=h=>{const{name:j,value:R,type:H}=h.target,O=H==="checkbox";U(T=>({...T,[j]:O?h.target.checked:j==="description"||j==="phase"?R:parseFloat(R)||0}))},M=h=>{h.preventDefault();const j={...r,description:g.description,power:g.maxAcPower,electrical:{maxAcPower:g.maxAcPower,maxDcPower:g.maxDcPower,maxInputVoltage:g.maxInputVoltage,minMpptVoltage:g.minMpptVoltage,maxMpptVoltage:g.maxMpptVoltage,maxInputCurrent:g.maxInputCurrent,mpptCount:g.mpptCount,maxStrings:g.maxStrings,isMicro:g.isMicro}};p(j,g.phase)};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md animate-scale-in",children:[n.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-t-xl flex justify-between items-center",children:[n.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-400",children:""})," Configuration Onduleur Personnalis"]}),n.jsx("button",{onClick:o,className:"hover:bg-slate-700 p-1 rounded-full transition-colors",children:n.jsx(Ms,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:M,className:"p-6 space-y-4",children:[n.jsx("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg text-xs text-blue-800",children:"Dfinissez les caractristiques pour le calcul des sections de cbles et l'audit de conformit."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nom / Modle"}),n.jsx("input",{type:"text",name:"description",value:g.description,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Type d'onduleur"}),n.jsxs("select",{name:"isMicro",value:g.isMicro?"true":"false",onChange:h=>U(j=>({...j,isMicro:h.target.value==="true"})),className:"w-full p-2 border rounded font-bold text-slate-800 outline-none",children:[n.jsx("option",{value:"false",children:"Centralis / Hybride"}),n.jsx("option",{value:"true",children:"Micro-onduleur"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Raccordement"}),n.jsxs("select",{name:"phase",value:g.phase,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 outline-none",children:[n.jsx("option",{value:"Mono",children:"Monophas"}),n.jsx("option",{value:"Tri",children:"Triphas"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance AC (VA)"}),n.jsx("input",{type:"number",name:"maxAcPower",value:g.maxAcPower,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance DC Max (Wc)"}),n.jsx("input",{type:"number",name:"maxDcPower",value:g.maxDcPower,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),!g.isMicro&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Vmax DC (V)"}),n.jsx("input",{type:"number",name:"maxInputVoltage",value:g.maxInputVoltage,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Imax DC (A)"}),n.jsx("input",{type:"number",step:"0.1",name:"maxInputCurrent",value:g.maxInputCurrent,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nb. de MPPT"}),n.jsx("input",{type:"number",name:"mpptCount",value:g.mpptCount,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Strings Max"}),n.jsx("input",{type:"number",name:"maxStrings",value:g.maxStrings,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Min MPPT (V)"}),n.jsx("input",{type:"number",name:"minMpptVoltage",value:g.minMpptVoltage,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Max MPPT (V)"}),n.jsx("input",{type:"number",name:"maxMpptVoltage",value:g.maxMpptVoltage,onChange:w,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[n.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Annuler"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Appliquer"})]})]})]})})},ch=({project:r,report:f,totalPowerW:p,voltageDrop:o,acSection:x,microBranchesReport:g})=>{var A,J,Z,se,me,_e,Ve,nt,Xe,tt;const[U,w]=ae.useState(!1),[M,h]=ae.useState(!1),j=r.inverterConfig.phase==="Tri",R=Vc(r.postalCode,r.altitude),H=(A=r.fields[0])==null?void 0:A.panels.model,O=r.inverterConfig.brand===ne.ENPHASE||r.inverterConfig.brand===ne.APSYSTEMS||r.inverterConfig.brand===ne.FOXESS&&!!((J=r.inverterConfig.model)!=null&&J.toUpperCase().includes("MICRO"))||r.inverterConfig.brand===ne.CUSTOM&&!!((Z=r.inverterConfig.model)!=null&&Z.toUpperCase().includes("MICRO")),T=(se=f==null?void 0:f.details)==null?void 0:se.recommendedBreaker,I=(me=r==null?void 0:r.inverterConfig)==null?void 0:me.agcpValue,z=(I&&I>0?As(I,j):null)??(T?Number(T):Ss((((_e=f==null?void 0:f.details)==null?void 0:_e.nominalAcCurrent)||0)*1.25,j)),Q=z?Hn(x,z):"ok",te=r.fields.reduce((K,re)=>K+re.panels.rows*re.panels.columns,0),le=r.inverterConfig.brand===ne.NONE;if(f&&!f.isCompatible&&f.errors.length>0&&!f.details)return n.jsxs("div",{className:"bg-red-50 rounded-xl shadow-lg border-2 border-red-200 overflow-hidden relative p-8 text-center animate-scale-in",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 text-red-600 mb-4 shadow-sm border border-red-200",children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h3",{className:"text-xl font-black text-red-800 uppercase tracking-tight mb-2",children:"Calculs Bloqus"}),n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("p",{className:"font-bold text-red-700 text-sm mb-4",children:"La configuration actuelle est invalide et empche tout calcul de scurit."}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200 text-left shadow-sm",children:n.jsx("ul",{className:"list-disc list-inside space-y-2",children:f.errors.map((K,re)=>n.jsx("li",{className:"text-xs font-bold text-red-600",children:K},re))})}),n.jsx("p",{className:"mt-4 text-xs text-red-500 font-medium italic",children:`Veuillez corriger la rpartition des chanes dans le panneau "lectrique" pour dbloquer l'audit et l'export PDF.`})]})]});if(!f||!f.details||!H||te===0||le)return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden opacity-60 grayscale-[0.5]",children:[n.jsxs("div",{className:"bg-slate-800 p-4 text-white flex justify-between items-center",children:[n.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-400",children:""})," Mthodologie & Audit lectrique"]}),n.jsx("span",{className:"text-[10px] bg-slate-700 px-2 py-1 rounded border border-slate-600 uppercase tracking-widest",children:"En attente de configuration"})]}),n.jsxs("div",{className:"p-12 text-center space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto text-slate-300",children:n.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-600 font-bold",children:"Audit en pause"}),n.jsx("p",{className:"text-xs text-slate-400",children:"Saisissez des dimensions de toiture et un onduleur pour lancer les calculs."})]})]})]});const{details:q}=f,d=q.stringsAnalysis||[],G=d.length,de=(q.vmaxInverter??9999)<=80,Re=((Ve=H.electrical)==null?void 0:Ve.tempCoeffVoc)||-.26,Be=((nt=H.electrical)==null?void 0:nt.voc)||0,Ue=((Xe=H.electrical)==null?void 0:Xe.vmp)||0,ue=R.tempMin,fe=R.tempMaxAmb+35,ie=q.vocCold>q.vmaxInverter,Ae=q.iscPanel>q.imaxInverter,S=q.dcAcRatio*100,y=S>130,W=Math.min(100,S/160*100);let pe="bg-blue-500",ge="Sous-dimensionn";S>=100&&S<=130?(pe="bg-green-500",ge="Optimal"):S>130?(pe="bg-orange-500",ge="Sur-dimensionn (Clipping)"):S>150&&(pe="bg-red-600",ge="Critique");const v=d.filter(K=>K.vmpHot<q.vminMppt),_=1.05;return d.filter(K=>K.vmpHot>=q.vminMppt&&K.vmpHot<=q.vminMppt*_),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-scale-in relative",children:[n.jsxs("div",{className:"bg-slate-800 p-4 text-white flex justify-between items-center",children:[n.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-400",children:""})," Mthodologie & Audit lectrique"]}),n.jsx("span",{className:"text-[10px] bg-slate-700 px-2 py-1 rounded border border-slate-600 uppercase tracking-widest",children:"Norme NF C15-712-1"})]}),n.jsxs("div",{className:"p-6 space-y-8",children:[n.jsxs("section",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"1. Vrification Scurit (DC Side)"}),n.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${ie?"bg-red-50 text-red-700 border-red-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:["Chaine Max (Worst-case) : ",q.maxPanelsInAString," pan."]}),n.jsxs("button",{onClick:()=>h(!0),className:"text-[10px] bg-slate-100 hover:bg-slate-200 text-slate-600 px-2 py-0.5 rounded font-bold border border-slate-300 transition-colors flex items-center gap-1",children:[n.jsx("span",{children:"?"})," Voir les dtails des calculs"]})]})]}),n.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${f.isCompatible?"bg-green-100 text-green-700":"bg-red-100 text-red-700 animate-pulse"}`,children:f.isCompatible?"CONFORME":"NON CONFORME"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-lg border ${ie?"bg-red-50 border-red-200":"bg-slate-50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-400",children:["Tension Max Globale (Voc @ ",R.tempMin,"C)"]}),ie&&n.jsx("span",{className:"text-[10px] font-black text-red-600 animate-pulse",children:" SURTENSION"})]}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsxs("div",{className:`text-xl font-black ${ie?"text-red-700":"text-slate-800"}`,children:[q.vocCold," V"]}),n.jsx("div",{className:"text-[9px] text-slate-500 font-bold italic",children:"Calcul bas sur la chane la plus longue"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-[10px] font-bold text-slate-400",children:"Limite Onduleur"}),n.jsxs("div",{className:"text-sm font-black text-slate-700",children:[q.vmaxInverter," V"]})]})]})]}),n.jsxs("div",{className:`p-4 rounded-lg border ${Ae?"bg-red-50 border-red-200":"bg-slate-50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Courant Court-Circuit (Isc)"}),Ae&&n.jsx("span",{className:"text-[10px] font-black text-red-600 animate-pulse",children:" INTENSIT TROP HAUTE"})]}),n.jsxs("div",{className:"flex justify-between items-end",children:[n.jsxs("div",{children:[n.jsxs("div",{className:`text-xl font-black ${Ae?"text-red-700":"text-slate-800"}`,children:[q.iscPanel," A"]}),n.jsxs("div",{className:"text-[9px] text-slate-500 font-bold italic",children:["Panel: ",H.name]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-[10px] font-bold text-slate-400",children:"Limite Entre"}),n.jsxs("div",{className:"text-sm font-black text-slate-700",children:[q.imaxInverter," A"]})]})]})]})]}),!O&&d.length>0&&n.jsxs("div",{className:"mt-4 bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"1B. Liaison DC (Panneaux  coffret DC / onduleur)"}),n.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-50 text-blue-700 border border-blue-100",children:"U DC (info)"})]}),n.jsxs("div",{className:"p-4 text-[12px] text-slate-700",children:[n.jsxs("p",{className:"text-[11px] text-slate-600 mb-3",children:["Renseigne la longueur et la section de la liaison DC pour chaque MPPT utilis (liaison aller+retour = 2L). Calcul simplifi : ",n.jsx("span",{className:"font-mono",children:"U = (2  L  I  ) / S"})," avec ",n.jsx("span",{className:"font-mono",children:" = 0,023 mm/m"}),"."]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-[10px] uppercase tracking-wider text-slate-500 border-b border-slate-200",children:[n.jsx("th",{className:"py-2 px-2 text-left",children:"MPPT"}),n.jsx("th",{className:"py-2 px-2 text-right",children:"L (m)"}),n.jsx("th",{className:"py-2 px-2 text-right",children:"S (mm)"}),n.jsx("th",{className:"py-2 px-2 text-right",children:"I (A)"}),n.jsx("th",{className:"py-2 px-2 text-right",children:"U (V)"}),n.jsx("th",{className:"py-2 px-2 text-right",children:"U (%)"})]})}),n.jsx("tbody",{children:d.map(K=>{var ml;const re=(ml=r.inverterConfig.dcCablingRuns)==null?void 0:ml.find(ql=>ql.mpptIndex===K.mpptIndex),be=(re==null?void 0:re.lengthM)??0,Ne=K.iscCalculation,Ee=K.vmpHot||0,He=(re==null?void 0:re.sectionMm2)==null?null:Number(re==null?void 0:re.sectionMm2),Fe=tu(be,Ne,Ee||1),Pe=He??Fe,{duV:Ge,duPct:rt}=kc(be,Ne,Pe||0,Ee||0),jt=be<=0,at=Pe>0?eu(Pe):0,Dt=!jt&&em(Pe,Ne),wt=Sp(be,rt),Rl=!jt&&!Dt&&wt==="danger",$t=!jt&&!Dt&&wt==="warn";return n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsxs("td",{className:"py-2 px-2 font-bold",children:["MPPT ",K.mpptIndex]}),n.jsx("td",{className:"py-2 px-2 text-right",children:be||""}),n.jsx("td",{className:"py-2 px-2 text-right",children:Pe?n.jsxs("div",{className:"inline-flex flex-col items-end leading-tight",children:[n.jsx("span",{children:Pe}),He!=null&&n.jsx("span",{className:"text-[9px] font-black text-indigo-600",children:"(forc)"}),He!=null&&Fe&&Number(Fe)!==Number(He)&&n.jsxs("span",{className:"text-[9px] font-black text-slate-400",children:["Auto: ",Fe]})]}):""}),n.jsx("td",{className:"py-2 px-2 text-right",children:Ne.toFixed(1)}),n.jsx("td",{className:"py-2 px-2 text-right",children:jt?"":Ge.toFixed(1)}),n.jsx("td",{className:`py-2 px-2 text-right font-bold ${jt?"text-orange-600":Dt||Rl?"text-red-600":$t?"text-amber-600":"text-green-600"}`,children:jt?" renseigner":Dt?`Cble trop faible (max ${at}A)`:`${rt.toFixed(2)} %`})]},K.mpptIndex)})})]})}),n.jsx("p",{className:"text-[10px] text-slate-500 mt-2",children:"Recommandation de conception en PV : viser  1% (pertes). Limite gnrale souvent utilise en AC : 3% (rseau priv).  valider selon contexte (longueur, sections, exigences du client et prescriptions fabricant)."})]})]}),d.length>0&&n.jsxs("div",{className:"mt-4 p-4 bg-slate-800 rounded-xl text-white shadow-inner",children:[n.jsxs("h5",{className:"text-[10px] font-black uppercase text-slate-400 mb-3 tracking-widest flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-3 bg-blue-500 rounded-full"}),"Dtail de la configuration (",G," MPPT utiliss)"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:d.map((K,re)=>{const be=K.vmpHot<q.vminMppt,Ne=!be&&K.vmpHot<=q.vminMppt*1.05,Ee=K.vocCold>q.vmaxInverter,He=q.vmaxInverter>0?K.vocCold/q.vmaxInverter:0,Fe=!Ee&&(K.isVoltageWarning||He>=.95);return n.jsxs("div",{className:`p-3 rounded-lg border relative overflow-hidden transition-colors ${be?de?"bg-orange-900/30 border-orange-500/50":"bg-red-900/30 border-red-500/50":"bg-slate-700/50 border-slate-600/50"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"block text-[11px] font-black text-white",children:["MPPT #",K.mpptIndex]}),n.jsx("span",{className:"block text-[9px] font-bold text-orange-300 truncate w-32",title:K.composition,children:K.composition})]}),n.jsxs("span",{className:`text-[11px] font-black px-1.5 py-0.5 rounded ${be?de?"bg-orange-500 text-white":"bg-red-500 text-white":"bg-blue-400/10 text-blue-400"}`,children:[K.totalPanelCount," Pan."]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("span",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Voc (Froid)"}),n.jsxs("span",{className:`text-[10px] font-mono font-bold ${Ee?"text-red-400":Fe?"text-amber-300 font-black":"text-slate-200"}`,children:[K.vocCold.toFixed(1)," V"]})]}),n.jsx("div",{className:"w-full h-1 bg-slate-600 rounded-full overflow-hidden mb-2",children:n.jsx("div",{className:`h-full transition-all ${Ee?"bg-red-500":Fe?"bg-amber-400":"bg-blue-500"}`,style:{width:`${Math.min(100,K.vocCold/q.vmaxInverter*100)}%`}})}),Fe&&n.jsx("div",{className:"text-[9px] font-black text-amber-300 -mt-1 mb-2",children:" Proche limite Voc (95%)"}),n.jsxs("div",{className:"flex justify-between items-baseline border-t border-slate-600/50 pt-1",children:[n.jsx("span",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Vmp (Chaud)"}),n.jsxs("span",{className:`text-[10px] font-mono font-bold ${be?de?"text-orange-300 font-black":"text-red-500 animate-pulse font-black":Ne?"text-amber-300 font-black":"text-green-300"}`,children:[K.vmpHot.toFixed(1)," V"]})]}),Ne&&n.jsx("div",{className:"text-[9px] font-black text-amber-300 mt-1",children:" Proche limite Vmp (105% de Vmin MPPT)"})]})]},re)})}),v.length>0&&n.jsx("div",{className:`mt-4 p-4 border-2 rounded-lg ${de?"bg-orange-600/15 border-orange-500":"bg-red-600/20 border-red-500"} `,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("div",{children:[n.jsx("h4",{className:`${de?"text-orange-300":"text-red-400"} font-black uppercase text-xs mb-1`,children:de?"Avertissement : tension basse (micro-onduleur)":"Attention : Configuration Incompatible"}),v.map((K,re)=>n.jsxs("p",{className:"text-[11px] font-bold text-white leading-tight mb-1",children:["MPPT #",K.mpptIndex," : valeur VMP  chaud (",K.vmpHot.toFixed(1),"V)",de?"en dessous de la plage MPPT recommande.":"Non conforme.",n.jsx("br",{}),n.jsxs("span",{className:`${de?"text-orange-200":"text-red-200"} font-normal italic`,children:["Se reporter  la notice constructeur (Min MPPT: ",q.vminMppt,"V)."]})]},re)),!de&&n.jsx("p",{className:"text-[9px] text-red-300 mt-2 border-t border-red-500/50 pt-2 font-bold uppercase",children:"Veuillez ajouter des panneaux sur ce MPPT pour augmenter la tension."}),de&&n.jsx("p",{className:"text-[9px] text-orange-200 mt-2 border-t border-orange-500/40 pt-2 font-bold",children:"Sur micro-onduleurs, c'est un indicateur de fonctionnement/performance (production rduite ou arrts possibles par forte chaleur)."})]})]})})]}),ie&&n.jsxs("div",{className:"mt-3 bg-red-100 border border-red-200 p-3 rounded-lg flex items-start gap-3",children:[n.jsx("span",{className:"text-xl",children:""}),n.jsxs("div",{className:"text-xs text-red-900 leading-tight",children:[n.jsx("b",{children:"ERREUR DE TENSION :"})," La tension dpasse la limite de scurit de l'onduleur sur au moins une chane.",n.jsx("br",{}),n.jsx("span",{className:"font-bold",children:"Solution :"})," Rduisez le nombre de panneaux sur la chane concerne."]})]})]}),n.jsxs("section",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"2. Liaison AC (Liaison Tableau)"}),(()=>{const K=o,re=K<=1?"ok":K<=3?"warn":"bad",be=re==="ok"?"bg-green-100 text-green-700":re==="warn"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",Ne=re==="ok"?"U  1% (recommand)":re==="warn"?"1% < U  3% (tolr)":"U > 3% (non conforme)";return n.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${be}`,children:Ne})})()]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Calcul de la chute de tension ($\\Delta U$) :"}),n.jsxs("p",{className:"text-[11px] text-slate-500 mb-2",children:[n.jsx("b",{children:"L"})," correspond  la distance entre le ",n.jsx("b",{children:"coffret AC photovoltaque"})," et le ",n.jsx("b",{children:"point de raccordement"}),n.jsx("br",{}),n.jsx("span",{className:"italic",children:"Rfrence : en photovoltaque, le guide UTE C 15-712-1 recommande de viser ~1% sur la liaison AC (et de rester  3% pour viter des pertes et un refus de conformit selon les pratiques Consuel). En parallle, la NF C 15-100 fixe des limites gnrales de chute de tension (3% clairage / 5% autres circuits) ct installation intrieure."}),"(tableau principal / disjoncteur de branchement)."]}),n.jsxs("div",{className:"font-mono text-[11px] bg-white p-2 rounded border border-slate-200",children:["Formula: $\\Delta U = (L \\times I \\times \\rho \\times coeff) / S$ ",n.jsx("br",{}),"$\\rho$ (cuivre) = 0.023 $\\Omega \\cdot mm^2/m$ ",n.jsx("br",{}),"$I$ estim = ",(p/(j?400*1.732:230)).toFixed(1)," A"]})]}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs text-slate-600",children:"Section retenue :"}),n.jsxs("span",{className:"font-bold text-blue-600",children:[x," mm"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-slate-600",children:"Perte calcule :"}),n.jsxs("span",{className:`font-bold ${o>1?"text-orange-600":"text-slate-900"}`,children:[o.toFixed(2)," %"]})]})]})]}),Q==="info"&&n.jsxs("div",{className:"mt-3 text-[11px] font-bold text-amber-800 bg-amber-50 border border-amber-100 rounded p-2",children:[" Information  conditions de pose : section ",x,"mm OK en conditions usuelles avec In=",z,"A.",n.jsx("div",{className:"font-normal text-[10px] text-amber-800/80 mt-1",children:"Vrifier en cas de pose dfavorable (encastre, temprature leve, regroupement de cbles). En cas de doute, surdimensionner la section."})]}),Q==="danger"&&n.jsxs("div",{className:"mt-3 text-[11px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:[" Non conforme : In=",z,"A trop lev pour ",x,"mm.",n.jsx("div",{className:"font-normal text-[10px] text-red-700/80 mt-1",children:"Augmenter la section (souvent pour respecter la protection) ou revoir le calibre si le courant dutilisation le permet."})]})]}),g&&((tt=g.branches)==null?void 0:tt.length)>0&&n.jsxs("section",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"2b. Branches Micro-onduleurs (AC)"}),n.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${g.errors.length?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:g.errors.length?"CONFIG  CORRIGER":"OK"})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[n.jsxs("div",{className:"text-xs text-slate-600 mb-2",children:["Micros requis: ",n.jsx("b",{children:g.requiredMicros}),"  Micros configurs: ",n.jsx("b",{children:g.totalMicrosConfigured}),"  Puissance micro: ",n.jsxs("b",{children:[g.microPowerVA," VA"]})]}),(g.errors.length>0||g.warnings.length>0)&&n.jsxs("div",{className:"mb-3 space-y-1",children:[g.errors.map((K,re)=>n.jsxs("div",{className:"text-[11px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:[" ",K]},`mb-e-${re}`)),g.warnings.map((K,re)=>n.jsxs("div",{className:"text-[11px] font-bold text-orange-700 bg-orange-50 border border-orange-100 rounded p-2",children:[" ",K]},`mb-w-${re}`))]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-[11px]",children:[n.jsx("thead",{className:"text-[10px] text-slate-600 uppercase bg-white border border-slate-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 text-left",children:"Branche"}),r.inverterConfig.phase==="Tri"&&n.jsx("th",{className:"p-2 text-left",children:"Phase"}),n.jsx("th",{className:"p-2 text-center",children:"# Micros"}),n.jsx("th",{className:"p-2 text-center",children:"Longueur (m)"}),n.jsx("th",{className:"p-2 text-center",children:"Section (mm)"}),n.jsx("th",{className:"p-2 text-center",children:"I (A)"}),n.jsx("th",{className:"p-2 text-center",children:"U (V)"}),n.jsx("th",{className:"p-2 text-center",children:"U (%)"})]})}),n.jsx("tbody",{children:g.branches.map(K=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"p-2 font-bold text-slate-700",children:K.name}),r.inverterConfig.phase==="Tri"&&n.jsx("td",{className:"p-2",children:K.phase}),n.jsx("td",{className:"p-2 text-center font-mono",children:K.microCount}),n.jsx("td",{className:"p-2 text-center font-mono",children:K.cableLengthM}),n.jsx("td",{className:"p-2 text-center font-mono",children:K.cableSectionMm2}),n.jsx("td",{className:"p-2 text-center font-mono",children:K.currentA.toFixed(1)}),n.jsx("td",{className:"p-2 text-center font-mono",children:K.dropV.toFixed(1)}),n.jsx("td",{className:`p-2 text-center font-black ${K.dropPercent>1?"text-orange-600":"text-green-700"}`,children:K.dropPercent.toFixed(2)})]},K.branchId))})]})})]})]}),n.jsxs("section",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"3. Ratio de dimensionnement Puissance"}),n.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded border ${S>=100&&S<=130?"bg-green-50 text-green-700 border-green-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:ge})]}),n.jsxs("div",{className:`p-4 rounded-lg border transition-all duration-500 ${y?"bg-red-50 border-red-300 ring-2 ring-red-200 shadow-lg":"bg-slate-50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-1 font-medium",children:[n.jsxs("span",{className:"text-slate-500",children:["Puissance DC: ",n.jsxs("b",{className:"text-slate-700",children:[p," Wp"]})]}),n.jsxs("span",{className:"text-slate-500",children:["Puissance AC: ",n.jsxs("b",{className:"text-slate-700",children:[q.maxAcPower||"Auto"," VA"]})]})]}),n.jsxs("div",{className:"relative h-4 w-full bg-slate-200 rounded-full overflow-hidden shadow-inner",children:[n.jsx("div",{className:"absolute top-0 bottom-0 bg-green-500/10 border-l border-r border-green-500/30",style:{left:`${100/160*100}%`,width:`${30/160*100}%`}}),n.jsx("div",{className:`h-full transition-all duration-700 ease-out ${pe} shadow-sm`,style:{width:`${W}%`}}),n.jsx("div",{className:"absolute top-0 bottom-0 left-[62.5%] border-l border-white/50 w-px h-full"}),n.jsx("div",{className:"absolute top-0 bottom-0 left-[81.25%] border-l border-slate-400/30 w-px h-full"})]}),n.jsxs("div",{className:"flex justify-between text-[8px] text-slate-400 mt-1 font-mono",children:[n.jsx("span",{children:"0%"}),n.jsx("span",{className:"pl-4",children:"100% (Eq)"}),n.jsx("span",{className:"pl-2",children:"130% (Max)"}),n.jsx("span",{children:"160%+"})]})]}),n.jsxs("div",{className:`text-center bg-white border px-4 py-2 rounded-lg ${y?"border-red-400":""}`,children:[n.jsxs("div",{className:`text-lg font-black ${y?"text-red-600":"text-slate-800"}`,children:[S.toFixed(0),"%"]}),n.jsx("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Ratio DC/AC"})]})]}),y&&n.jsxs("div",{className:"mt-4 p-3 bg-white/80 rounded border border-red-200 flex gap-3 items-start animate-scale-in",children:[n.jsx("span",{className:"text-xl",children:""}),n.jsxs("div",{className:"text-xs text-red-900 leading-snug",children:[n.jsx("b",{className:"uppercase",children:"Alerte Ratio Critique (> 130%) :"}),"L'onduleur est trop petit par rapport  la puissance des panneaux.",n.jsx("br",{}),n.jsx("span",{className:"font-bold",children:"Risque de CLIPPING :"}),` L'onduleur va plafonner et "couper" la production excdentaire.`,n.jsx("br",{}),n.jsx("span",{className:"mt-1 block font-black text-red-700 italic",children:" Veuillez choisir un onduleur plus puissant ou rduire le nombre de panneaux."})]})]})]}),n.jsxs("div",{className:"mt-6 bg-slate-50 rounded-xl border border-slate-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>w(!U),className:"w-full bg-slate-200/50 px-4 py-3 flex items-center justify-between hover:bg-slate-200 transition-all group",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-xs shadow-inner",children:"i"}),n.jsx("h5",{className:"text-[11px] font-black text-slate-700 uppercase tracking-widest",children:"Guide : Comprendre le dimensionnement"})]}),n.jsx("svg",{className:`w-4 h-4 text-slate-400 transition-transform duration-300 ${U?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),U&&n.jsxs("div",{className:"p-5 space-y-6 text-slate-600 leading-snug animate-scale-in text-xs",children:[S<100&&n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-blue-700 mb-1 flex items-center gap-2",children:n.jsxs("span",{className:"bg-blue-100 px-2 rounded text-[10px] border border-blue-200",children:["Situation : Sous-dimensionn (",S.toFixed(0),"%)"]})}),n.jsxs("p",{className:"pl-2 border-l-2 border-blue-200 text-slate-600",children:["Votre champ PV est moins puissant que l'onduleur. ",n.jsx("strong",{children:"L'installation est fonctionnelle et scurise"}),", mais l'onduleur est techniquement sur-calibr par rapport aux panneaux.",n.jsx("br",{}),n.jsx("em",{children:"Impact :"})," Surcot inutile  l'achat de l'onduleur. Vous pourriez ajouter des panneaux sans changer d'appareil."]})]}),S>=100&&S<=130&&n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-green-700 mb-1 flex items-center gap-2",children:n.jsxs("span",{className:"bg-green-100 px-2 rounded text-[10px] border border-green-200",children:["Situation : Optimale (",S.toFixed(0),"%)"]})}),n.jsxs("p",{className:"pl-2 border-l-2 border-green-200 text-slate-600",children:["C'est la norme recommande (110% - 130%). On installe plus de puissance panneaux (Wc) que la puissance de sortie de l'onduleur (VA).",n.jsx("br",{}),n.jsx("strong",{children:"Pourquoi ?"})," Les panneaux produisent rarement  100% (nuages, chaleur, matin/soir). Ce ratio permet  l'onduleur de dmarrer plus tt le matin et de produire plus tard le soir, maximisant la production globale."]})]}),S>130&&n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-red-700 mb-1 flex items-center gap-2",children:n.jsxs("span",{className:"bg-red-100 px-2 rounded text-[10px] border border-red-200",children:["Situation : Critique (",S.toFixed(0),"%)"]})}),n.jsxs("p",{className:"pl-2 border-l-2 border-red-200 text-slate-600",children:["Le champ PV est beaucoup trop puissant pour l'onduleur.",n.jsx("br",{}),n.jsx("strong",{children:"Risque :"})," Ecrtage important (perte de production en t) et fatigue prmature de l'onduleur due  la chaleur constante  pleine charge."]})]})]})]})]})]}),M&&n.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-md p-2 sm:p-4 animate-scale-in",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[80vh] flex flex-col overflow-hidden relative border border-slate-200",children:[n.jsxs("div",{className:"bg-slate-800 text-white p-3 flex justify-between items-center shrink-0 border-b border-slate-700 shadow-md z-10",children:[n.jsxs("h3",{className:"font-bold text-base flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-400",children:""})," Dtails des Calculs de Scurit"]}),n.jsx("button",{onClick:()=>h(!1),className:"hover:bg-slate-700 p-1.5 rounded-full bg-slate-700/50 transition-colors border border-slate-600",children:n.jsx(Ms,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-4 space-y-4 text-sm text-slate-700 overflow-y-auto flex-1 bg-slate-50/30",children:[n.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm",children:[n.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-2 border-b border-slate-100 pb-1 text-center bg-slate-50 -mx-3 -mt-3 p-2 rounded-t-lg",children:"1. Donnes d'Entre (Conditions Extrmes)"}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-1 gap-x-4 text-[11px]",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Temp. Min Locale :"})," ",n.jsxs("span",{className:"font-bold",children:[ue,"C"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Temp. Max Ambiante :"})," ",n.jsxs("span",{className:"font-bold",children:[R.tempMaxAmb,"C"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Voc Panneau :"})," ",n.jsxs("span",{className:"font-bold",children:[Be," V"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Vmp Panneau :"})," ",n.jsxs("span",{className:"font-bold",children:[Ue," V"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Coeff. Temp (Voc) :"})," ",n.jsxs("span",{className:"font-bold text-blue-600",children:[Re," %/C"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Chane max retenue :"})," ",n.jsxs("span",{className:"font-bold",children:[q.maxPanelsInAString," pan."]})]})]})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"font-black text-slate-800 uppercase text-[11px] mb-1 flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px]",children:"2"}),"Calcul Tension Max (Voc @ Froid)"]}),n.jsx("p",{className:"text-[10px] text-slate-500 mb-2 italic border-l-2 border-blue-200 pl-2",children:"Tension circuit ouvert la plus leve possible en hiver."}),n.jsx("div",{className:"font-mono text-[10px] bg-slate-800 text-green-400 p-2 rounded-lg overflow-x-auto shadow-inner mb-1",children:"Voc_max = Somme(Voc_panneau_i) sur le MPPT"}),n.jsxs("div",{className:"pl-2 space-y-0.5 font-mono text-[10px] text-slate-600",children:[n.jsxs("p",{children:["= ",Be,"  [1 + (",Re,"/100)  (",ue," - 25)]  ",q.maxPanelsInAString," (approx)"]}),n.jsxs("p",{className:"font-bold text-slate-900 bg-yellow-100 inline-block px-1 rounded border border-yellow-200 mt-1",children:["= ",q.vocCold," V (Total MPPT Max)"]})]}),n.jsxs("div",{className:"mt-1 text-[10px] flex items-center gap-2 justify-end",children:[n.jsx("span",{className:"font-bold text-slate-500",children:"Limite Onduleur :"}),n.jsxs("span",{className:q.vocCold>q.vmaxInverter?"text-red-600 font-black bg-red-50 px-1 rounded":"text-green-600 font-black bg-green-50 px-1 rounded",children:[q.vmaxInverter," V"]}),q.vocCold>q.vmaxInverter?" DANGER":" OK"]})]}),n.jsxs("div",{className:"pb-1",children:[n.jsxs("h4",{className:"font-black text-slate-800 uppercase text-[11px] mb-1 flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-[10px]",children:"3"}),"Calcul Tension Min (Vmp @ Chaud)"]}),n.jsx("p",{className:"text-[10px] text-slate-500 mb-2 italic border-l-2 border-orange-200 pl-2",children:"Tension de production la plus basse en t (Tcell estimated)."}),n.jsx("div",{className:"font-mono text-[10px] bg-slate-800 text-blue-300 p-2 rounded-lg overflow-x-auto shadow-inner mb-1",children:"Vmp_min = Somme(Vmp_panneau_i) sur le MPPT"}),n.jsxs("div",{className:"pl-2 space-y-0.5 font-mono text-[10px] text-slate-600",children:[n.jsxs("p",{children:["= ",Ue,"  [1 + (",Re,"/100)  (",fe," - 25)]  ",q.maxPanelsInAString," (approx)"]}),n.jsxs("p",{className:"font-bold text-slate-900 bg-blue-50 inline-block px-1 rounded border border-blue-200 mt-1",children:["= ",q.vmpHot," V (Total MPPT Min)"]})]}),n.jsxs("div",{className:"mt-1 text-[10px] flex items-center gap-2 justify-end",children:[n.jsx("span",{className:"font-bold text-slate-500",children:de?"Plage MPPT (reco fabricant) :":"Plage MPPT Min :"}),n.jsxs("span",{className:q.vmpHot<q.vminMppt?"text-orange-600 font-black bg-orange-50 px-1 rounded":"text-green-600 font-black bg-green-50 px-1 rounded",children:[q.vminMppt," V"]}),q.vmpHot<q.vminMppt?de?" A optimiser":" NON CONFORME":" OK"]})]})]}),n.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 shrink-0 z-10",children:n.jsx("button",{onClick:()=>h(!1),className:"w-full bg-slate-800 text-white py-2.5 rounded-lg font-bold hover:bg-slate-700 transition-colors shadow-lg active:scale-95 text-sm",children:"Fermer la fentre"})})]})})]})},rh=[2.5,6,10,16,25];function Qf(r,f,p){return{id:`branch-${Date.now()}-${r}`,name:`Branche ${r}`,phase:f,microCount:0,cableLengthM:0,cableSectionMm2:p}}function oh({project:r,microPowerVA:f,onUpdate:p}){var O;const o=ae.useMemo(()=>{const T=r.inverterConfig.brand,I=r.inverterConfig.model||"";return T===ne.ENPHASE||T===ne.APSYSTEMS||T===ne.FOXESS&&I.includes("MICRO")},[r.inverterConfig.brand,r.inverterConfig.model]),x=ae.useMemo(()=>Lc(r),[r]),g=ae.useMemo(()=>Jo({...r,inverterConfig:{...r.inverterConfig,microBranches:x}},f),[r,x,f]);if(!o||!r.inverterConfig.model||!g)return null;const U=r.inverterConfig.phase==="Tri",w=U?"L1":"Mono",M=((O=x[0])==null?void 0:O.cableSectionMm2)||2.5,h=(T,I)=>{const k=x.map(z=>z.id===T?{...z,...I}:z);p(k)},j=()=>{p([...x,Qf(x.length+1,w,M)])},R=T=>{const I=x.filter(k=>k.id!==T);p(I.length?I:[Qf(1,w,M)])},H=()=>{var le;const T=g.requiredMicros;if(!T)return;if(U){const q=["L1","L2","L3"],d=Math.floor(T/3),G=T%3,de=[d,d,d].map((Ue,ue)=>Ue+(ue<G?1:0)),Re={L1:x.find(Ue=>Ue.phase==="L1")||x[0],L2:x.find(Ue=>Ue.phase==="L2")||x[1],L3:x.find(Ue=>Ue.phase==="L3")||x[2]},Be=q.map((Ue,ue)=>{const fe=Re[Ue];return{id:`branch-auto-${Ue}`,name:`Branche ${ue+1}`,phase:Ue,microCount:de[ue],cableLengthM:(fe==null?void 0:fe.cableLengthM)??0,cableSectionMm2:(fe==null?void 0:fe.cableSectionMm2)??M}});p(Be);return}const I=((le=g.branches[0])==null?void 0:le.maxAllowed)||0,k=I>0?I:T,z=Math.max(1,Math.ceil(T/k)),Q=[];let te=T;for(let q=0;q<z;q++){const d=Math.min(k,te);te-=d,Q.push({id:`branch-auto-${q+1}`,name:`Branche ${q+1}`,phase:"Mono",microCount:d,cableLengthM:0,cableSectionMm2:M})}p(Q)};return n.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm animate-scale-in",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2 pb-2 border-b border-slate-100",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Branches micro-onduleurs (AC)"}),n.jsxs("div",{className:"text-[11px] font-bold text-slate-700 mt-1",children:["Micros requis: ",n.jsx("span",{className:"text-purple-700",children:g.requiredMicros}),"  Puissance micro: ",n.jsxs("span",{className:"text-purple-700",children:[g.microPowerVA," VA"]})]}),g.ruleNote&&n.jsx("div",{className:"text-[10px] text-slate-500 italic mt-1",children:g.ruleNote})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsx("button",{onClick:H,className:"text-[10px] font-black bg-purple-100 text-purple-700 px-2 py-1 rounded border border-purple-200 hover:bg-purple-200 transition",children:U?"Auto-rpartition 3 phases":"Auto-rpartir"}),n.jsx("button",{onClick:j,className:"text-[10px] font-black bg-slate-100 text-slate-700 px-2 py-1 rounded border border-slate-200 hover:bg-slate-200 transition",children:"+ Ajouter"})]})]}),(g.errors.length>0||g.warnings.length>0)&&n.jsxs("div",{className:"mb-3 space-y-1",children:[g.errors.map((T,I)=>n.jsxs("div",{className:"text-[10px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:[" ",T]},`e-${I}`)),g.warnings.map((T,I)=>n.jsxs("div",{className:"text-[10px] font-bold text-orange-700 bg-orange-50 border border-orange-100 rounded p-2",children:[" ",T]},`w-${I}`))]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"text-[10px] text-slate-600 uppercase bg-slate-50 border border-slate-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 text-left",children:"Branche"}),U&&n.jsx("th",{className:"p-2 text-left",children:"Phase"}),n.jsx("th",{className:"p-2 text-center",children:"# Micros"}),n.jsx("th",{className:"p-2 text-center",children:"Longueur (m)"}),n.jsx("th",{className:"p-2 text-center",children:"Section (mm)"}),n.jsx("th",{className:"p-2 text-center",children:"I estim (A)"}),n.jsx("th",{className:"p-2 text-center",children:"U (V)"}),n.jsx("th",{className:"p-2 text-center",children:"U (%)"}),n.jsx("th",{className:"p-2"})]})}),n.jsx("tbody",{children:g.branches.map(T=>n.jsxs("tr",{className:"border-b border-slate-100",children:[n.jsx("td",{className:"p-2 font-bold text-slate-700",children:T.name}),U&&n.jsx("td",{className:"p-2",children:n.jsxs("select",{value:T.phase,onChange:I=>h(T.branchId,{phase:I.target.value}),className:"w-full p-1 border border-slate-200 rounded bg-white",children:[n.jsx("option",{value:"L1",children:"L1"}),n.jsx("option",{value:"L2",children:"L2"}),n.jsx("option",{value:"L3",children:"L3"})]})}),n.jsx("td",{className:"p-2",children:n.jsx("input",{type:"number",min:0,value:T.microCount,onChange:I=>h(T.branchId,{microCount:parseInt(I.target.value)||0}),className:`w-20 p-1 text-center border rounded ${T.isWithinMaxMicros?"border-slate-200":"border-red-300 bg-red-50"}`,title:T.maxAllowed?`Max conseill: ${T.maxAllowed}`:""})}),n.jsx("td",{className:"p-2",children:n.jsx("input",{type:"number",min:0,step:.1,value:T.cableLengthM,onChange:I=>h(T.branchId,{cableLengthM:parseFloat(I.target.value)||0}),className:"w-24 p-1 text-center border border-slate-200 rounded"})}),n.jsx("td",{className:"p-2",children:n.jsx("select",{value:T.cableSectionMm2,onChange:I=>h(T.branchId,{cableSectionMm2:parseFloat(I.target.value)||M}),className:"w-24 p-1 border border-slate-200 rounded bg-white",children:rh.map(I=>n.jsx("option",{value:I,children:I},I))})}),n.jsx("td",{className:"p-2 text-center font-mono",children:T.currentA.toFixed(1)}),n.jsx("td",{className:"p-2 text-center font-mono",children:T.dropV.toFixed(1)}),n.jsx("td",{className:`p-2 text-center font-black ${T.dropPercent>1?"text-orange-600":"text-green-700"}`,children:T.dropPercent.toFixed(2)}),n.jsx("td",{className:"p-2 text-right",children:n.jsx("button",{onClick:()=>R(T.branchId),className:"text-red-500 hover:text-red-700 font-black",title:"Supprimer",children:""})})]},T.branchId))})]})}),n.jsx("div",{className:"mt-2 text-[10px] text-slate-500",children:"Note: calcul de chute de tension simplifi (monophas 230V)  titre d'aide. Toujours valider avec la notice constructeur et la NFC 15-100."})]})}const Zo="richardson_build_id",uh="/version.json";async function dh(){try{const r=await fetch(uh,{cache:"no-store"});if(!r.ok)return null;const f=await r.json();return typeof(f==null?void 0:f.buildId)=="string"?f.buildId:null}catch{return null}}const nu={};cm.forEach(r=>{nu[r.name]={id:r.name,description:r.name,unit:"piece",price:r.price||"",width:r.width,height:r.height,power:r.power,electrical:r.electrical,imageUrl:r.imageUrl,datasheetUrl:r.datasheetUrl,manualUrl:r.manualUrl,videoUrl:r.videoUrl}});nu[ga.name]={id:ga.name,description:ga.name,unit:"piece",price:"",width:ga.width,height:ga.height,power:ga.power,electrical:ga.electrical};const xm={...Hc,...sm,...im};xm[yi.id]=yi;const Ko={id:"proj-001",name:"",clientAddress:"",city:"",postalCode:"",altitude:0,windZone:ye.ZONE_1,distanceToPanel:10,distanceInverterToAcCoffret:2,acCableSectionMm2:null,ac1CableSectionMm2:null,system:{brand:"K2",railOrientation:"Horizontal"},inverterConfig:{brand:ne.NONE,model:"Auto",phase:"Mono",hasBattery:!1,hasBackup:!1,configuredStrings:[],dcCablingRuns:[],agcpValue:void 0},evCharger:{selected:!1,phase:"Mono",cableRef:void 0},fields:[{id:"f1",name:"Toiture 1",roof:{width:10,height:5,pitch:30,pitchUnit:"deg",type:zn.TUILE_MECANIQUE,margins:{top:300,bottom:300,left:300,right:300}},panels:{model:cm[2],orientation:"Portrait",rows:2,columns:5},railOrientation:"Horizontal"}],userPrices:{}};function fh(r,f){var g;const p=new Map,o=U=>{const w=f&&f[U.id];return w&&typeof w.description=="string"?w.description.toUpperCase().includes("CABLE"):/^\d{8,}$/.test(U.id)||U.id.startsWith("CABLE-")};for(const U of r){if(!o(U)){const M=`__${Math.random()}`;p.set(M,{...U});continue}const w=p.get(U.id);if(!w){p.set(U.id,{...U,_reasons:new Set([U.description||""])});continue}w.quantity=Math.max(w.quantity||1,U.quantity||1),(g=w._reasons)==null||g.add(U.description||""),w.description=Array.from(w._reasons||[]).filter(Boolean).join(" / ")}const x=[];for(const[U,w]of p.entries())if(U.startsWith("__"))x.push(w);else{const M={...w};delete M._reasons,x.push(M)}return x}function mh(){var Ds,Ei,ja,Ca;const[r,f]=ae.useState(qp),[p,o]=ae.useState(Pp),[x,g]=ae.useState(xm),[U,w]=ae.useState(nu),[M,h]=ae.useState(Fp),[j,R]=ae.useState(Gp),[H,O]=ae.useState(null),[T,I]=ae.useState(!1),[k,z]=ae.useState(""),[Q,te]=ae.useState(""),[le,q]=ae.useState(""),[d,G]=ae.useState(Ko),de=!0,[Re,Be]=ae.useState(!0),[Ue,ue]=ae.useState("idle"),[fe,ie]=ae.useState(""),[Ae,S]=ae.useState(""),[y,W]=ae.useState(0),[pe,ge]=ae.useState([]),[v,_]=ae.useState("calculator"),[A,J]=ae.useState(!1),[Z,se]=ae.useState(!1),[me,_e]=ae.useState(!1),[Ve,nt]=ae.useState(!1),[Xe,tt]=ae.useState(!0);ae.useEffect(()=>{let m=!1;async function b(){try{if("caches"in window){const he=await caches.keys();await Promise.all(he.map(Me=>caches.delete(Me)))}}catch{}}async function L(){const he=await dh();if(m||!he)return;const Me=localStorage.getItem(Zo);if(!Me){localStorage.setItem(Zo,he);return}Me!==he&&(console.log("Nouvelle version dtecte (). Rafrachissement..."),localStorage.setItem(Zo,he),await b(),window.location.reload())}L();const ce=window.setInterval(()=>{document.visibilityState==="visible"&&L()},300*1e3),ke=()=>{document.visibilityState==="visible"&&L()};return document.addEventListener("visibilitychange",ke),()=>{m=!0,window.clearInterval(ce),document.removeEventListener("visibilitychange",ke)}},[]),ae.useEffect(()=>{sessionStorage.getItem("isAdmin")==="true"&&O({uid:"local-admin",email:"admin@richardson.fr"});const b=[Cs("k2",f),Cs("esdec",o),Cs("inverters",g),Cs("panels",w),Cs("boxes",h),Cs("cables",R)];return()=>b.forEach(L=>L())},[]);const K=d.name.trim()!==""&&d.postalCode.trim().length>=2,re=ae.useMemo(()=>d.fields.map(m=>`${m.id}:${jl(m.panels)}`).join("|"),[d.fields]);ae.useEffect(()=>{var ke,he;const m=Object.values(x).find(Me=>Me.id===d.inverterConfig.model)||(d.inverterConfig.brand===ne.CUSTOM?x[d.inverterConfig.model||"OND-PERSO"]:null),b=(ke=m==null?void 0:m.electrical)==null?void 0:ke.isMicro,L=d.inverterConfig.brand===ne.FOXESS&&!b,ce=d.inverterConfig.brand===ne.CUSTOM&&!b;if((L||ce)&&d.inverterConfig.model&&d.inverterConfig.model!=="Auto"){let Me=[...d.inverterConfig.configuredStrings||[]],we=!1;if(Me.length===0){const mt=((he=m==null?void 0:m.electrical)==null?void 0:he.mpptCount)||2;d.fields.forEach((_t,Ht)=>{const Gt=Ht%mt+1;Me.push({id:`str-${Date.now()}-${Ht}`,fieldId:_t.id,panelCount:jl(_t.panels),mpptIndex:Gt})}),we=!0}const Ye=d.fields.map(mt=>mt.id),At=Me.filter(mt=>Ye.includes(mt.fieldId));At.length!==Me.length&&(Me=At,we=!0),d.fields.forEach(mt=>{const _t=jl(mt.panels),Ht=Me.filter(St=>St.fieldId===mt.id),Gt=Ht.reduce((St,Yt)=>St+Yt.panelCount,0);if(Gt>_t){let St=Gt-_t;for(let Yt=Ht.length-1;Yt>=0&&!(St<=0);Yt--){const Cl=Ht[Yt],xt=Me.findIndex(ze=>ze.id===Cl.id);if(xt>-1){const ze=Math.min(Me[xt].panelCount,St);Me[xt].panelCount-=ze,St-=ze,we=!0}}}else if(Ht.length===1&&Gt<_t){const St=Me.findIndex(Yt=>Yt.id===Ht[0].id);St>-1&&(Me[St].panelCount=_t,we=!0)}});const Rt=Me.filter(mt=>mt.panelCount>0);Rt.length!==Me.length&&(we=!0),we&&G(mt=>({...mt,inverterConfig:{...mt.inverterConfig,configuredStrings:Rt}}))}},[re,d.inverterConfig.model,d.inverterConfig.brand,x]);const be=async m=>{m.preventDefault();try{const b=await Hp(k,Q);O(b),I(!1),q("")}catch(b){q(b.message)}},Ne=async()=>{await zp(),O(null),_("calculator")},Ee=ae.useMemo(()=>Vc(d.postalCode,d.altitude),[d.postalCode,d.altitude]);async function He(m,b){const L=new AbortController,ce=setTimeout(()=>L.abort(),b);try{const ke=await fetch(m,{signal:L.signal,headers:{Accept:"application/json"}});if(!ke.ok)throw new Error(`HTTP ${ke.status}`);return await ke.json()}finally{clearTimeout(ce)}}ae.useEffect(()=>{if(!Re)return;const m=(d.clientAddress||"").trim();if(m.length<6){ue("idle"),ie("");return}ue("loading"),ie("Recherche");const b=window.setTimeout(async()=>{var L,ce,ke,he;try{const Me=`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(m)}&limit=1`,we=await He(Me,2e3),Ye=(L=we==null?void 0:we.features)==null?void 0:L[0],At=(Ye==null?void 0:Ye.properties)||{},Rt=(ce=Ye==null?void 0:Ye.geometry)==null?void 0:ce.coordinates,mt=(At.postcode||"").toString(),_t=(At.city||At.citycode||"").toString(),Ht=(At.label||"").toString();if(!mt||mt.length<4){ue("manual"),ie("Auto indisponible  saisie manuelle"),Be(!1);return}G(Yt=>({...Yt,postalCode:mt||Yt.postalCode,city:_t||Yt.city})),Ht&&S(Ht);const Gt=Array.isArray(Rt)?Rt[0]:null,St=Array.isArray(Rt)?Rt[1]:null;if(typeof St=="number"&&typeof Gt=="number")try{const Yt=`https://api.opentopodata.org/v1/eudem25m?locations=${St},${Gt}`,Cl=await He(Yt,2e3),xt=(he=(ke=Cl==null?void 0:Cl.results)==null?void 0:ke[0])==null?void 0:he.elevation;if(typeof xt=="number"&&isFinite(xt)){G(ze=>({...ze,altitude:Math.max(0,Math.round(xt))})),ue("success"),ie("Adresse trouve ");return}ue("partial"),ie("Adresse trouve  (Altitude non rcupre   saisir)");return}catch{ue("partial"),ie("Adresse trouve  (Altitude non rcupre   saisir)");return}ue("partial"),ie("Adresse trouve  (Altitude non rcupre   saisir)")}catch{ue("manual"),ie("Auto indisponible  saisie manuelle"),Be(!1)}},500);return()=>window.clearTimeout(b)},[d.clientAddress,Re,de]),ae.useEffect(()=>{if(d.postalCode.length>=2){const m=yp(d.postalCode);G(b=>({...b,windZone:m}))}},[d.postalCode]),ae.useEffect(()=>{const m=bp(d.fields[y].roof.type,d.windZone);G(b=>{const L=[...b.fields];return L[y].roof.margins.top===300&&(L[y].roof.margins=m),{...b,fields:L}})},[d.windZone,d.fields[y].roof.type]);const Fe=ae.useMemo(()=>{var L,ce;const m=x[d.inverterConfig.model],b=d.inverterConfig.brand===ne.CUSTOM&&((L=m==null?void 0:m.electrical)==null?void 0:L.isMicro);return d.inverterConfig.brand===ne.ENPHASE||d.inverterConfig.brand===ne.APSYSTEMS||b||d.inverterConfig.brand===ne.FOXESS&&(((ce=d.inverterConfig.model)==null?void 0:ce.includes("MICRO"))||d.inverterConfig.model==="FOX-S3000-G2")},[d.inverterConfig.brand,d.inverterConfig.model,x]);ae.useEffect(()=>{Fe&&(d.inverterConfig.hasBattery||d.inverterConfig.hasBackup)&&G(m=>({...m,inverterConfig:{...m.inverterConfig,hasBattery:!1,hasBackup:!1,batteryModel:void 0}}))},[Fe]),ae.useEffect(()=>{var he,Me,we,Ye,At,Rt,mt,_t,Ht,Gt,St,Yt,Cl;const m=d.system.brand==="ESDEC"?p:r;let b=[];const L=d.fields.reduce((xt,ze)=>xt+ze.panels.model.power*jl(ze.panels),0);if(d.fields.forEach(xt=>{jl(xt.panels)>0&&Cp(xt,m,d.system,x,j,d.inverterConfig).forEach(on=>{const yl=b.find(hl=>hl.id===on.id);yl?yl.quantity+=on.quantity:b.push({...on})})}),L>0){const xt=jp(L,d.inverterConfig,x);xt&&b.push(xt);const ze=d.inverterConfig.phase==="Tri",on=[2.5,6,10,16,25],yl=ze?L/(400*1.732):L/230,hl=Math.ceil(yl*1.25),ya=As(d.inverterConfig.agcpValue||0,ze)??Ss(hl,ze),Gn=(()=>{const ee=!ze&&(ya===32||ya===40)?10:on[0];return Gf({powerVA:wt,lengthM:d.distanceToPanel,isThreePhase:ze,breakerA:ya,minAutoSectionMm2:ee})})(),Yn=d.acCableSectionMm2??Gn,Ia=xt==null?void 0:xt.electrical;if(!!xt&&!(Ia!=null&&Ia.isMicro)&&d.inverterConfig.brand!==ne.ENPHASE&&d.inverterConfig.brand!==ne.APSYSTEMS){const ee=wt,xe=d.distanceInverterToAcCoffret||0,Ce=ze?ee/(400*1.732):ee/230,Te=Math.ceil(Ce*1.25),bt=Ss(Te,ze),en=(()=>{const xn=!ze&&bt===40?10:on[0];return Gf({powerVA:ee,lengthM:xe,isThreePhase:ze,breakerA:bt,minAutoSectionMm2:xn})})(),mn=d.ac1CableSectionMm2??en,tn=qf(ee,xe,j,ze,mn);tn&&(tn.description=`${tn.description} (AC1: onduleur  coffret AC)`,b.push(tn))}const Aa=qf(wt,d.distanceToPanel,j,ze,Yn);Aa&&(Aa.description=`${Aa.description} (AC2: coffret AC  tableau)`,b.push(Aa));const In=(ee,xe,Ce,Te,bt)=>{if(!ee||Ce<=0)return;const ul=b.find(en=>en.id===ee);ul?ul.quantity+=Ce:b.push({id:ee,description:xe,quantity:Ce,price:Te||"",datasheetUrl:bt})},Wl=d.inverterConfig.microBranches||[],Sa={};Wl.forEach(ee=>{const xe=Number((ee==null?void 0:ee.microCount)||0),Ce=Number((ee==null?void 0:ee.cableLengthM)||0),Te=Number((ee==null?void 0:ee.cableSectionMm2)||0);!Number.isFinite(Ce)||Ce<=0||!Number.isFinite(Te)||Te<=0||Number.isFinite(xe)&&xe<=0||(Sa[Te]=(Sa[Te]||0)+Ce)});const Ea={1.5:{c50:"81010311509205",c100:"81010311509200"},2.5:{c50:"81010312509205",c100:"81010312509200"},6:{c50:"810103100609205"},10:{c50:"810103101009205",c100:"810103101009200"},16:{other:"810103101609207"}},un=(ee,xe)=>{const Ce=Math.ceil(xe),Te=Ea[ee];return Te?Te.other?{id:Te.other,qty:1,fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m ( chiffrer)`}:Ce<=50&&Te.c50?{id:Te.c50,qty:1,fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m (C50)`}:Te.c100?{id:Te.c100,qty:Math.max(1,Math.ceil(Ce/100)),fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m (C100)`}:Te.c50?{id:Te.c50,qty:Math.max(1,Math.ceil(Ce/50)),fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m (C50)`}:{id:`CABLE-AC-BRANCH-${ee}MM-MANUEL`,qty:1,fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m ( chiffrer)`}:{id:`CABLE-AC-BRANCH-${ee}MM-MANUEL`,qty:1,fallbackDesc:`Cble AC branches micro : R2V 3G${ee}  longueur estime ${Ce} m ( chiffrer)`}};Object.entries(Sa).forEach(([ee,xe])=>{const Ce=Number(ee),Te=Number(xe);if(!Number.isFinite(Ce)||!Number.isFinite(Te)||Te<=0)return;const bt=un(Ce,Te);if(!bt)return;const ul=j[bt.id];ul?In(ul.id,`${ul.description} (branches micro  total  ${Math.ceil(Te)} m)`,bt.qty,ul.price,ul.datasheetUrl):In(bt.id,bt.fallbackDesc,bt.qty,"")});const Xn=j["820001000608600"]||{id:"820001000608600",description:"CABLE TERRE H07V-K 1X6 VJ C100",price:"A0AV34"};if(b.push({id:Xn.id,description:Xn.description,quantity:1,price:Xn.price,datasheetUrl:Xn.datasheetUrl}),d.inverterConfig.hasBattery?b.push({id:"STICKER-BAT",description:"STICKER BATTERIES PV",quantity:1,price:"A3D7G5"}):b.push({id:"STICKER-AUTO",description:"STICKER AUTOCONSO PV",quantity:1,price:"A3D7D2"}),d.inverterConfig.brand===ne.FOXESS){const ee=j.CAB14124171||{id:"CAB14124171",description:"CABLE LIYCY 2X0.75 C100",price:"A01NF9"};b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl})}if(d.inverterConfig.brand===ne.APSYSTEMS){const ee=x[350029]||{id:"350029",description:"PASSERELLE COM AVANCEE ECU-C APS",price:"A046Q2"},xe=x[350040]||{id:"350040",description:"TORE MESURE COURANT 80A ECU C APS",price:"A046R0"};b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl}),b.push({id:xe.id,description:xe.description,quantity:ze?6:2,price:xe.price,datasheetUrl:xe.datasheetUrl})}if(d.inverterConfig.brand===ne.ENPHASE){const ee=x["ENVOY-S-EM-230"]||{id:"ENVOY-S-EM-230",description:"PASSERELLE ENVOY/S ENPHASE (2CT inclus)",price:"A04BS2"};if(b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl}),ze){const xe=x["CT-100-SPLIT"]||{id:"CT-100-SPLIT",description:"TRANSFORMATEUR COURANT ENPHASE",price:"A04BT0"};b.push({id:xe.id,description:xe.description,quantity:4,price:xe.price,datasheetUrl:xe.datasheetUrl})}}if(d.inverterConfig.brand===ne.FOXESS&&((he=d.inverterConfig.model)!=null&&he.includes("MICRO"))){const ee=x["SMG666.005"]||{id:"SMG666.005",description:"PASSERELLE P/MICRO-ONDULEUR",price:"A2R4H1"};if(b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl}),ze){const xe=x.DTSU666||{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",price:"A4C248"};b.push({id:xe.id,description:xe.description,quantity:1,price:xe.price,datasheetUrl:xe.datasheetUrl})}else{const xe=x.DDSU666||{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",price:"A2R4G3"};b.push({id:xe.id,description:xe.description,quantity:1,price:xe.price,datasheetUrl:xe.datasheetUrl})}}if((d.inverterConfig.brand===ne.FOXESS&&!((Me=d.inverterConfig.model)!=null&&Me.includes("MICRO"))||d.inverterConfig.brand===ne.CUSTOM)&&!Fe){const ee=(Ye=(we=d.fields[0])==null?void 0:we.panels)==null?void 0:Ye.model,xe=((At=ee==null?void 0:ee.electrical)==null?void 0:At.isc)??0,Ce=((Rt=ee==null?void 0:ee.electrical)==null?void 0:Rt.vmp)??0,Te=xe>0?xe*1.25:0,bt=d.inverterConfig.configuredStrings||[],ul=d.inverterConfig.dcCablingRuns||[],en={},mn=(gl,Sl)=>{const vl=bt.filter(pn=>pn.mpptIndex===gl).reduce((pn,Pc)=>pn+(Pc.panelCount||0),0),dl=Math.max(1,vl*Ce*.88);return tu(Sl,Te,dl)};ul.forEach(gl=>{const Sl=Number(gl.lengthM||0);if(!Number.isFinite(Sl)||Sl<=0)return;const vl=gl.sectionMm2??mn(gl.mpptIndex,Sl);en[vl]=(en[vl]||0)+Sl});const tn=(gl,Sl,vl)=>{const dl=j[gl];dl?b.push({id:dl.id,description:dl.description,quantity:vl,price:dl.price,datasheetUrl:dl.datasheetUrl}):b.push({id:gl,description:Sl,quantity:vl,price:""})};Object.entries(en).forEach(([gl,Sl])=>{const vl=Number(gl),dl=Number(Sl||0);if(!(!Number.isFinite(vl)||!Number.isFinite(dl)||dl<=0))if(vl===6){const pn=Math.max(1,Math.ceil(dl/100));tn("821101000609400",`Cble solaire DC H1Z2Z2-K 1x6 (rouge)  ${Math.ceil(dl)} m`,pn),tn("821101000609200",`Cble solaire DC H1Z2Z2-K 1x6 (noir)  ${Math.ceil(dl)} m`,pn)}else{const pn=Math.ceil(dl);b.push({id:`CABLE-DC-${vl}MM-MANUEL`,description:`Cble solaire DC H1Z2Z2-K 1x${vl} (rouge + noir)  longueur estime ${pn} m par conducteur ( chiffrer)`,quantity:1,price:""})}});const xn=x["32.0316P0010-UR"]||{id:"32.0316P0010-UR",description:"CONNECTEUR FEM.MC4 EVO2-10 pices",price:"A0C085"};b.push({id:xn.id,description:xn.description,quantity:1,price:xn.price,datasheetUrl:xn.datasheetUrl});const wa=x["32.0317P0010-UR"]||{id:"32.0317P0010-UR",description:"CONNECTEUR MALE MC4 EVO2-10 pices",price:"A0C077"};b.push({id:wa.id,description:wa.description,quantity:1,price:wa.price,datasheetUrl:wa.datasheetUrl})}if(d.inverterConfig.hasBattery&&d.inverterConfig.batteryModel){const xe=Object.values(x).find(Ce=>Ce.id===d.inverterConfig.batteryModel);xe&&b.push({id:xe.id,description:xe.description,quantity:1,price:xe.price,datasheetUrl:xe.datasheetUrl})}if(d.evCharger&&d.evCharger.selected){const ee=d.evCharger.phase==="Tri"?"A022KS1-E-A":"A7300S1-E-2",xe=Object.values(x).find(Ce=>Ce.id===ee);if(xe&&b.push({id:xe.id,description:xe.description,quantity:1,price:xe.price,datasheetUrl:xe.datasheetUrl}),d.evCharger.cableRef){const Ce=Object.values(x).find(Te=>Te.id===d.evCharger.cableRef);Ce&&b.push({id:Ce.id,description:Ce.description,quantity:1,price:Ce.price,datasheetUrl:Ce.datasheetUrl})}if(d.evCharger.phase==="Mono"){const Ce=M["03140"]||{id:"03140",description:"Disjoncteur Diff mono 40A/30mA Type F 10kA",price:"A4YC28"};if(b.push({id:Ce.id,description:Ce.description,quantity:1,price:Ce.price,datasheetUrl:Ce.datasheetUrl}),d.inverterConfig.brand!==ne.FOXESS){const Te=Object.values(x).find(bt=>bt.id==="DDSU666")||{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",price:"A2R4G3"};b.push({id:Te.id,description:Te.description,quantity:1,price:Te.price,datasheetUrl:Te.datasheetUrl})}}else if(d.evCharger.phase==="Tri"){const Ce=M["02056"]||{id:"02056",description:"Disjoncteur 4x40 A C6 kA",price:"A4YSY3"};b.push({id:Ce.id,description:Ce.description,quantity:1,price:Ce.price,datasheetUrl:Ce.datasheetUrl});const Te=M["03446"]||{id:"03446",description:"Inter Diff Tri 40A/30mA Type F",price:"A4YC44"};if(b.push({id:Te.id,description:Te.description,quantity:1,price:Te.price,datasheetUrl:Te.datasheetUrl}),d.inverterConfig.brand!==ne.FOXESS){const bt=Object.values(x).find(ul=>ul.id==="DTSU666")||{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",price:"A4C248"};b.push({id:bt.id,description:bt.description,quantity:1,price:bt.price,datasheetUrl:bt.datasheetUrl})}}}let Ke="",dn="";const Al=Object.values(x).find(ee=>ee.id===d.inverterConfig.model)||(d.inverterConfig.brand===ne.CUSTOM?x[d.inverterConfig.model||"OND-PERSO"]:null);let Gl=0;const Vs=d.fields.reduce((ee,xe)=>ee+jl(xe.panels),0);if(Al){const ee=Al.electrical,xe=d.inverterConfig.brand===ne.ENPHASE||d.inverterConfig.brand===ne.APSYSTEMS;if((ee==null?void 0:ee.isMicro)||((mt=d.inverterConfig.model)==null?void 0:mt.includes("MICRO"))||xe){let Te=1;d.inverterConfig.brand===ne.APSYSTEMS&&(Te=2),d.inverterConfig.brand===ne.FOXESS&&((_t=d.inverterConfig.model)!=null&&_t.includes("2000"))?Te=4:d.inverterConfig.brand===ne.FOXESS&&(Te=2),Gl=Math.ceil(Vs/Te)*((ee==null?void 0:ee.maxAcPower)||0)}else Gl=(ee==null?void 0:ee.maxAcPower)||Al.power||L}else Gl=L;const nl=ze?400:230,bl=(ze?Gl/(nl*1.732):Gl/nl)*1.25,Ma=((Ht=Al==null?void 0:Al.electrical)==null?void 0:Ht.maxAcPower)??0,ks=Fe&&d.inverterConfig.model?Jo({...d,inverterConfig:{...d.inverterConfig,microBranches:Lc(d)}},Ma):null,fn=((Gt=ks==null?void 0:ks.branches)==null?void 0:Gt.length)||0;if(d.inverterConfig.brand===ne.ENPHASE)ze?Ke="13488":fn>=3?Ke="13466":fn===2?Ke="13464":fn===1||bl<=20?Ke="13462":bl<=40?Ke="13464":Ke="13466";else if(d.inverterConfig.brand===ne.APSYSTEMS)ze?Ke="13498":fn>=3?Ke="13446":fn===2?Ke="13444":fn===1||Gl<=4500?Ke="13442":Gl<=8800?Ke="13444":Ke="13446";else if(d.inverterConfig.brand===ne.FOXESS||d.inverterConfig.brand===ne.CUSTOM){const ee=d.inverterConfig.hasBattery,xe=d.inverterConfig.hasBackup;if(xe?ze?Ke="12507":bl<=20?Ke="12554":bl<=32?Ke="12556":Ke="12558":ee?ze?Ke="12501":bl<=20?Ke="12522":bl<=32?Ke="12526":Ke="12528":ze?Ke=bl<=16?"13474":"13476":bl<=20?Ke="13412":bl<=32?Ke="13416":bl<=40?Ke="13418":Ke="13446",d.inverterConfig.brand===ne.CUSTOM||!((St=d.inverterConfig.model)!=null&&St.includes("MICRO"))){const Ce=Al==null?void 0:Al.electrical;if(Ce&&!Ce.isMicro){const Te=Ce.mpptCount||2;let bt=0;d.inverterConfig.configuredStrings&&d.inverterConfig.configuredStrings.length>0?d.inverterConfig.configuredStrings.forEach(Sl=>bt=Math.max(bt,Sl.panelCount)):bt=Math.ceil(Vs/Te);const en=Vc(d.postalCode,d.altitude).tempMin,mn=d.fields[0].panels.model,tn=((Yt=mn.electrical)==null?void 0:Yt.voc)||40,xn=((Cl=mn.electrical)==null?void 0:Cl.tempCoeffVoc)||-.26,gl=tn*(1+xn/100*(en-25))*bt>600;ee||xe?Te===2?dn=gl?"12273":"12233":Te>=3&&(dn="12283"):Te===2?dn=gl?"12272":"12232":Te>=3&&(dn="12282")}}}if(Ke&&M[Ke]){const ee=M[Ke];if(b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl}),d.inverterConfig.brand===ne.ENPHASE){const Ce=Ke==="13462"?1:Ke==="13464"?2:Ke==="13466"?3:Ke==="13488"?1:0;if(Ce>0){const Te=Ke==="13488"?Hc.Q_RELAY_TRI_INT:Hc.Q_RELAY_MONO_FR;b.push({id:Te.id,description:Te.description,quantity:Ce,price:Te.price})}}}if(dn&&M[dn]){const ee=M[dn];b.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl})}if(d.inverterConfig.agcpValue&&d.inverterConfig.agcpValue>0){const ee=d.inverterConfig.agcpValue;let xe="";ze?ee<=20||ee<=25?xe="02048":ee<=30?xe="02050":ee<=40?xe="02052":ee<=50?xe="02054":xe="02056":ee<=30?xe="02018":ee<=45?xe="02020":xe="02024";const Ce=M[xe];Ce&&b.push({id:Ce.id,description:Ce.description,quantity:1,price:Ce.price,datasheetUrl:Ce.datasheetUrl})}}const ce=b.map(xt=>{var ze;return{...xt,price:((ze=d.userPrices)==null?void 0:ze[xt.id])!==void 0?d.userPrices[xt.id]:xt.price}}),ke=fh(ce,j);ge(ke)},[d,r,p,x,M,j]);const Pe=d.fields.reduce((m,b)=>m+b.panels.model.power*jl(b.panels),0),Ge=d.inverterConfig.phase==="Tri",rt=ae.useMemo(()=>am({phase:Ge?"Tri":"Mono",projectPowerKwc:Pe/1e3,agcpA:d.inverterConfig.agcpValue}),[Ge,Pe,d.inverterConfig.agcpValue]),jt=Object.values(x).find(m=>m.id===d.inverterConfig.model)||(d.inverterConfig.brand===ne.CUSTOM?x[d.inverterConfig.model||"OND-PERSO"]:null),at=jt==null?void 0:jt.electrical,Dt=!!jt&&!(at!=null&&at.isMicro)&&d.inverterConfig.brand!==ne.ENPHASE&&d.inverterConfig.brand!==ne.APSYSTEMS,wt=Dt&&((at==null?void 0:at.maxAcPower)||(jt==null?void 0:jt.power))||Pe,Rl=Ge?Pe/(400*1.732):Pe/230,ml=Math.ceil(Rl*1.25),ql=m=>!m||m<=0?null:Ge?m<=25?16:m<=30?20:m<=40?25:m<=50?32:40:m<=30?32:m<=45?40:63,Ya=m=>{const b=Ge?[16,20,25,32,40]:[16,20,32,40,63];return b.find(L=>L>=m)??b[b.length-1]},rl=ql(d.inverterConfig.agcpValue??void 0)??Ya(ml),$=[2.5,6,10,16,25],ve=(()=>{const m=!Ge&&(rl===32||rl===40)?10:$[0];for(const L of $){if(L<m)continue;const ce=ba(Pe,d.distanceToPanel,L,Ge),ke=Hn(L,rl);if(ce<=1&&ke==="ok")return L}let b=m;for(const L of $){if(L<m)continue;b=L;const ce=ba(Pe,d.distanceToPanel,L,Ge),ke=Hn(L,rl);if(ce<=1&&ke!=="danger")break}return b})(),Je=d.acCableSectionMm2??ve,Le=(d.distanceInverterToAcCoffret??0)||0,Pt=Ge?wt/(400*1.732):wt/230,Lt=Math.ceil(Pt*1.25),Tt=Ss(Lt,Ge),Ot=(()=>{for(const b of $){const L=ba(wt,Le,b,Ge),ce=Hn(b,Tt);if(L<=1&&ce==="ok")return b}let m=$[0];for(const b of $){m=b;const L=ba(wt,Le,b,Ge),ce=Hn(b,Tt);if(L<=1&&ce!=="danger")break}return m})(),yt=d.ac1CableSectionMm2??Ot,ut=ba(wt,Le,yt,Ge),Ul=ba(wt,Le,Ot,Ge),Pl=Hn(yt,Tt),_l=Dt?Math.max(ve,yt):ve,tl=Dt&&d.acCableSectionMm2==null?Math.max(_l,yt):Je,Ts=Dt&&tl<yt,ol=ba(Pe,d.distanceToPanel,tl,Ge),va=ba(Pe,d.distanceToPanel,_l,Ge),sn=Hn(tl,rl),dt=sn==="danger",ot=d.fields[y]||d.fields[0],xl=Object.values(x).find(m=>m.id===d.inverterConfig.model)||(d.inverterConfig.brand===ne.CUSTOM?x[d.inverterConfig.model||"OND-PERSO"]:null),ft=xl==null?void 0:xl.electrical,Ft=ae.useMemo(()=>{const m=(ft==null?void 0:ft.maxAcPower)||0;return Jo({...d,inverterConfig:{...d.inverterConfig,microBranches:Lc(d)}},m)},[d,ft]),ll=[2.5,6,10,16],jn=ae.useMemo(()=>d.inverterConfig.brand===ne.NONE||d.inverterConfig.model==="Auto"?2:ft!=null&&ft.isMicro?1:(ft==null?void 0:ft.mpptCount)||2,[ft,d.inverterConfig.brand,d.inverterConfig.model]),cn=ae.useMemo(()=>{var ce;const b=d.fields.map(ke=>jl(ke.panels)).reduce((ke,he)=>ke+he,0);if(b===0)return null;let L=xl;if(!L&&d.inverterConfig.model==="Auto"){const ke=d.inverterConfig.brand==="FoxESS"?"FOX":d.inverterConfig.brand==="Enphase"?"ENP":"APS",he=Object.values(x).filter(we=>we.id.startsWith(ke)&&!we.id.includes("MICRO")&&!we.id.includes("ECS")&&!we.id.includes("EP")&&!we.id.includes("EQ")),Me=Pe*.8;he.sort((we,Ye)=>(we.power||0)-(Ye.power||0)),L=he.find(we=>(we.power||0)>=Me)||he[he.length-1]}if(L){if(d.inverterConfig.brand==="FoxESS"&&!((ce=d.inverterConfig.model)!=null&&ce.includes("MICRO"))||d.inverterConfig.brand==="Custom"){const Me=(d.inverterConfig.configuredStrings||[]).reduce((we,Ye)=>we+Ye.panelCount,0);if(Me!==b)return{isCompatible:!1,warnings:[],errors:[`Rpartition Incorrecte : ${Me} panneaux assigns sur ${b} disponibles.`],details:null}}const he=d.inverterConfig.stringsCount||1;return Ep(ot.panels.model,L,Ee,Math.ceil(b/he),b,he,0,d.inverterConfig.configuredStrings,d.fields,d.inverterConfig.phase)}return null},[d.fields,d.inverterConfig.configuredStrings,d.inverterConfig.stringsCount,d.inverterConfig.model,d.inverterConfig.phase,y,Pe,Ee,xl,x]),zc=ae.useMemo(()=>{var he;const m=((he=cn==null?void 0:cn.details)==null?void 0:he.stringsAnalysis)||[];if(!m.length)return{rows:[],worst:0};const b=.023,L=d.inverterConfig.dcCablingRuns||[],ce=m.map(Me=>{const we=Number(Me.mpptIndex||1),Ye=L.find(yl=>Number(yl.mpptIndex)===we)||{lengthM:0,sectionMm2:null},At=Number(Ye.lengthM||0),Rt=Ye.sectionMm2==null?null:Number(Ye.sectionMm2),mt=Number(Me.vmpHot||0),_t=Number(Me.iscCalculation||0),Ht=yl=>{const hl=2*At*_t*b/(yl||1),Fl=mt>0?hl/mt*100:0;return{du:hl,dup:Fl}};let Gt=6;if(At>0&&_t>0&&mt>0)for(const yl of ll.filter(hl=>hl>=6)){const{dup:hl}=Ht(yl);if(hl<=3){Gt=yl;break}Gt=yl}const{du:St,dup:Yt}=Ht(Gt),Cl=Rt??Gt,{du:xt,dup:ze}=Ht(Cl),on=ze>3?"danger":ze>1?"warn":"ok";return{mpptIndex:we,L:At,V:mt,I:_t,autoS:Gt,autoDu:St,autoDup:Yt,forcedS:Rt,effectiveS:Cl,du:xt,dup:ze,status:on}}),ke=ce.length?Math.max(...ce.map(Me=>Number(Me.dup||0))):0;return{rows:ce,worst:ke}},[cn,d.inverterConfig.dcCablingRuns]),pl=m=>{G(b=>{let L={...b.inverterConfig,...m};const ce=typeof m.brand<"u"&&m.brand!==b.inverterConfig.brand,ke=typeof m.model<"u"&&m.model!==b.inverterConfig.model;(ce||ke)&&(L.configuredStrings=[],L.stringsCount=1,L.microBranches=[],L.dcCablingRuns=[]),m.brand===ne.CUSTOM&&!L.model&&(L.model=yi.id),m.hasBackup&&!b.inverterConfig.hasBattery&&(L.hasBattery=!0),m.hasBattery===!1&&(L.batteryModel=void 0);let he={...b.evCharger};return m.phase&&m.phase==="Mono"&&b.evCharger.phase==="Tri"&&(he.phase="Mono",he.cableRef&&(he.cableRef="15254")),{...b,inverterConfig:L,evCharger:he}})},Ai=m=>{const L={id:`str-${Date.now()}`,fieldId:d.fields[0].id,panelCount:1,mpptIndex:m};pl({configuredStrings:[...d.inverterConfig.configuredStrings||[],L]})},qn=(m,b)=>{const L=(d.inverterConfig.configuredStrings||[]).map(ce=>ce.id===m?{...ce,...b}:ce);pl({configuredStrings:L})},Rs=m=>{const b=(d.inverterConfig.configuredStrings||[]).filter(L=>L.id!==m);pl({configuredStrings:b})},Pn=ae.useMemo(()=>{const m=Object.values(x),b=["FOX-EP5","FOX-EP6","FOX-EP11","FOX-EP12","FOX-EQ-CM6000","FOX-EQ-CS6000"];return m.filter(L=>b.includes(L.id)).sort((L,ce)=>L.description.localeCompare(ce.description))},[x]),Fn=m=>{const b={...d.userPrices};m.forEach(L=>{b[L.id]=L.price||""}),G(L=>({...L,userPrices:b})),ge(m)},Na=ot.panels.model.name===ga.name,Cn=d.inverterConfig.brand===ne.CUSTOM;d.evCharger.cableRef;const Bt=d.fields.reduce((m,b)=>m+jl(b.panels),0),Us=(d.inverterConfig.configuredStrings||[]).reduce((m,b)=>m+b.panelCount,0),_s=Bt===Us,rn=!!ot.panels.rowConfiguration&&ot.panels.rowConfiguration.length>0,yn=ot.railOrientation||d.system.railOrientation||"Horizontal";if(v==="admin")return n.jsx(lh,{k2:r,esdec:p,inverters:x,panels:U,boxes:M,cables:j,onUpdateK2:f,onUpdateEsdec:o,onUpdateInverters:g,onUpdatePanels:w,onUpdateBoxes:h,onUpdateCables:R,onExit:()=>_("calculator")});const qc=d.inverterConfig.phase==="Tri"?[20,25,30,40,50,60]:[30,45,60],Si=()=>{if(!window.confirm(`Rinitialiser le projet ?

Toutes les valeurs seront remises  zro (nouveau projet).`))return;const b=typeof structuredClone=="function"?structuredClone(Ko):JSON.parse(JSON.stringify(Ko));G(b),W(0),ge([]),tt(!0),_("calculator"),J(!1),se(!1),_e(!1),nt(!1),I(!1),Be(!0),ue("idle"),ie(""),S("")};return n.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans text-slate-900",children:[n.jsx("header",{className:"bg-indigo-900 text-white p-4 shadow-lg sticky top-0 z-50",children:n.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx("span",{className:"text-orange-500 text-3xl",children:""})," Richardson Solaire ",n.jsx("span",{className:"text-xs bg-green-500 px-2 py-1 rounded-full",children:"v3.0"})]}),!Xe&&n.jsxs("div",{className:"hidden md:flex items-center gap-6 bg-indigo-800/50 px-4 py-1.5 rounded-full border border-indigo-700 animate-scale-in",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-[8px] text-indigo-300 font-bold uppercase",children:"Client"}),n.jsx("span",{className:"text-xs font-black truncate max-w-[150px]",children:d.name})]}),n.jsxs("div",{className:"flex flex-col border-l border-indigo-700 pl-4",children:[n.jsx("span",{className:"text-[8px] text-indigo-300 font-bold uppercase",children:"Localisation"}),n.jsxs("span",{className:"text-xs font-black",children:[d.postalCode,"  ",d.city||"CP saisi"]})]}),n.jsx("button",{onClick:()=>tt(!0),className:"p-1.5 hover:bg-orange-500 rounded-full transition-colors ml-2",title:"Modifier le projet",children:n.jsx(Ip,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs("button",{onClick:Si,className:"flex items-center gap-2 bg-white/10 hover:bg-red-600/90 px-3 py-2 rounded-lg font-black text-xs shadow-md transition-all active:scale-95",title:"Rinitialiser le projet",children:[n.jsx(om,{className:"w-4 h-4"}),"Reset"]}),H?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-green-300 font-bold uppercase tracking-wider",children:"Admin Richardson"}),n.jsx("button",{onClick:()=>_("admin"),className:"p-2 bg-indigo-800 rounded-lg hover:bg-orange-500 transition-colors shadow-inner",title:"Grer la base de donnes",children:n.jsx(Xo,{className:"w-5 h-5"})}),n.jsx("button",{onClick:Ne,className:"text-xs text-indigo-300 hover:text-white px-3 py-1 border border-indigo-700 rounded-md",children:"Dconnexion"})]}):n.jsx("button",{onClick:()=>I(!0),className:"text-xs bg-indigo-800 px-4 py-2 rounded-lg hover:bg-indigo-700 font-bold shadow-md transition-all active:scale-95",children:"Admin Login"})]})]})}),T&&n.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center backdrop-blur-sm p-4",children:n.jsxs("form",{onSubmit:be,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-sm animate-scale-in",children:[n.jsx("h2",{className:"text-2xl font-black mb-2 text-slate-800 text-center",children:"Connexion"}),le&&n.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-xs font-bold mb-4 border border-red-100 shake",children:le}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("input",{type:"email",value:k,onChange:m=>z(m.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Email",required:!0}),n.jsx("input",{type:"password",value:Q,onChange:m=>te(m.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Mot de passe",required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[n.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-6 py-2.5 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Fermer"}),n.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-black shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Valider"})]})]})}),n.jsxs("main",{className:"container mx-auto p-4 relative",children:[Xe&&n.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-100/95 backdrop-blur-sm p-4 animate-scale-in",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border-t-8 border-blue-600 max-w-2xl w-full",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shadow-inner",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Initialisation du Projet"}),n.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Saisissez les informations clients pour dbloquer les calculs normatifs."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Nom du client / Projet"}),n.jsx("input",{type:"text",value:d.name,onChange:m=>G(b=>({...b,name:m.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ex: M. Jean DUPONT"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Adresse"}),n.jsx("input",{type:"text",value:d.clientAddress,onChange:m=>G(b=>({...b,clientAddress:m.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ex: 12 bis rue des Fleurs"}),n.jsxs("div",{className:"mt-2 flex items-center justify-between gap-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[n.jsx("input",{type:"checkbox",checked:Re,onChange:m=>{const b=m.target.checked;Be(b),ue(b?"idle":"manual"),ie(b?"":"Saisie manuelle")}}),"Auto (recommand)"]}),n.jsx("div",{className:`text-xs font-black ${Ue==="success"?"text-emerald-600":Ue==="loading"?"text-slate-500":Ue==="partial"||Ue==="manual"?"text-orange-600":Ue==="error"?"text-red-600":"text-slate-500"}`,children:fe||""})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Ville"}),n.jsx("input",{type:"text",value:d.city,onChange:m=>G(b=>({...b,city:m.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ville"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"CP"}),n.jsx("input",{type:"text",value:d.postalCode,onChange:m=>G(b=>({...b,postalCode:m.target.value})),className:"w-full p-3 border rounded-xl text-sm font-black text-center focus:ring-4 focus:ring-blue-100 outline-none border-slate-200",placeholder:"83000"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Altitude (m)"}),n.jsx("input",{type:"number",value:d.altitude,onChange:m=>G(b=>({...b,altitude:parseInt(m.target.value)||0})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"0"}),n.jsxs("div",{className:"mt-3 p-3 rounded-xl border border-slate-200 bg-slate-50",children:[n.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Temprature retenue"}),n.jsxs("div",{className:"mt-1 text-2xl font-black text-slate-800",children:[(Ee==null?void 0:Ee.tempMin)??"--","C"]}),n.jsxs("div",{className:"mt-1 text-xs font-bold text-slate-600",children:["Base mer : ",(Ee==null?void 0:Ee.baseTempSeaLevel)??((Ei=(Ds=Ee==null?void 0:Ee.label)==null?void 0:Ds.match(/Base (-?\d+)C/))==null?void 0:Ei[1])??"--","C",typeof(Ee==null?void 0:Ee.altitudePenalty)=="number"?n.jsxs(n.Fragment,{children:["  Correction altitude : -",Ee.altitudePenalty,"C"]}):null]})]})]})]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("button",{onClick:()=>K&&tt(!1),disabled:!K,className:`w-full py-4 rounded-2xl font-black text-lg shadow-xl transition-all active:scale-95 ${K?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:K?"Lancer la configuration technique":"Saisissez au moins le nom et le CP"}),n.jsx("button",{onClick:()=>J(!0),className:"text-blue-600 font-bold text-xs hover:underline uppercase tracking-widest",children:"Consulter la carte des tempratures basses"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[n.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-indigo-500 animate-scale-in",children:[n.jsx("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs mb-3",children:"Structure"}),n.jsxs("div",{className:"flex gap-1 mb-3",children:[n.jsx("button",{onClick:()=>G(m=>({...m,system:{...m.system,brand:"K2"}})),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.system.brand==="K2"?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"K2 Systems"}),n.jsx("button",{onClick:()=>G(m=>({...m,system:{...m.system,brand:"ESDEC"}})),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.system.brand==="ESDEC"?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"ESDEC"})]}),n.jsx("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Orientation des rails (Toiture Active)"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields];return b[y].railOrientation="Horizontal",{...m,fields:b}}),className:`flex-1 py-1.5 text-[9px] font-black uppercase rounded-lg border transition-all ${yn==="Horizontal"?"bg-slate-800 text-white border-slate-900 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Horizontal"}),n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields];return b[y].railOrientation="Vertical",{...m,fields:b}}),className:`flex-1 py-1.5 text-[9px] font-black uppercase rounded-lg border transition-all ${yn==="Vertical"?"bg-slate-800 text-white border-slate-900 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Vertical"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-orange-400",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"Toiture"}),n.jsx("button",{onClick:()=>{G(m=>({...m,fields:[...m.fields,{id:`f${Date.now()}`,name:`Toit ${m.fields.length+1}`,roof:{...m.fields[0].roof},panels:{...m.fields[0].panels}}]})),W(d.fields.length)},className:"text-[10px] bg-orange-500 text-white px-2 py-1 rounded font-black shadow-sm",children:"+ ADD"})]}),n.jsx("div",{className:"flex gap-1 overflow-x-auto mb-3",children:d.fields.map((m,b)=>n.jsxs("button",{onClick:()=>W(b),className:`px-2 py-1 text-[10px] rounded-t font-black uppercase transition-all ${y===b?"bg-orange-5 text-orange-600 border-b-2 border-orange-500":"text-slate-400"}`,children:[m.name," ",b>0&&n.jsx("span",{onClick:L=>{L.stopPropagation(),G(ce=>({...ce,fields:ce.fields.filter((ke,he)=>he!==b)})),W(0)},className:"ml-1 text-red-400",children:""})]},m.id))}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Largeur (m)"}),n.jsx("input",{type:"number",value:ot.roof.width,onChange:m=>{const b=parseFloat(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.width=b,{...L,fields:ce}})},className:"w-full border p-2 rounded-lg text-sm text-center font-black focus:ring-2 focus:ring-orange-200 outline-none"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Hauteur (m)"}),n.jsx("input",{type:"number",value:ot.roof.height,onChange:m=>{const b=parseFloat(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.height=b,{...L,fields:ce}})},className:"w-full border p-2 rounded-lg text-sm text-center font-black focus:ring-2 focus:ring-orange-200 outline-none"})]})]}),n.jsx("select",{value:ot.roof.type,onChange:m=>{const b=m.target.value;G(L=>{const ce=[...L.fields];return ce[y].roof.type=b,{...L,fields:ce}})},className:"w-full p-2 border rounded-lg text-xs bg-slate-50 font-bold",children:Object.values(zn).map(m=>n.jsx("option",{value:m,children:m},m))}),n.jsxs("div",{className:"bg-orange-50/50 rounded-lg border border-orange-100 overflow-hidden",children:[n.jsxs("button",{onClick:()=>se(!Z),className:"w-full flex justify-between items-center p-3 hover:bg-orange-100/50 transition-all group",children:[n.jsx("span",{className:"text-[9px] font-black text-orange-600 uppercase tracking-widest",children:"Marges de scurit (mm)"}),n.jsx("svg",{className:`w-3 h-3 text-orange-400 transition-transform duration-300 ${Z?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),Z&&n.jsxs("div",{className:"p-3 pt-0 grid grid-cols-2 gap-x-4 gap-y-2 animate-scale-in",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Haut"}),n.jsx("input",{type:"number",value:ot.roof.margins.top,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.margins.top=b,{...L,fields:ce}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Bas"}),n.jsx("input",{type:"number",value:ot.roof.margins.bottom,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.margins.bottom=b,{...L,fields:ce}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Gauche"}),n.jsx("input",{type:"number",value:ot.roof.margins.left,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.margins.left=b,{...L,fields:ce}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Droite"}),n.jsx("input",{type:"number",value:ot.roof.margins.right,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].roof.margins.right=b,{...L,fields:ce}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]})]})]})]})]}),n.jsxs("div",{className:"ml-4 border-l-4 border-slate-300 pl-4 bg-white p-4 rounded-r-xl shadow-md border-t border-r border-b border-slate-200 -mt-2",children:[n.jsxs("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-[10px] mb-2",children:["Modules de ",ot.name]}),n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("select",{value:ot.panels.model.name,onChange:m=>{const b=U[m.target.value];if(b){const L={name:b.id,width:b.width,height:b.height,power:b.power,price:b.price||"",electrical:b.electrical,imageUrl:b.imageUrl,datasheetUrl:b.datasheetUrl,manualUrl:b.manualUrl,videoUrl:b.videoUrl};G(ce=>{const ke=[...ce.fields];return ke[y].panels.model=L,{...ce,fields:ke}})}},className:"w-full p-2 border rounded-lg text-xs font-bold focus:ring-2 focus:ring-blue-200 outline-none",children:Object.values(U).sort((m,b)=>m.id==="Panneau Personnalis"?1:b.id==="Panneau Personnalis"?-1:(m.description||"").localeCompare(b.description||"")).map(m=>n.jsx("option",{value:m.id,children:m.description},m.id))}),Na&&n.jsx("button",{onClick:()=>_e(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-blue-700 shadow-sm transition-all",title:"Configurer le panneau",children:n.jsx(Xo,{className:"w-4 h-4"})})]}),n.jsx("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Pose"}),n.jsxs("div",{className:"flex gap-1 mb-3",children:[n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields];return b[y].panels.orientation="Portrait",{...m,fields:b}}),className:`flex-1 py-1 text-[8px] font-black uppercase rounded border transition-all ${ot.panels.orientation==="Portrait"?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"Portrait"}),n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields];return b[y].panels.orientation="Paysage",{...m,fields:b}}),className:`flex-1 py-1 text-[8px] font-black uppercase rounded border transition-all ${ot.panels.orientation==="Paysage"?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"Paysage"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-3 bg-slate-50 p-1.5 rounded border border-slate-200",children:n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:rn,onChange:m=>G(b=>{const L=[...b.fields];return m.target.checked?L[y].panels.rowConfiguration=Array(L[y].panels.rows).fill(L[y].panels.columns):L[y].panels.rowConfiguration=void 0,{...b,fields:L}}),className:"sr-only peer"}),n.jsx("div",{className:"w-6 h-3 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-2.5 after:w-2.5 after:transition-all peer-checked:bg-blue-600"}),n.jsx("span",{className:"ml-2 text-[8px] font-black text-slate-600 uppercase",children:"Forme Libre"})]})}),rn?n.jsxs("div",{className:"space-y-1.5 animate-scale-in max-h-48 overflow-y-auto pr-1",children:[(ja=ot.panels.rowConfiguration)==null?void 0:ja.map((m,b)=>n.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-1 rounded",children:[n.jsxs("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:["L",b+1]}),n.jsx("input",{type:"number",value:m,min:"0",onChange:L=>{const ce=Math.max(0,parseInt(L.target.value)||0);G(ke=>{const he=[...ke.fields],Me=[...he[y].panels.rowConfiguration||[]];return Me[b]=ce,he[y].panels.rowConfiguration=Me,he[y].panels.columns=Math.max(...Me),{...ke,fields:he}})},className:"w-12 p-0.5 border rounded text-center text-xs font-bold focus:ring-1 focus:ring-blue-300 outline-none"})]},b)),n.jsxs("div",{className:"pt-2 border-t border-slate-100 flex justify-center gap-1",children:[n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields],L=b[y].panels.rowConfiguration||[],ce=L.length>0?L[L.length-1]:1;return b[y].panels.rowConfiguration=[...L,ce],b[y].panels.rows=b[y].panels.rowConfiguration.length,{...m,fields:b}}),className:"text-[8px] bg-slate-100 hover:bg-slate-200 px-1.5 py-0.5 rounded border border-slate-300 font-bold",children:"+ Ligne"}),n.jsx("button",{onClick:()=>G(m=>{const b=[...m.fields],L=b[y].panels.rowConfiguration||[];return L.length>1&&(b[y].panels.rowConfiguration=L.slice(0,-1),b[y].panels.rows=b[y].panels.rowConfiguration.length),{...m,fields:b}}),className:"text-[8px] bg-red-50 hover:bg-red-100 text-red-600 px-1.5 py-0.5 rounded border border-red-200 font-bold",children:"- Ligne"})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-1",children:"Lignes"}),n.jsx("input",{type:"number",value:ot.panels.rows,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].panels.rows=b,{...L,fields:ce}})},className:"w-full border p-1 rounded text-center font-black text-blue-600 text-xs focus:ring-1 focus:ring-blue-100 outline-none"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-1",children:"Colonnes"}),n.jsx("input",{type:"number",value:ot.panels.columns,onChange:m=>{const b=parseInt(m.target.value);G(L=>{const ce=[...L.fields];return ce[y].panels.columns=b,{...L,fields:ce}})},className:"w-full border p-1 rounded text-center font-black text-blue-600 text-xs focus:ring-1 focus:ring-blue-100 outline-none"})]})]})]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-purple-500",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"lectrique"}),n.jsxs("div",{className:"flex gap-1.5 items-center",children:[(ft==null?void 0:ft.mpptCount)&&n.jsxs("div",{className:"bg-slate-800 text-white px-2 py-0.5 rounded text-[10px] font-black",children:[ft.mpptCount," MPPT"]}),n.jsxs("div",{className:"bg-purple-600 text-white px-2 py-0.5 rounded text-[10px] font-black",children:[(Pe/1e3).toFixed(2)," kWc"]})]})]}),n.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100 mb-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("label",{className:`flex items-center gap-3 cursor-pointer group ${Fe||d.inverterConfig.hasBackup?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("input",{type:"checkbox",checked:d.inverterConfig.hasBattery,disabled:Fe||d.inverterConfig.hasBackup,onChange:m=>pl({hasBattery:m.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-purple-600 disabled:cursor-not-allowed"}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Batterie"})]}),n.jsxs("label",{className:`flex items-center gap-3 cursor-pointer mt-2 group ${Fe?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx("input",{type:"checkbox",checked:d.inverterConfig.hasBackup,disabled:Fe,onChange:m=>pl({hasBackup:m.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-purple-600 disabled:cursor-not-allowed"}),n.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Backup"})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsx(Dc,{content:"Puissance du disjoncteur d'abonn (AGCP) pour dterminer la protection AC",position:"left",children:n.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase cursor-help flex items-center gap-1",children:["Calibrage AGCP",n.jsx("span",{className:"bg-slate-200 text-slate-500 rounded-full w-3 h-3 flex items-center justify-center text-[8px]",children:"?"})]})}),n.jsxs("div",{className:"flex items-center gap-2 bg-white p-1 rounded border border-slate-200 shadow-sm",children:[n.jsxs("select",{value:d.inverterConfig.agcpValue||"",onChange:m=>pl({agcpValue:m.target.value?parseInt(m.target.value):void 0}),className:"h-7 text-sm font-black text-center text-purple-700 outline-none bg-transparent cursor-pointer",style:{textAlignLast:"center"},children:[n.jsx("option",{value:"",children:"--"}),qc.map(m=>n.jsx("option",{value:m,children:m},m))]}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 pr-1",children:"A"})]}),n.jsx("div",{className:"mt-1 text-right text-[10px] leading-tight",children:rt.subscribedKva==null?n.jsx("span",{className:"text-slate-400 font-bold",children:"Renseigner l'AGCP pour estimer l'abonnement client"}):n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-black text-slate-600",children:["Abonnement estim : ",n.jsxs("span",{className:"text-purple-700",children:[rt.subscribedKva," kVA"]})]}),rt.recommendedKva?n.jsx("div",{className:`${rt.isOk?"text-green-700":"text-red-700"} font-bold`,children:rt.isOk?" Abonnement compatible":`  faire voluer (mini conseill : ${rt.recommendedKva} kVA)`}):n.jsx("div",{className:"text-orange-700 font-bold",children:"Vrification indisponible (puissance projet non dfinie)"}),rt.isOverMaxForPhase&&n.jsxs("div",{className:"text-orange-700 font-bold",children:["Dpasse la limite ",rt.phase==="Mono"?"12 kVA en mono":"36 kVA en tri"," (sous rserve compatibilit site)"]})]})})]})]}),d.inverterConfig.hasBattery&&n.jsx("div",{className:"mb-4 animate-scale-in",children:n.jsxs("select",{value:d.inverterConfig.batteryModel||"",onChange:m=>pl({batteryModel:m.target.value}),className:"w-full p-2 border rounded-lg text-xs font-black bg-blue-50 border-blue-200 text-blue-700",children:[n.jsx("option",{value:"",children:"-- Choisir Batterie --"}),Pn.map(m=>n.jsx("option",{value:m.id,children:m.description},m.id))]})}),n.jsxs("div",{className:"flex gap-1 mb-3",children:[n.jsx("button",{onClick:()=>pl({phase:"Mono",model:""}),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.inverterConfig.phase==="Mono"?"bg-purple-100 border-purple-500 text-purple-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Mono"}),n.jsx("button",{onClick:()=>pl({phase:"Tri",model:""}),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.inverterConfig.phase==="Tri"?"bg-purple-100 border-purple-500 text-purple-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Tri"})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("select",{value:d.inverterConfig.brand,onChange:m=>{pl({brand:m.target.value,model:""})},className:"w-full p-2 border rounded-lg text-xs font-black focus:ring-2 focus:ring-purple-200 outline-none",children:[n.jsx("option",{value:"None",children:"Aucun Onduleur"}),n.jsx("option",{value:"Enphase",children:"Enphase (Micro)"}),n.jsx("option",{value:"APSystems",children:"APSystems (Micro)"}),n.jsx("option",{value:"FoxESS",children:"FoxESS (central/hyb/micro)"}),n.jsx("option",{value:"Custom",children:"Onduleur Personnalis"})]}),Cn&&n.jsx("button",{onClick:()=>nt(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-blue-700 shadow-sm transition-all shrink-0",children:n.jsx(Xo,{className:"w-4 h-4"})})]}),d.inverterConfig.brand!=="None"&&d.inverterConfig.brand!=="Custom"&&n.jsx("div",{className:"space-y-3",children:n.jsxs("select",{value:d.inverterConfig.model,onChange:m=>{pl({model:m.target.value})},className:"w-full p-2 border rounded-lg text-xs font-bold focus:ring-2 focus:ring-purple-200 outline-none",children:[n.jsx("option",{value:"",children:"-- Slectionner Modle --"}),Object.values(x).filter(m=>{const b=d.inverterConfig.brand,L=b==="FoxESS"?"FOX":b==="Enphase"?"ENP":"APS",ce=m.id.includes("ECS")||m.id.includes("EP")||m.id.includes("EQ")||m.id.includes("MIRA");if(m.id===yi.id||ce||!m.id.startsWith(L)||["FOX-H1-3.7-E-G2","FOX-KH7","FOX-KH9","FOX-T10-G3-TRI","FOX-T15-G3-TRI","FOX-T20-G3-TRI","FOX-H3-10.0-E","FOX-H3-12.0-E"].includes(m.id)||/\b(cable|cble|cap|relay|term|conn|bouchon|terminaison|relais|rallonge|envoy|ct-100|SMG666|DDSU|DTSU|bus|q-cable|AC-7\.0|AC-22\.0)\b/i.test(m.id)||/\b(cble|cable|bouchon|terminaison|relais|connecteur|passerelle|transformateur|compteur|embout|bus|borne|recharge)\b/i.test(m.description.toLowerCase()))return!1;if(b==="FoxESS"){const Me=m.id.includes("MICRO"),we=m.id.includes("P3")||m.id.includes("H3")||m.id.includes("TRI")||m.id.includes("FOX-T");return Me?!0:d.inverterConfig.phase==="Tri"?we:!we}return!0}).sort((m,b)=>m.description.localeCompare(b.description)).map(m=>n.jsx("option",{value:m.id,children:m.description},m.id))]})}),d.inverterConfig.brand!=="None"&&n.jsxs("div",{className:"mt-3 space-y-3",children:[(d.inverterConfig.brand==="FoxESS"&&!((Ca=d.inverterConfig.model)!=null&&Ca.includes("MICRO"))||Cn)&&d.inverterConfig.model&&!Fe&&n.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm animate-scale-in",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-slate-100",children:[n.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Configuration des Chanes DC"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`px-2 py-0.5 rounded border text-[10px] font-black flex items-center gap-1 ${_s?"bg-green-100 text-green-700 border-green-200":"bg-orange-50 text-orange-600 border-orange-200"}`,children:[n.jsxs("span",{children:[Us," / ",Bt," Pan."]}),_s?n.jsx("span",{children:"__CHECK__"}):n.jsx("span",{children:"__WARN__"})]}),n.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-[10px] font-black border border-blue-100",children:[jn," MPPT"]})]})]}),n.jsx("div",{className:"space-y-4",children:Array.from({length:jn}).map((m,b)=>{const L=b+1,ce=(d.inverterConfig.configuredStrings||[]).filter(he=>(he.mpptIndex||1)===L),ke=ce.reduce((he,Me)=>he+Me.panelCount,0);return n.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-2",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-[10px] font-black text-purple-700 uppercase bg-purple-100 px-2 py-0.5 rounded",children:["MPPT ",L]}),n.jsxs("span",{className:"text-[9px] font-bold text-slate-500",children:[ke," Panneaux Total"]})]}),n.jsx("div",{className:"space-y-2 mb-2",children:ce.map((he,Me)=>n.jsxs("div",{className:"flex gap-2 items-center bg-white p-1.5 rounded border border-slate-100 shadow-sm",children:[n.jsx("select",{value:he.fieldId,onChange:we=>qn(he.id,{fieldId:we.target.value}),className:"flex-1 text-[10px] font-bold bg-slate-50 border border-slate-200 rounded p-1",children:d.fields.map(we=>n.jsxs("option",{value:we.id,children:[we.name," (",jl(we.panels)," Pan.)"]},we.id))}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-[8px] font-bold text-slate-400",children:"QTE:"}),n.jsx("input",{type:"number",value:he.panelCount,min:"1",onChange:we=>qn(he.id,{panelCount:parseInt(we.target.value)||0}),className:"w-10 text-[10px] font-bold text-center bg-slate-50 border border-slate-200 rounded p-1"})]}),n.jsx("button",{onClick:()=>Rs(he.id),className:"text-red-300 hover:text-red-500 p-1",children:n.jsx(um,{className:"w-3 h-3"})})]},he.id))}),n.jsx("button",{onClick:()=>Ai(L),className:"w-full py-1 text-[9px] font-bold text-purple-600 border border-dashed border-purple-200 hover:bg-purple-50 rounded transition-colors",children:"+ Ajouter une source"})]},L)})})]}),Fe&&d.inverterConfig.model&&n.jsx(oh,{project:d,microPowerVA:(ft==null?void 0:ft.maxAcPower)||0,onUpdate:m=>pl({microBranches:m})}),!Fe&&d.inverterConfig.configuredStrings&&d.inverterConfig.configuredStrings.length>0&&n.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg border border-slate-200",children:[n.jsx("div",{className:"flex items-center gap-1 mb-2",children:n.jsx(Dc,{content:n.jsxs("div",{className:"text-left leading-snug",children:[n.jsx("b",{children:"Cblage DC (m)"}),n.jsxs("div",{className:"mt-1",children:["Distance (aller) entre le ",n.jsx("b",{children:"gnrateur PV"})," (chane / MPPT) et le ",n.jsx("b",{children:"coffret DC / onduleur"}),". Utilise pour estimer la ",n.jsx("b",{children:"chute de tension DC"})," par MPPT."]})]}),position:"top",children:n.jsxs("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["Cblage DC (m)",n.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})})}),n.jsx("div",{className:"space-y-2",children:Array.from(new Set(d.inverterConfig.configuredStrings.map(m=>m.mpptIndex))).sort((m,b)=>m-b).map(m=>{const b=(zc.rows||[]).find(he=>Number(he.mpptIndex)===Number(m))||{L:0,autoS:2.5,autoDup:0,forcedS:null,effectiveS:2.5,dup:0},L=Number(b.dup||0),ce=L>3?"text-red-700":L>1?"text-amber-700":"text-slate-700",ke=b.forcedS!=null;return n.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-2",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-[10px] font-black text-slate-600 whitespace-nowrap",children:["MPPT ",m]}),n.jsxs("div",{className:"text-[10px] font-black text-slate-500",children:["U "," ",n.jsxs("span",{className:ce,children:[L.toFixed(2),"%"]}),ke&&n.jsx("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc)"})]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[n.jsxs("label",{className:"text-[9px] font-bold text-slate-400",children:["Longueur (m)",n.jsx("input",{type:"number",min:0,value:b.L,onChange:he=>{const Me=Math.max(0,parseFloat(he.target.value)||0);G(we=>{const Ye=[...we.inverterConfig.dcCablingRuns||[]].filter(Rt=>Rt.mpptIndex!==m),At=(we.inverterConfig.dcCablingRuns||[]).find(Rt=>Rt.mpptIndex===m);return Ye.push({mpptIndex:m,lengthM:Me,sectionMm2:(At==null?void 0:At.sectionMm2)??null}),{...we,inverterConfig:{...we.inverterConfig,dcCablingRuns:Ye}}})},className:"mt-1 w-full p-1 rounded border border-slate-200 text-[11px] font-black text-purple-700"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-[9px] font-bold text-slate-400",children:["Section (mm)",n.jsx("select",{value:b.effectiveS,onChange:he=>{const Me=parseFloat(he.target.value);G(we=>{const Ye=[...we.inverterConfig.dcCablingRuns||[]].filter(Rt=>Rt.mpptIndex!==m),At=(we.inverterConfig.dcCablingRuns||[]).find(Rt=>Rt.mpptIndex===m);return Ye.push({mpptIndex:m,lengthM:(At==null?void 0:At.lengthM)||0,sectionMm2:Number.isFinite(Me)?Me:null}),{...we,inverterConfig:{...we.inverterConfig,dcCablingRuns:Ye}}})},className:"mt-1 w-full p-1 rounded border border-slate-200 text-[11px] font-black text-slate-700",children:ll.map(he=>n.jsx("option",{value:he,children:he},he))})]}),n.jsx("button",{type:"button",className:"mt-2 w-full px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommande)",onClick:()=>{G(he=>{const Me=[...he.inverterConfig.dcCablingRuns||[]].filter(Ye=>Ye.mpptIndex!==m),we=(he.inverterConfig.dcCablingRuns||[]).find(Ye=>Ye.mpptIndex===m);return Me.push({mpptIndex:m,lengthM:(we==null?void 0:we.lengthM)||0,sectionMm2:null}),{...he,inverterConfig:{...he.inverterConfig,dcCablingRuns:Me}}})},children:"Auto"})]})]}),ke&&Number(b.effectiveS)!==Number(b.autoS)&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:[" Section force (estimation devis). Auto recommand : ",b.autoS,"mm (U ",Number(b.autoDup||0).toFixed(2),"%)."]}),L>3&&n.jsx("div",{className:"mt-2 text-[10px] font-black text-red-700",children:" U > 3% : dangereux  export bloqu"}),L>1&&L<=3&&n.jsxs("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:[" U entre 1% et 3% : tolr mais  surveiller (",L<=1.5?"lger":L<=2.5?"modr":"lev","). Viser  1%."]}),n.jsx("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Panneaux  coffret DC / onduleur"})]},m)})})]}),n.jsxs("details",{className:"bg-slate-50 p-2 rounded-lg border border-slate-200",open:!0,children:[n.jsxs("summary",{className:"cursor-pointer select-none text-[9px] font-black text-slate-500 uppercase tracking-widest flex items-center justify-between",children:["Cblage AC",n.jsx("span",{className:"text-[10px] font-black text-slate-400",children:"(dplier)"})]}),Dt&&n.jsxs("div",{className:"mt-3 p-2 rounded-lg bg-white border border-slate-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Dc,{content:n.jsxs("div",{className:"text-left leading-snug",children:[n.jsx("b",{children:"Tronon AC1 (m)"}),n.jsxs("div",{className:"mt-1",children:["Distance entre la ",n.jsx("b",{children:"sortie AC de l'onduleur"})," et le ",n.jsx("b",{children:"coffret AC photovoltaque"}),".",n.jsxs("div",{className:"mt-1 text-[9px]",children:["Le disjoncteur associ est celui ",n.jsx("b",{children:"intgr au coffret AC"})," (calibrage par puissance max onduleur)."]})]})]}),position:"top",children:n.jsxs("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["Section AC  Tronon 1 (Onduleur  Coffret)",n.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})}),n.jsxs("div",{className:"text-[10px] font-black text-slate-600",children:["Disj. coffret  ",Tt,"A"]})]}),n.jsx("input",{type:"number",value:d.distanceInverterToAcCoffret,onChange:m=>G(b=>({...b,distanceInverterToAcCoffret:parseFloat(m.target.value)||0})),className:"w-full p-1 border-none bg-transparent text-sm font-black text-purple-700 outline-none",min:"1"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("div",{className:"text-[10px] font-extrabold text-slate-500",children:"Section"}),n.jsx("select",{className:"flex-1 p-1 rounded-lg border border-slate-200 bg-white text-[11px] font-black text-slate-700",value:d.ac1CableSectionMm2??Ot,onChange:m=>{const b=parseFloat(m.target.value);G(L=>({...L,ac1CableSectionMm2:Number.isFinite(b)?b:null}))},children:[2.5,6,10,16,25].map(m=>n.jsxs("option",{value:m,children:[m," mm"]},m))}),n.jsx("button",{type:"button",className:"px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommande)",onClick:()=>G(m=>({...m,ac1CableSectionMm2:null})),children:"Auto"})]}),n.jsxs("div",{className:"text-[10px] text-slate-500 font-bold mt-1",children:["U (tronon AC1) "," ",n.jsxs("span",{className:`${ut>3?"text-red-700":ut>1?"text-amber-700":"text-slate-700"}`,children:[ut.toFixed(2),"%"]}),d.ac1CableSectionMm2&&n.jsx("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc)"})]}),Pl==="info"&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:[" Information  conditions de pose : la section ",yt,"mm est conforme en conditions usuelles avec ",Tt,"A.",n.jsx("span",{className:"font-bold",children:" Vrifier"})," en cas de pose dfavorable (encastre, temprature leve, regroupement)."]}),Pl==="danger"&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-red-700",children:[" Non conforme : protection ",Tt,"A trop leve pour ",yt,"mm (augmenter la section ou revoir la protection)."]}),d.ac1CableSectionMm2&&yt!==Ot&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:[" Section force (estimation devis). Auto recommand : ",Ot,"mm (U ",Ul.toFixed(2),"%)."]}),ut>3&&n.jsx("div",{className:"mt-2 text-[10px] font-black text-red-700",children:" U > 3% : dangereux  export bloqu"}),ut>1&&ut<=3&&n.jsxs("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:[" U entre 1% et 3% : tolr mais  surveiller (",ut<=1.5?"lger":ut<=2.5?"modr":"lev","). Viser  1%."]}),n.jsx("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Onduleur  coffret AC (disjoncteur du coffret)"})]}),n.jsxs("div",{className:"mt-3 p-2 rounded-lg bg-white border border-slate-200",children:[n.jsx("div",{className:"flex items-center gap-1 mb-1",children:n.jsx(Dc,{content:n.jsxs("div",{className:"text-left leading-snug",children:[n.jsx("b",{children:"Tronon AC2 (m)"}),n.jsxs("div",{className:"mt-1",children:["Distance entre le ",n.jsx("b",{children:"coffret AC photovoltaque"})," et le ",n.jsx("b",{children:"point de raccordement"}),"(tableau principal / disjoncteur de branchement). Utilise pour la chute de tension AC."]})]}),position:"top",children:n.jsxs("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["Section AC  Tronon 2 (Coffret  Tableau)",n.jsx("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})})}),n.jsx("input",{type:"number",value:d.distanceToPanel,onChange:m=>G(b=>({...b,distanceToPanel:parseFloat(m.target.value)||0})),className:"w-full p-1 border-none bg-transparent text-sm font-black text-purple-700 outline-none",min:"1"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx("div",{className:"text-[10px] font-extrabold text-slate-500",children:"Section"}),n.jsx("select",{className:"flex-1 p-1 rounded-lg border border-slate-200 bg-white text-[11px] font-black text-slate-700",value:d.acCableSectionMm2??_l,onChange:m=>{const b=parseFloat(m.target.value);G(L=>({...L,acCableSectionMm2:Number.isFinite(b)?b:null}))},children:[2.5,6,10,16,25].map(m=>n.jsxs("option",{value:m,children:[m," mm"]},m))}),n.jsx("button",{type:"button",className:"px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommande)",onClick:()=>G(m=>({...m,acCableSectionMm2:null})),children:"Auto"})]}),n.jsxs("div",{className:"text-[10px] text-slate-500 font-bold mt-1",children:["U (liaison tableau) "," ",n.jsxs("span",{className:`${ol>3?"text-red-700":ol>1?"text-amber-700":"text-slate-700"}`,children:[ol.toFixed(2),"%"]}),d.acCableSectionMm2&&n.jsx("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc)"})]}),Ts&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-red-700",children:[" Non conforme : la section AC2 (",tl," mm) doit tre  AC1 (",yt," mm) en onduleur centralis."]}),sn==="info"&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:[" Information  conditions de pose : la section ",tl,"mm est conforme en conditions usuelles avec ",rl,"A.",n.jsx("span",{className:"font-bold",children:" Vrifier"})," en cas de pose dfavorable (encastre, temprature leve, regroupement)."]}),sn==="danger"&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-red-700",children:[" Non conforme : protection ",rl,"A trop leve pour ",tl,"mm (augmenter la section ou revoir la protection)."]}),d.acCableSectionMm2&&tl!==_l&&n.jsxs("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:[" Section force (estimation devis). Auto recommand : ",_l,"mm (U ",va.toFixed(2),"%)."]}),ol>3&&n.jsx("div",{className:"mt-2 text-[10px] font-black text-red-700",children:" U > 3% : dangereux  export bloqu"}),ol>1&&ol<=3&&n.jsxs("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:[" U entre 1% et 3% : tolr mais  surveiller (",ol<=1.5?"lger":ol<=2.5?"modr":"lev","). Viser  1%."]}),n.jsx("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Coffret AC  point de raccordement"})]})]})]})]}),n.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-green-500 animate-scale-in",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"Borne de Recharge"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.evCharger.selected,onChange:m=>G(b=>({...b,evCharger:{...b.evCharger,selected:m.target.checked}})),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]}),d.evCharger.selected&&n.jsxs("div",{className:"space-y-3 animate-scale-in",children:[n.jsx("div",{className:"text-[11px] font-black text-red-700 bg-red-50 border border-red-200 rounded-lg p-2",children:" Borne VE slectionne : prvoir un circuit ddi (NF C 15-100) et vrifier la puissance souscrite / protections (DDR adapt selon borne)."}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>G(m=>({...m,evCharger:{...m.evCharger,phase:"Mono",cableRef:m.evCharger.cableRef?"15254":void 0}})),disabled:d.inverterConfig.phase==="Tri",className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.inverterConfig.phase==="Tri"?"opacity-50 cursor-not-allowed bg-slate-100 border-slate-200 text-slate-300":d.evCharger.phase==="Mono"?"bg-green-100 border-green-500 text-green-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"7 kW (Mono)"}),n.jsx("button",{onClick:()=>{d.inverterConfig.phase==="Tri"&&G(m=>({...m,evCharger:{...m.evCharger,phase:"Tri",cableRef:m.evCharger.cableRef?"15264":void 0}}))},disabled:d.inverterConfig.phase==="Mono",className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${d.inverterConfig.phase==="Mono"?"opacity-50 cursor-not-allowed bg-slate-100 border-slate-200 text-slate-300":d.evCharger.phase==="Tri"?"bg-green-100 border-green-500 text-green-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"22 kW (Tri)"})]}),n.jsxs("div",{className:"pt-2 border-t border-slate-100",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[n.jsx("input",{type:"checkbox",checked:!!d.evCharger.cableRef,onChange:m=>{const b=d.evCharger.phase==="Tri"?"15264":"15254",L=m.target.checked?b:void 0;G(ce=>({...ce,evCharger:{...ce.evCharger,cableRef:L}}))},className:"w-4 h-4 rounded border-slate-300 text-green-600"}),n.jsx("span",{className:"text-xs font-bold text-slate-600 group-hover:text-green-700 transition-colors",children:"Ajouter le cble de charge"})]}),!!d.evCharger.cableRef&&n.jsx("div",{className:"mt-2 bg-slate-50 border border-slate-200 rounded-lg p-2 animate-scale-in",children:d.evCharger.phase==="Tri"?n.jsx("div",{className:"text-[10px] font-bold text-green-700 text-center uppercase tracking-tighter",children:"Cble T2 22kW (Inclus par dfaut en Tri)"}):n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>G(m=>({...m,evCharger:{...m.evCharger,cableRef:"15254"}})),className:`flex-1 py-1 px-1 text-[8px] font-black uppercase rounded border transition-all ${d.evCharger.cableRef==="15254"?"bg-green-100 border-green-400 text-green-800":"bg-white text-slate-400 border-slate-200"}`,children:"Cble Mono 7kW"}),n.jsx("button",{onClick:()=>G(m=>({...m,evCharger:{...m.evCharger,cableRef:"15264"}})),className:`flex-1 py-1 px-1 text-[8px] font-black uppercase rounded border transition-all ${d.evCharger.cableRef==="15264"?"bg-green-100 border-green-400 text-green-800":"bg-white text-slate-400 border-slate-200"}`,children:"Cble polyvalent (Mono jusqu' 7kW et Triphas jusqu' 22kW)"})]})})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-9 space-y-6",children:[n.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md",children:n.jsx(rm,{roof:ot.roof,panels:ot.panels,roofName:ot.name})}),n.jsx(ch,{project:d,report:cn,totalPowerW:Pe,voltageDrop:ol,acSection:tl,microBranchesReport:Ft,acProtectionTooHigh:dt,recommendedBreaker:ml}),n.jsx($p,{materials:pe,project:d,onUpdate:Fn,report:cn,voltageDrop:ol,acSection:tl,microBranchesReport:Ft,showAc1:Dt,ac1VoltageDrop:ut,ac1Section:yt,ac1BreakerA:Tt,isCableProtectionOk:!dt})]})]})]}),A&&n.jsx(ah,{onClose:()=>J(!1)}),me&&n.jsx(sh,{initialPanel:ot.panels.model,onSave:m=>{G(b=>{const L=[...b.fields];return L[y].panels.model=m,{...b,fields:L}}),_e(!1)},onClose:()=>_e(!1)}),Ve&&n.jsx(ih,{initialInverter:xl||{...yi,description:"Nouvel Onduleur"},initialPhase:d.inverterConfig.phase||"Mono",onSave:(m,b)=>{const L={...x};m.id==="OND-PERSO"&&(L["OND-PERSO"]=m),g(L),pl({brand:"Custom",model:m.id,phase:b}),nt(!1)},onClose:()=>nt(!1)})]})}class xh extends Ga.Component{constructor(){super(...arguments),this.state={hasError:!1},this.reset=()=>{this.setState({hasError:!1,message:void 0,stack:void 0})}}static getDerivedStateFromError(f){const p=f;return{hasError:!0,message:p!=null&&p.message?String(p.message):String(f),stack:p!=null&&p.stack?String(p.stack):void 0}}componentDidCatch(f){console.error("PVApp runtime error:",f)}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-red-200 overflow-hidden",children:[n.jsxs("div",{className:"p-4 bg-red-50 border-b border-red-200",children:[n.jsx("div",{className:"text-red-800 font-black uppercase tracking-tight",children:"Erreur dexcution (cran blanc vit)"}),n.jsx("div",{className:"text-red-700 text-sm mt-1",children:"Copie le message cidessous et envoiele moi si besoin."})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"text-xs font-mono bg-slate-900 text-slate-50 rounded-xl p-3 overflow-auto whitespace-pre-wrap",children:[this.state.message||"Erreur inconnue",this.state.stack?`

${this.state.stack}`:""]}),n.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[n.jsx("button",{onClick:this.reset,className:"px-4 py-2 rounded-lg bg-slate-900 text-white font-bold",children:"Ressayer"}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-slate-100 text-slate-900 font-bold border",children:"Recharger"})]})]})]})}):this.props.children}}const Qo="richardson_build_id";async function ph(){try{if("caches"in window){const r=await caches.keys();await Promise.all(r.map(f=>caches.delete(f)))}}catch{}}async function $f(){try{const r=await fetch("/version.json",{cache:"no-store"});if(!r.ok)return!1;const p=(await r.json()).buildId||"";if(!p)return!1;const o=localStorage.getItem(Qo);if(!o)return localStorage.setItem(Qo,p),!1;if(o!==p)return localStorage.setItem(Qo,p),await ph(),window.location.reload(),!0}catch{}return!1}function hh(r){const f=r==null?void 0:r.intervalMs;return $f(),window.setInterval(()=>{$f()},f)}hh({intervalMs:6e4});const pm=document.getElementById("root");if(!pm)throw new Error("Element root non trouv");const bh=hp.createRoot(pm);bh.render(n.jsx(Ga.StrictMode,{children:n.jsx(xh,{children:n.jsx(mh,{})})}));
