var w1=Object.create;var N0=Object.defineProperty;var O1=Object.getOwnPropertyDescriptor;var R1=Object.getOwnPropertyNames;var D1=Object.getPrototypeOf,U1=Object.prototype.hasOwnProperty;var Xa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _1=(e,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of R1(t))!U1.call(e,l)&&l!==a&&N0(e,l,{get:()=>t[l],enumerable:!(n=O1(t,l))||n.enumerable});return e};var ae=(e,t,a)=>(a=e!=null?w1(D1(e)):{},_1(t||!e||!e.__esModule?N0(a,"default",{value:e,enumerable:!0}):a,e));var U0=Xa(Se=>{"use strict";var uc=Symbol.for("react.transitional.element"),k1=Symbol.for("react.portal"),B1=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),P1=Symbol.for("react.consumer"),H1=Symbol.for("react.context"),z1=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),I1=Symbol.for("react.memo"),E0=Symbol.for("react.lazy"),q1=Symbol.for("react.activity"),y0=Symbol.iterator;function G1(e){return e===null||typeof e!="object"?null:(e=y0&&e[y0]||e["@@iterator"],typeof e=="function"?e:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w0=Object.assign,O0={};function Gl(e,t,a){this.props=e,this.context=t,this.refs=O0,this.updater=a||T0}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R0(){}R0.prototype=Gl.prototype;function dc(e,t,a){this.props=e,this.context=t,this.refs=O0,this.updater=a||T0}var fc=dc.prototype=new R0;fc.constructor=dc;w0(fc,Gl.prototype);fc.isPureReactComponent=!0;var S0=Array.isArray;function cc(){}var ot={H:null,A:null,T:null,S:null},D0=Object.prototype.hasOwnProperty;function mc(e,t,a){var n=a.ref;return{$$typeof:uc,type:e,key:t,ref:n!==void 0?n:null,props:a}}function Y1(e,t){return mc(e.type,t,e.props)}function pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===uc}function j1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var A0=/\/+/g;function rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?j1(""+e.key):t.toString(36)}function X1(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(cc,cc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ql(e,t,a,n,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case uc:case k1:s=!0;break;case E0:return s=e._init,ql(s(e._payload),t,a,n,l)}}if(s)return l=l(e),s=n===""?"."+rc(e,0):n,S0(l)?(a="",s!=null&&(a=s.replace(A0,"$&/")+"/"),ql(l,t,a,"",function(m){return m})):l!=null&&(pc(l)&&(l=Y1(l,a+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(A0,"$&/")+"/")+s)),t.push(l)),1;s=0;var r=n===""?".":n+":";if(S0(e))for(var c=0;c<e.length;c++)n=e[c],i=r+rc(n,c),s+=ql(n,t,a,i,l);else if(c=G1(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=r+rc(n,c++),s+=ql(n,t,a,i,l);else if(i==="object"){if(typeof e.then=="function")return ql(X1(e),t,a,n,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function ro(e,t,a){if(e==null)return e;var n=[],l=0;return ql(e,n,"","",function(i){return t.call(a,i,l++)}),n}function Z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var M0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},K1={map:ro,forEach:function(e,t,a){ro(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ro(e,function(){t++}),t},toArray:function(e){return ro(e,function(t){return t})||[]},only:function(e){if(!pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Activity=q1;Se.Children=K1;Se.Component=Gl;Se.Fragment=B1;Se.Profiler=L1;Se.PureComponent=dc;Se.StrictMode=V1;Se.Suspense=F1;Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot;Se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ot.H.useMemoCache(e)}};Se.cache=function(e){return function(){return e.apply(null,arguments)}};Se.cacheSignal=function(){return null};Se.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=w0({},e.props),l=e.key;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)!D0.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var s=Array(i),r=0;r<i;r++)s[r]=arguments[r+2];n.children=s}return mc(e.type,l,n)};Se.createContext=function(e){return e={$$typeof:H1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:P1,_context:e},e};Se.createElement=function(e,t,a){var n,l={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)D0.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(l[n]=t[n]);var s=arguments.length-2;if(s===1)l.children=a;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];l.children=r}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)l[n]===void 0&&(l[n]=s[n]);return mc(e,i,l)};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:z1,render:e}};Se.isValidElement=pc;Se.lazy=function(e){return{$$typeof:E0,_payload:{_status:-1,_result:e},_init:Z1}};Se.memo=function(e,t){return{$$typeof:I1,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=ot.T,a={};ot.T=a;try{var n=e(),l=ot.S;l!==null&&l(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(cc,M0)}catch(i){M0(i)}finally{t!==null&&a.types!==null&&(t.types=a.types),ot.T=t}};Se.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()};Se.use=function(e){return ot.H.use(e)};Se.useActionState=function(e,t,a){return ot.H.useActionState(e,t,a)};Se.useCallback=function(e,t){return ot.H.useCallback(e,t)};Se.useContext=function(e){return ot.H.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e,t){return ot.H.useDeferredValue(e,t)};Se.useEffect=function(e,t){return ot.H.useEffect(e,t)};Se.useEffectEvent=function(e){return ot.H.useEffectEvent(e)};Se.useId=function(){return ot.H.useId()};Se.useImperativeHandle=function(e,t,a){return ot.H.useImperativeHandle(e,t,a)};Se.useInsertionEffect=function(e,t){return ot.H.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return ot.H.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return ot.H.useMemo(e,t)};Se.useOptimistic=function(e,t){return ot.H.useOptimistic(e,t)};Se.useReducer=function(e,t,a){return ot.H.useReducer(e,t,a)};Se.useRef=function(e){return ot.H.useRef(e)};Se.useState=function(e){return ot.H.useState(e)};Se.useSyncExternalStore=function(e,t,a){return ot.H.useSyncExternalStore(e,t,a)};Se.useTransition=function(){return ot.H.useTransition()};Se.version="19.2.3"});var Ot=Xa((hv,_0)=>{"use strict";_0.exports=U0()});var q0=Xa(ft=>{"use strict";function xc(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,l=e[n];if(0<co(l,t))e[n]=t,e[a]=l,a=n;else break e}}function Za(e){return e.length===0?null:e[0]}function fo(e){if(e.length===0)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,l=e.length,i=l>>>1;n<i;){var s=2*(n+1)-1,r=e[s],c=s+1,m=e[c];if(0>co(r,a))c<l&&0>co(m,r)?(e[n]=m,e[c]=a,n=c):(e[n]=r,e[s]=a,n=s);else if(c<l&&0>co(m,a))e[n]=m,e[c]=a,n=c;else break e}}return t}function co(e,t){var a=e.sortIndex-t.sortIndex;return a!==0?a:e.id-t.id}ft.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(k0=performance,ft.unstable_now=function(){return k0.now()}):(bc=Date,B0=bc.now(),ft.unstable_now=function(){return bc.now()-B0});var k0,bc,B0,rn=[],Bn=[],Q1=1,Na=null,It=3,vc=!1,Zi=!1,Ki=!1,Cc=!1,P0=typeof setTimeout=="function"?setTimeout:null,H0=typeof clearTimeout=="function"?clearTimeout:null,V0=typeof setImmediate<"u"?setImmediate:null;function uo(e){for(var t=Za(Bn);t!==null;){if(t.callback===null)fo(Bn);else if(t.startTime<=e)fo(Bn),t.sortIndex=t.expirationTime,xc(rn,t);else break;t=Za(Bn)}}function Nc(e){if(Ki=!1,uo(e),!Zi)if(Za(rn)!==null)Zi=!0,jl||(jl=!0,Yl());else{var t=Za(Bn);t!==null&&yc(Nc,t.startTime-e)}}var jl=!1,Qi=-1,z0=5,F0=-1;function I0(){return Cc?!0:!(ft.unstable_now()-F0<z0)}function gc(){if(Cc=!1,jl){var e=ft.unstable_now();F0=e;var t=!0;try{e:{Zi=!1,Ki&&(Ki=!1,H0(Qi),Qi=-1),vc=!0;var a=It;try{t:{for(uo(e),Na=Za(rn);Na!==null&&!(Na.expirationTime>e&&I0());){var n=Na.callback;if(typeof n=="function"){Na.callback=null,It=Na.priorityLevel;var l=n(Na.expirationTime<=e);if(e=ft.unstable_now(),typeof l=="function"){Na.callback=l,uo(e),t=!0;break t}Na===Za(rn)&&fo(rn),uo(e)}else fo(rn);Na=Za(rn)}if(Na!==null)t=!0;else{var i=Za(Bn);i!==null&&yc(Nc,i.startTime-e),t=!1}}break e}finally{Na=null,It=a,vc=!1}t=void 0}}finally{t?Yl():jl=!1}}}var Yl;typeof V0=="function"?Yl=function(){V0(gc)}:typeof MessageChannel<"u"?(hc=new MessageChannel,L0=hc.port2,hc.port1.onmessage=gc,Yl=function(){L0.postMessage(null)}):Yl=function(){P0(gc,0)};var hc,L0;function yc(e,t){Qi=P0(function(){e(ft.unstable_now())},t)}ft.unstable_IdlePriority=5;ft.unstable_ImmediatePriority=1;ft.unstable_LowPriority=4;ft.unstable_NormalPriority=3;ft.unstable_Profiling=null;ft.unstable_UserBlockingPriority=2;ft.unstable_cancelCallback=function(e){e.callback=null};ft.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z0=0<e?Math.floor(1e3/e):5};ft.unstable_getCurrentPriorityLevel=function(){return It};ft.unstable_next=function(e){switch(It){case 1:case 2:case 3:var t=3;break;default:t=It}var a=It;It=t;try{return e()}finally{It=a}};ft.unstable_requestPaint=function(){Cc=!0};ft.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=It;It=e;try{return t()}finally{It=a}};ft.unstable_scheduleCallback=function(e,t,a){var n=ft.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?n+a:n):a=n,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=a+l,e={id:Q1++,callback:t,priorityLevel:e,startTime:a,expirationTime:l,sortIndex:-1},a>n?(e.sortIndex=a,xc(Bn,e),Za(rn)===null&&e===Za(Bn)&&(Ki?(H0(Qi),Qi=-1):Ki=!0,yc(Nc,a-n))):(e.sortIndex=l,xc(rn,e),Zi||vc||(Zi=!0,jl||(jl=!0,Yl()))),e};ft.unstable_shouldYield=I0;ft.unstable_wrapCallback=function(e){var t=It;return function(){var a=It;It=t;try{return e.apply(this,arguments)}finally{It=a}}}});var Y0=Xa((vv,G0)=>{"use strict";G0.exports=q0()});var X0=Xa(jt=>{"use strict";var $1=Ot();function j0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vn(){}var Yt={d:{f:Vn,r:function(){throw Error(j0(522))},D:Vn,C:Vn,L:Vn,m:Vn,X:Vn,S:Vn,M:Vn},p:0,findDOMNode:null},W1=Symbol.for("react.portal");function J1(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W1,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var $i=$1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Yt;jt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(j0(299));return J1(e,t,null,a)};jt.flushSync=function(e){var t=$i.T,a=Yt.p;try{if($i.T=null,Yt.p=2,e)return e()}finally{$i.T=t,Yt.p=a,Yt.d.f()}};jt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Yt.d.C(e,t))};jt.prefetchDNS=function(e){typeof e=="string"&&Yt.d.D(e)};jt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=mo(a,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Yt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:l,fetchPriority:i}):a==="script"&&Yt.d.X(e,{crossOrigin:n,integrity:l,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};jt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=mo(t.as,t.crossOrigin);Yt.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Yt.d.M(e)};jt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=mo(a,t.crossOrigin);Yt.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};jt.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=mo(t.as,t.crossOrigin);Yt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Yt.d.m(e)};jt.requestFormReset=function(e){Yt.d.r(e)};jt.unstable_batchedUpdates=function(e,t){return e(t)};jt.useFormState=function(e,t,a){return $i.H.useFormState(e,t,a)};jt.useFormStatus=function(){return $i.H.useHostTransitionStatus()};jt.version="19.2.3"});var Q0=Xa((Nv,K0)=>{"use strict";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(e){console.error(e)}}Z0(),K0.exports=X0()});var cg=Xa(Pr=>{"use strict";var Dt=Y0(),Sm=Ot(),eh=Q0();function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Am(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ls(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Mm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Em(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $0(e){if(Ls(e)!==e)throw Error(U(188))}function th(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(U(188));return t!==e?null:e}for(var a=e,n=t;;){var l=a.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){a=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===a)return $0(l),e;if(i===n)return $0(l),t;i=i.sibling}throw Error(U(188))}if(a.return!==n.return)a=l,n=i;else{for(var s=!1,r=l.child;r;){if(r===a){s=!0,a=l,n=i;break}if(r===n){s=!0,n=l,a=i;break}r=r.sibling}if(!s){for(r=i.child;r;){if(r===a){s=!0,a=i,n=l;break}if(r===n){s=!0,n=i,a=l;break}r=r.sibling}if(!s)throw Error(U(189))}}if(a.alternate!==n)throw Error(U(190))}if(a.tag!==3)throw Error(U(188));return a.stateNode.current===a?e:t}function Tm(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Tm(e),t!==null)return t;e=e.sibling}return null}var ut=Object.assign,ah=Symbol.for("react.element"),po=Symbol.for("react.transitional.element"),is=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),Om=Symbol.for("react.consumer"),gn=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),nu=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),Wu=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy");Symbol.for("react.scope");var iu=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var nh=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var W0=Symbol.iterator;function Wi(e){return e===null||typeof e!="object"?null:(e=W0&&e[W0]||e["@@iterator"],typeof e=="function"?e:null)}var lh=Symbol.for("react.client.reference");function su(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wl:return"Fragment";case au:return"Profiler";case wm:return"StrictMode";case nu:return"Suspense";case lu:return"SuspenseList";case iu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case is:return"Portal";case gn:return e.displayName||"Context";case Om:return(e._context.displayName||"Context")+".Consumer";case $u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wu:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}var ss=Array.isArray,de=Sm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze=eh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cl={pending:!1,data:null,method:null,action:null},ou=[],Jl=-1;function Ja(e){return{current:e}}function Bt(e){0>Jl||(e.current=ou[Jl],ou[Jl]=null,Jl--)}function it(e,t){Jl++,ou[Jl]=e.current,e.current=t}var Wa=Ja(null),Ss=Ja(null),Zn=Ja(null),Xo=Ja(null);function Zo(e,t){switch(it(Zn,t),it(Ss,e),it(Wa,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=Kb(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Bt(Wa),it(Wa,e)}function hi(){Bt(Wa),Bt(Ss),Bt(Zn)}function ru(e){e.memoizedState!==null&&it(Xo,e);var t=Wa.current,a=Kb(t,e.type);t!==a&&(it(Ss,e),it(Wa,a))}function Ko(e){Ss.current===e&&(Bt(Wa),Bt(Ss)),Xo.current===e&&(Bt(Xo),ks._currentValue=Cl)}var Sc,J0;function gl(e){if(Sc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Sc=t&&t[1]||"",J0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sc+e+J0}var Ac=!1;function Mc(e,t){if(!e||Ac)return"";Ac=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var C=function(){throw Error()};if(Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(h){var v=h}Reflect.construct(e,[],C)}else{try{C.call()}catch(h){v=h}e.call(C.prototype)}}else{try{throw Error()}catch(h){v=h}(C=e())&&typeof C.catch=="function"&&C.catch(function(){})}}catch(h){if(h&&v&&typeof h.stack=="string")return[h.stack,v.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],r=i[1];if(s&&r){var c=s.split(`
`),m=r.split(`
`);for(l=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;l<m.length&&!m[l].includes("DetermineComponentFrameRoot");)l++;if(n===c.length||l===m.length)for(n=c.length-1,l=m.length-1;1<=n&&0<=l&&c[n]!==m[l];)l--;for(;1<=n&&0<=l;n--,l--)if(c[n]!==m[l]){if(n!==1||l!==1)do if(n--,l--,0>l||c[n]!==m[l]){var g=`
`+c[n].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=n&&0<=l);break}}}finally{Ac=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gl(a):""}function ih(e,t){switch(e.tag){case 26:case 27:case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return e.child!==t&&t!==null?gl("Suspense Fallback"):gl("Suspense");case 19:return gl("SuspenseList");case 0:case 15:return Mc(e.type,!1);case 11:return Mc(e.type.render,!1);case 1:return Mc(e.type,!0);case 31:return gl("Activity");default:return""}}function ef(e){try{var t="",a=null;do t+=ih(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var cu=Object.prototype.hasOwnProperty,Ju=Dt.unstable_scheduleCallback,Ec=Dt.unstable_cancelCallback,sh=Dt.unstable_shouldYield,oh=Dt.unstable_requestPaint,da=Dt.unstable_now,rh=Dt.unstable_getCurrentPriorityLevel,Rm=Dt.unstable_ImmediatePriority,Dm=Dt.unstable_UserBlockingPriority,Qo=Dt.unstable_NormalPriority,ch=Dt.unstable_LowPriority,Um=Dt.unstable_IdlePriority,uh=Dt.log,dh=Dt.unstable_setDisableYieldValue,Ps=null,fa=null;function qn(e){if(typeof uh=="function"&&dh(e),fa&&typeof fa.setStrictMode=="function")try{fa.setStrictMode(Ps,e)}catch{}}var ma=Math.clz32?Math.clz32:ph,fh=Math.log,mh=Math.LN2;function ph(e){return e>>>=0,e===0?32:31-(fh(e)/mh|0)|0}var bo=256,go=262144,ho=4194304;function hl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yr(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var l=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~i,n!==0?l=hl(n):(s&=r,s!==0?l=hl(s):a||(a=r&~e,a!==0&&(l=hl(a))))):(r=n&~i,r!==0?l=hl(r):s!==0?l=hl(s):a||(a=n&~e,a!==0&&(l=hl(a)))),l===0?0:t!==0&&t!==l&&(t&i)===0&&(i=l&-l,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:l}function Hs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(){var e=ho;return ho<<=1,(ho&62914560)===0&&(ho=4194304),e}function Tc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function zs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gh(e,t,a,n,l,i){var s=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,m=e.hiddenUpdates;for(a=s&~a;0<a;){var g=31-ma(a),C=1<<g;r[g]=0,c[g]=-1;var v=m[g];if(v!==null)for(m[g]=null,g=0;g<v.length;g++){var h=v[g];h!==null&&(h.lane&=-536870913)}a&=~C}n!==0&&km(e,n,0),i!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=i&~(s&~t))}function km(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ma(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Bm(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ma(a),l=1<<n;l&t|e[n]&t&&(e[n]|=t),a&=~l}}function Vm(e,t){var a=t&-t;return a=(a&42)!==0?1:ed(a),(a&(e.suspendedLanes|t))!==0?0:a}function ed(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function td(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lm(){var e=Ze.p;return e!==0?e:(e=window.event,e===void 0?32:sg(e.type))}function tf(e,t){var a=Ze.p;try{return Ze.p=e,t()}finally{Ze.p=a}}var ol=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ol,na="__reactProps$"+ol,wi="__reactContainer$"+ol,uu="__reactEvents$"+ol,hh="__reactListeners$"+ol,xh="__reactHandles$"+ol,af="__reactResources$"+ol,Fs="__reactMarker$"+ol;function ad(e){delete e[Lt],delete e[na],delete e[uu],delete e[hh],delete e[xh]}function ei(e){var t=e[Lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wi]||a[Lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=dm(e);e!==null;){if(a=e[Lt])return a;e=dm(e)}return t}e=a,a=e.parentNode}return null}function Oi(e){if(e=e[Lt]||e[wi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function ui(e){var t=e[af];return t||(t=e[af]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function kt(e){e[Fs]=!0}var Pm=new Set,Hm={};function Rl(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Hm[e]=t,e=0;e<t.length;e++)Pm.add(t[e])}var vh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nf={},lf={};function Ch(e){return cu.call(lf,e)?!0:cu.call(nf,e)?!1:vh.test(e)?lf[e]=!0:(nf[e]=!0,!1)}function Uo(e,t,a){if(Ch(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function xo(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function cn(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Sa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Nh(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){a=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(s){a=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function du(e){if(!e._valueTracker){var t=zm(e)?"checked":"value";e._valueTracker=Nh(e,t,""+e[t])}}function Fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=zm(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function $o(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yh=/[\n"\\]/g;function Ea(e){return e.replace(yh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fu(e,t,a,n,l,i,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sa(t)):e.value!==""+Sa(t)&&(e.value=""+Sa(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?mu(e,s,Sa(t)):a!=null?mu(e,s,Sa(a)):n!=null&&e.removeAttribute("value"),l==null&&i!=null&&(e.defaultChecked=!!i),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Sa(r):e.removeAttribute("name")}function Im(e,t,a,n,l,i,s,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){du(e);return}a=a!=null?""+Sa(a):"",t=t!=null?""+Sa(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??l,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),du(e)}function mu(e,t,a){t==="number"&&$o(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function di(e,t,a,n){if(e=e.options,t){t={};for(var l=0;l<a.length;l++)t["$"+a[l]]=!0;for(a=0;a<e.length;a++)l=t.hasOwnProperty("$"+e[a].value),e[a].selected!==l&&(e[a].selected=l),l&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Sa(a),t=null,l=0;l<e.length;l++){if(e[l].value===a){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function qm(e,t,a){if(t!=null&&(t=""+Sa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Sa(a):""}function Gm(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(U(92));if(ss(n)){if(1<n.length)throw Error(U(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Sa(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),du(e)}function vi(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Sh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ym(e,t,a){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var l in t)n=t[l],t.hasOwnProperty(l)&&a[l]!==n&&sf(e,l,n)}else for(var i in t)t.hasOwnProperty(i)&&sf(e,i,t[i])}function nd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(e){return Mh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var pu=null;function ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,fi=null;function of(e){var t=Oi(e);if(t&&(e=t.stateNode)){var a=e[na]||null;e:switch(e=t.stateNode,t.type){case"input":if(fu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ea(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var l=n[na]||null;if(!l)throw Error(U(90));fu(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Fm(n)}break e;case"textarea":qm(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&di(e,!!a.multiple,t,!1)}}}var wc=!1;function jm(e,t,a){if(wc)return e(t,a);wc=!0;try{var n=e(t);return n}finally{if(wc=!1,(ti!==null||fi!==null)&&(kr(),ti&&(t=ti,e=fi,fi=ti=null,of(t),e)))for(t=0;t<e.length;t++)of(e[t])}}function As(e,t){var a=e.stateNode;if(a===null)return null;var n=a[na]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(U(231,t,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bu=!1;if(yn)try{Xl={},Object.defineProperty(Xl,"passive",{get:function(){bu=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{bu=!1}var Xl,Gn=null,id=null,ko=null;function Xm(){if(ko)return ko;var e,t=id,a=t.length,n,l="value"in Gn?Gn.value:Gn.textContent,i=l.length;for(e=0;e<a&&t[e]===l[e];e++);var s=a-e;for(n=1;n<=s&&t[a-n]===l[i-n];n++);return ko=l.slice(e,1<n?1-n:void 0)}function Bo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function rf(){return!1}function la(e){function t(a,n,l,i,s){this._reactName=a,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vo:rf,this.isPropagationStopped=rf,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),t}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=la(Dl),Is=ut({},Dl,{view:0,detail:0}),Eh=la(Is),Oc,Rc,Ji,Ar=ut({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Oc=e.screenX-Ji.screenX,Rc=e.screenY-Ji.screenY):Rc=Oc=0,Ji=e),Oc)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),cf=la(Ar),Th=ut({},Ar,{dataTransfer:0}),wh=la(Th),Oh=ut({},Is,{relatedTarget:0}),Dc=la(Oh),Rh=ut({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=la(Rh),Uh=ut({},Dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_h=la(Uh),kh=ut({},Dl,{data:0}),uf=la(kh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lh[e])?!!t[e]:!1}function sd(){return Ph}var Hh=ut({},Is,{key:function(e){if(e.key){var t=Bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?Bo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zh=la(Hh),Fh=ut({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=la(Fh),Ih=ut({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),qh=la(Ih),Gh=ut({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yh=la(Gh),jh=ut({},Ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xh=la(jh),Zh=ut({},Dl,{newState:0,oldState:0}),Kh=la(Zh),Qh=[9,13,27,32],od=yn&&"CompositionEvent"in window,us=null;yn&&"documentMode"in document&&(us=document.documentMode);var $h=yn&&"TextEvent"in window&&!us,Zm=yn&&(!od||us&&8<us&&11>=us),ff=" ",mf=!1;function Km(e,t){switch(e){case"keyup":return Qh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function Wh(e,t){switch(e){case"compositionend":return Qm(t);case"keypress":return t.which!==32?null:(mf=!0,ff);case"textInput":return e=t.data,e===ff&&mf?null:e;default:return null}}function Jh(e,t){if(ai)return e==="compositionend"||!od&&Km(e,t)?(e=Xm(),ko=id=Gn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zm&&t.locale!=="ko"?null:t.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ex[e.type]:t==="textarea"}function $m(e,t,a,n){ti?fi?fi.push(n):fi=[n]:ti=n,t=br(t,"onChange"),0<t.length&&(a=new Sr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var ds=null,Ms=null;function tx(e){jb(e,0)}function Mr(e){var t=os(e);if(Fm(t))return e}function bf(e,t){if(e==="change")return t}var Wm=!1;yn&&(yn?(No="oninput"in document,No||(Uc=document.createElement("div"),Uc.setAttribute("oninput","return;"),No=typeof Uc.oninput=="function"),Co=No):Co=!1,Wm=Co&&(!document.documentMode||9<document.documentMode));var Co,No,Uc;function gf(){ds&&(ds.detachEvent("onpropertychange",Jm),Ms=ds=null)}function Jm(e){if(e.propertyName==="value"&&Mr(Ms)){var t=[];$m(t,Ms,e,ld(e)),jm(tx,t)}}function ax(e,t,a){e==="focusin"?(gf(),ds=t,Ms=a,ds.attachEvent("onpropertychange",Jm)):e==="focusout"&&gf()}function nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mr(Ms)}function lx(e,t){if(e==="click")return Mr(t)}function ix(e,t){if(e==="input"||e==="change")return Mr(t)}function sx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:sx;function Es(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var l=a[n];if(!cu.call(t,l)||!ba(e[l],t[l]))return!1}return!0}function hf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var a=hf(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hf(a)}}function ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$o(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=$o(e.document)}return t}function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ox=yn&&"documentMode"in document&&11>=document.documentMode,ni=null,gu=null,fs=null,hu=!1;function vf(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hu||ni==null||ni!==$o(n)||(n=ni,"selectionStart"in n&&rd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fs&&Es(fs,n)||(fs=n,n=br(gu,"onSelect"),0<n.length&&(t=new Sr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=ni)))}function bl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var li={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionrun:bl("Transition","TransitionRun"),transitionstart:bl("Transition","TransitionStart"),transitioncancel:bl("Transition","TransitionCancel"),transitionend:bl("Transition","TransitionEnd")},_c={},ap={};yn&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function Ul(e){if(_c[e])return _c[e];if(!li[e])return e;var t=li[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ap)return _c[e]=t[a];return e}var np=Ul("animationend"),lp=Ul("animationiteration"),ip=Ul("animationstart"),rx=Ul("transitionrun"),cx=Ul("transitionstart"),ux=Ul("transitioncancel"),sp=Ul("transitionend"),op=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function Ia(e,t){op.set(e,t),Rl(t,[e])}var Wo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ya=[],ii=0,cd=0;function Er(){for(var e=ii,t=cd=ii=0;t<e;){var a=ya[t];ya[t++]=null;var n=ya[t];ya[t++]=null;var l=ya[t];ya[t++]=null;var i=ya[t];if(ya[t++]=null,n!==null&&l!==null){var s=n.pending;s===null?l.next=l:(l.next=s.next,s.next=l),n.pending=l}i!==0&&rp(a,l,i)}}function Tr(e,t,a,n){ya[ii++]=e,ya[ii++]=t,ya[ii++]=a,ya[ii++]=n,cd|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function ud(e,t,a,n){return Tr(e,t,a,n),Jo(e)}function _l(e,t){return Tr(e,null,null,t),Jo(e)}function rp(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var l=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(l=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,l&&t!==null&&(l=31-ma(a),e=i.hiddenUpdates,n=e[l],n===null?e[l]=[t]:n.push(t),t.lane=a|536870912),i):null}function Jo(e){if(50<Ns)throw Ns=0,Hu=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var si={};function dx(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(e,t,a,n){return new dx(e,t,a,n)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var a=e.alternate;return a===null?(a=ca(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cp(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vo(e,t,a,n,l,i){var s=0;if(n=e,typeof e=="function")dd(e)&&(s=1);else if(typeof e=="string")s=p2(e,a,Wa.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case iu:return e=ca(31,a,t,l),e.elementType=iu,e.lanes=i,e;case Wl:return Nl(a.children,l,i,t);case wm:s=8,l|=24;break;case au:return e=ca(12,a,t,l|2),e.elementType=au,e.lanes=i,e;case nu:return e=ca(13,a,t,l),e.elementType=nu,e.lanes=i,e;case lu:return e=ca(19,a,t,l),e.elementType=lu,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gn:s=10;break e;case Om:s=9;break e;case $u:s=11;break e;case Wu:s=14;break e;case Ln:s=16,n=null;break e}s=29,a=Error(U(130,e===null?"null":typeof e,"")),n=null}return t=ca(s,a,t,l),t.elementType=e,t.type=n,t.lanes=i,t}function Nl(e,t,a,n){return e=ca(7,e,n,t),e.lanes=a,e}function kc(e,t,a){return e=ca(6,e,null,t),e.lanes=a,e}function up(e){var t=ca(18,null,null,0);return t.stateNode=e,t}function Bc(e,t,a){return t=ca(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cf=new WeakMap;function Ta(e,t){if(typeof e=="object"&&e!==null){var a=Cf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ef(t)},Cf.set(e,t),t)}return{value:e,source:t,stack:ef(t)}}var oi=[],ri=0,er=null,Ts=0,Aa=[],Ma=0,nl=null,Ka=1,Qa="";function pn(e,t){oi[ri++]=Ts,oi[ri++]=er,er=e,Ts=t}function dp(e,t,a){Aa[Ma++]=Ka,Aa[Ma++]=Qa,Aa[Ma++]=nl,nl=e;var n=Ka;e=Qa;var l=32-ma(n)-1;n&=~(1<<l),a+=1;var i=32-ma(t)+l;if(30<i){var s=l-l%5;i=(n&(1<<s)-1).toString(32),n>>=s,l-=s,Ka=1<<32-ma(t)+l|a<<l|n,Qa=i+e}else Ka=1<<i|a<<l|n,Qa=e}function fd(e){e.return!==null&&(pn(e,1),dp(e,1,0))}function md(e){for(;e===er;)er=oi[--ri],oi[ri]=null,Ts=oi[--ri],oi[ri]=null;for(;e===nl;)nl=Aa[--Ma],Aa[Ma]=null,Qa=Aa[--Ma],Aa[Ma]=null,Ka=Aa[--Ma],Aa[Ma]=null}function fp(e,t){Aa[Ma++]=Ka,Aa[Ma++]=Qa,Aa[Ma++]=nl,Ka=t.id,Qa=t.overflow,nl=e}var Pt=null,ct=null,ze=!1,Kn=null,wa=!1,vu=Error(U(519));function ll(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(Ta(t,e)),vu}function Nf(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Lt]=e,t[na]=n,a){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(a=0;a<Us.length;a++)ke(Us[a],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Im(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Gm(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Zb(t.textContent,a)?(n.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),n.onScroll!=null&&ke("scroll",t),n.onScrollEnd!=null&&ke("scrollend",t),n.onClick!=null&&(t.onclick=hn),t=!0):t=!1,t||ll(e,!0)}function yf(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Pt=Pt.return}}function Zl(e){if(e!==Pt)return!1;if(!ze)return yf(e),ze=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gu(e.type,e.memoizedProps)),a=!a),a&&ct&&ll(e),yf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));ct=um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));ct=um(e)}else t===27?(t=ct,rl(e.type)?(e=Zu,Zu=null,ct=e):ct=t):ct=Pt?Ra(e.stateNode.nextSibling):null;return!0}function Ml(){ct=Pt=null,ze=!1}function Vc(){var e=Kn;return e!==null&&(ta===null?ta=e:ta.push.apply(ta,e),Kn=null),e}function ws(e){Kn===null?Kn=[e]:Kn.push(e)}var Cu=Ja(null),kl=null,xn=null;function Hn(e,t,a){it(Cu,t._currentValue),t._currentValue=a}function Cn(e){e._currentValue=Cu.current,Bt(Cu)}function Nu(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function yu(e,t,a,n){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var i=l.dependencies;if(i!==null){var s=l.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=l;for(var c=0;c<t.length;c++)if(r.context===t[c]){i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),Nu(i.return,a,e),n||(s=null);break e}i=r.next}}else if(l.tag===18){if(s=l.return,s===null)throw Error(U(341));s.lanes|=a,i=s.alternate,i!==null&&(i.lanes|=a),Nu(s,a,e),s=null}else s=l.child;if(s!==null)s.return=l;else for(s=l;s!==null;){if(s===e){s=null;break}if(l=s.sibling,l!==null){l.return=s.return,s=l;break}s=s.return}l=s}}function Ri(e,t,a,n){e=null;for(var l=t,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var s=l.alternate;if(s===null)throw Error(U(387));if(s=s.memoizedProps,s!==null){var r=l.type;ba(l.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(l===Xo.current){if(s=l.alternate,s===null)throw Error(U(387));s.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(ks):e=[ks])}l=l.return}e!==null&&yu(t,e,a,n),t.flags|=262144}function tr(e){for(e=e.firstContext;e!==null;){if(!ba(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function El(e){kl=e,xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return mp(kl,e)}function yo(e,t){return kl===null&&El(e),mp(e,t)}function mp(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},xn===null){if(e===null)throw Error(U(308));xn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xn=xn.next=t;return a}var fx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},mx=Dt.unstable_scheduleCallback,px=Dt.unstable_NormalPriority,Et={$$typeof:gn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new fx,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&mx(px,function(){e.controller.abort()})}var ms=null,Su=0,Ci=0,mi=null;function bx(e,t){if(ms===null){var a=ms=[];Su=0,Ci=Hd(),mi={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Su++,t.then(Sf,Sf),t}function Sf(){if(--Su===0&&ms!==null){mi!==null&&(mi.status="fulfilled");var e=ms;ms=null,Ci=0,mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gx(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(l){a.push(l)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var l=0;l<a.length;l++)(0,a[l])(t)},function(l){for(n.status="rejected",n.reason=l,l=0;l<a.length;l++)(0,a[l])(void 0)}),n}var Af=de.S;de.S=function(e,t){Tb=da(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bx(e,t),Af!==null&&Af(e,t)};var yl=Ja(null);function bd(){var e=yl.current;return e!==null?e:nt.pooledCache}function Lo(e,t){t===null?it(yl,yl.current):it(yl,t.pool)}function pp(){var e=bd();return e===null?null:{parent:Et._currentValue,pool:e}}var Di=Error(U(460)),gd=Error(U(474)),wr=Error(U(542)),ar={then:function(){}};function Mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bp(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(hn,hn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tf(e),e;default:if(typeof t.status=="string")t.then(hn,hn);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=n}},function(n){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Tf(e),e}throw Sl=t,Di}}function xl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sl=a,Di):a}}var Sl=null;function Ef(){if(Sl===null)throw Error(U(459));var e=Sl;return Sl=null,e}function Tf(e){if(e===Di||e===wr)throw Error(U(483))}var pi=null,Os=0;function So(e){var t=Os;return Os+=1,pi===null&&(pi=[]),bp(pi,e,t)}function es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ao(e,t){throw t.$$typeof===ah?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gp(e){function t(f,b){if(e){var N=f.deletions;N===null?(f.deletions=[b],f.flags|=16):N.push(b)}}function a(f,b){if(!e)return null;for(;b!==null;)t(f,b),b=b.sibling;return null}function n(f){for(var b=new Map;f!==null;)f.key!==null?b.set(f.key,f):b.set(f.index,f),f=f.sibling;return b}function l(f,b){return f=vn(f,b),f.index=0,f.sibling=null,f}function i(f,b,N){return f.index=N,e?(N=f.alternate,N!==null?(N=N.index,N<b?(f.flags|=67108866,b):N):(f.flags|=67108866,b)):(f.flags|=1048576,b)}function s(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function r(f,b,N,A){return b===null||b.tag!==6?(b=kc(N,f.mode,A),b.return=f,b):(b=l(b,N),b.return=f,b)}function c(f,b,N,A){var T=N.type;return T===Wl?g(f,b,N.props.children,A,N.key):b!==null&&(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ln&&xl(T)===b.type)?(b=l(b,N.props),es(b,N),b.return=f,b):(b=Vo(N.type,N.key,N.props,null,f.mode,A),es(b,N),b.return=f,b)}function m(f,b,N,A){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Bc(N,f.mode,A),b.return=f,b):(b=l(b,N.children||[]),b.return=f,b)}function g(f,b,N,A,T){return b===null||b.tag!==7?(b=Nl(N,f.mode,A,T),b.return=f,b):(b=l(b,N),b.return=f,b)}function C(f,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=kc(""+b,f.mode,N),b.return=f,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case po:return N=Vo(b.type,b.key,b.props,null,f.mode,N),es(N,b),N.return=f,N;case is:return b=Bc(b,f.mode,N),b.return=f,b;case Ln:return b=xl(b),C(f,b,N)}if(ss(b)||Wi(b))return b=Nl(b,f.mode,N,null),b.return=f,b;if(typeof b.then=="function")return C(f,So(b),N);if(b.$$typeof===gn)return C(f,yo(f,b),N);Ao(f,b)}return null}function v(f,b,N,A){var T=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return T!==null?null:r(f,b,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case po:return N.key===T?c(f,b,N,A):null;case is:return N.key===T?m(f,b,N,A):null;case Ln:return N=xl(N),v(f,b,N,A)}if(ss(N)||Wi(N))return T!==null?null:g(f,b,N,A,null);if(typeof N.then=="function")return v(f,b,So(N),A);if(N.$$typeof===gn)return v(f,b,yo(f,N),A);Ao(f,N)}return null}function h(f,b,N,A,T){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return f=f.get(N)||null,r(b,f,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case po:return f=f.get(A.key===null?N:A.key)||null,c(b,f,A,T);case is:return f=f.get(A.key===null?N:A.key)||null,m(b,f,A,T);case Ln:return A=xl(A),h(f,b,N,A,T)}if(ss(A)||Wi(A))return f=f.get(N)||null,g(b,f,A,T,null);if(typeof A.then=="function")return h(f,b,N,So(A),T);if(A.$$typeof===gn)return h(f,b,N,yo(b,A),T);Ao(b,A)}return null}function S(f,b,N,A){for(var T=null,u=null,M=b,D=b=0,_=null;M!==null&&D<N.length;D++){M.index>D?(_=M,M=null):_=M.sibling;var P=v(f,M,N[D],A);if(P===null){M===null&&(M=_);break}e&&M&&P.alternate===null&&t(f,M),b=i(P,b,D),u===null?T=P:u.sibling=P,u=P,M=_}if(D===N.length)return a(f,M),ze&&pn(f,D),T;if(M===null){for(;D<N.length;D++)M=C(f,N[D],A),M!==null&&(b=i(M,b,D),u===null?T=M:u.sibling=M,u=M);return ze&&pn(f,D),T}for(M=n(M);D<N.length;D++)_=h(M,f,D,N[D],A),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?D:_.key),b=i(_,b,D),u===null?T=_:u.sibling=_,u=_);return e&&M.forEach(function(ne){return t(f,ne)}),ze&&pn(f,D),T}function w(f,b,N,A){if(N==null)throw Error(U(151));for(var T=null,u=null,M=b,D=b=0,_=null,P=N.next();M!==null&&!P.done;D++,P=N.next()){M.index>D?(_=M,M=null):_=M.sibling;var ne=v(f,M,P.value,A);if(ne===null){M===null&&(M=_);break}e&&M&&ne.alternate===null&&t(f,M),b=i(ne,b,D),u===null?T=ne:u.sibling=ne,u=ne,M=_}if(P.done)return a(f,M),ze&&pn(f,D),T;if(M===null){for(;!P.done;D++,P=N.next())P=C(f,P.value,A),P!==null&&(b=i(P,b,D),u===null?T=P:u.sibling=P,u=P);return ze&&pn(f,D),T}for(M=n(M);!P.done;D++,P=N.next())P=h(M,f,D,P.value,A),P!==null&&(e&&P.alternate!==null&&M.delete(P.key===null?D:P.key),b=i(P,b,D),u===null?T=P:u.sibling=P,u=P);return e&&M.forEach(function(re){return t(f,re)}),ze&&pn(f,D),T}function R(f,b,N,A){if(typeof N=="object"&&N!==null&&N.type===Wl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case po:e:{for(var T=N.key;b!==null;){if(b.key===T){if(T=N.type,T===Wl){if(b.tag===7){a(f,b.sibling),A=l(b,N.props.children),A.return=f,f=A;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ln&&xl(T)===b.type){a(f,b.sibling),A=l(b,N.props),es(A,N),A.return=f,f=A;break e}a(f,b);break}else t(f,b);b=b.sibling}N.type===Wl?(A=Nl(N.props.children,f.mode,A,N.key),A.return=f,f=A):(A=Vo(N.type,N.key,N.props,null,f.mode,A),es(A,N),A.return=f,f=A)}return s(f);case is:e:{for(T=N.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){a(f,b.sibling),A=l(b,N.children||[]),A.return=f,f=A;break e}else{a(f,b);break}else t(f,b);b=b.sibling}A=Bc(N,f.mode,A),A.return=f,f=A}return s(f);case Ln:return N=xl(N),R(f,b,N,A)}if(ss(N))return S(f,b,N,A);if(Wi(N)){if(T=Wi(N),typeof T!="function")throw Error(U(150));return N=T.call(N),w(f,b,N,A)}if(typeof N.then=="function")return R(f,b,So(N),A);if(N.$$typeof===gn)return R(f,b,yo(f,N),A);Ao(f,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,b!==null&&b.tag===6?(a(f,b.sibling),A=l(b,N),A.return=f,f=A):(a(f,b),A=kc(N,f.mode,A),A.return=f,f=A),s(f)):a(f,b)}return function(f,b,N,A){try{Os=0;var T=R(f,b,N,A);return pi=null,T}catch(M){if(M===Di||M===wr)throw M;var u=ca(29,M,null,f.mode);return u.lanes=A,u.return=f,u}finally{}}}var Tl=gp(!0),hp=gp(!1),Pn=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Xe&2)!==0){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,t=Jo(e),rp(e,null,a),t}return Tr(e,n,t,a),Jo(e)}function ps(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Bm(e,a)}}function Lc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var l=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var s={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?l=i=s:i=i.next=s,a=a.next}while(a!==null);i===null?l=i=t:i=i.next=t}else l=i=t;a={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Mu=!1;function bs(){if(Mu){var e=mi;if(e!==null)throw e}}function gs(e,t,a,n){Mu=!1;var l=e.updateQueue;Pn=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var c=r,m=c.next;c.next=null,s===null?i=m:s.next=m,s=c;var g=e.alternate;g!==null&&(g=g.updateQueue,r=g.lastBaseUpdate,r!==s&&(r===null?g.firstBaseUpdate=m:r.next=m,g.lastBaseUpdate=c))}if(i!==null){var C=l.baseState;s=0,g=m=c=null,r=i;do{var v=r.lane&-536870913,h=v!==r.lane;if(h?(Le&v)===v:(n&v)===v){v!==0&&v===Ci&&(Mu=!0),g!==null&&(g=g.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var S=e,w=r;v=t;var R=a;switch(w.tag){case 1:if(S=w.payload,typeof S=="function"){C=S.call(R,C,v);break e}C=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=w.payload,v=typeof S=="function"?S.call(R,C,v):S,v==null)break e;C=ut({},C,v);break e;case 2:Pn=!0}}v=r.callback,v!==null&&(e.flags|=64,h&&(e.flags|=8192),h=l.callbacks,h===null?l.callbacks=[v]:h.push(v))}else h={lane:v,tag:r.tag,payload:r.payload,callback:r.callback,next:null},g===null?(m=g=h,c=C):g=g.next=h,s|=v;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;h=r,r=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);g===null&&(c=C),l.baseState=c,l.firstBaseUpdate=m,l.lastBaseUpdate=g,i===null&&(l.shared.lanes=0),sl|=s,e.lanes=s,e.memoizedState=C}}function xp(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function vp(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xp(a[e],t)}var Ni=Ja(null),nr=Ja(0);function wf(e,t){e=En,it(nr,e),it(Ni,t),En=e|t.baseLanes}function Eu(){it(nr,En),it(Ni,Ni.current)}function xd(){En=nr.current,Bt(Ni),Bt(nr)}var ga=Ja(null),Oa=null;function zn(e){var t=e.alternate;it(Nt,Nt.current&1),it(ga,e),Oa===null&&(t===null||Ni.current!==null||t.memoizedState!==null)&&(Oa=e)}function Tu(e){it(Nt,Nt.current),it(ga,e),Oa===null&&(Oa=e)}function Cp(e){e.tag===22?(it(Nt,Nt.current),it(ga,e),Oa===null&&(Oa=e)):Fn(e)}function Fn(){it(Nt,Nt.current),it(ga,ga.current)}function ra(e){Bt(ga),Oa===e&&(Oa=null),Bt(Nt)}var Nt=Ja(0);function lr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ju(a)||Xu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,Ae=null,at=null,At=null,ir=!1,bi=!1,wl=!1,sr=0,Rs=0,gi=null,hx=0;function vt(){throw Error(U(321))}function vd(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ba(e[a],t[a]))return!1;return!0}function Cd(e,t,a,n,l,i){return Sn=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,de.H=e===null||e.memoizedState===null?$p:Dd,wl=!1,i=a(n,l),wl=!1,bi&&(i=yp(t,a,n,l)),Np(e),i}function Np(e){de.H=Ds;var t=at!==null&&at.next!==null;if(Sn=0,At=at=Ae=null,ir=!1,Rs=0,gi=null,t)throw Error(U(300));e===null||Tt||(e=e.dependencies,e!==null&&tr(e)&&(Tt=!0))}function yp(e,t,a,n){Ae=e;var l=0;do{if(bi&&(gi=null),Rs=0,bi=!1,25<=l)throw Error(U(301));if(l+=1,At=at=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}de.H=Wp,i=t(a,n)}while(bi);return i}function xx(){var e=de.H,t=e.useState()[0];return t=typeof t.then=="function"?Gs(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(Ae.flags|=1024),t}function Nd(){var e=sr!==0;return sr=0,e}function yd(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Sd(e){if(ir){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ir=!1}Sn=0,At=at=Ae=null,bi=!1,Rs=sr=0,gi=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ae.memoizedState=At=e:At=At.next=e,At}function yt(){if(at===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=At===null?Ae.memoizedState:At.next;if(t!==null)At=t,at=e;else{if(e===null)throw Ae.alternate===null?Error(U(467)):Error(U(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},At===null?Ae.memoizedState=At=e:At=At.next=e}return At}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(e){var t=Rs;return Rs+=1,gi===null&&(gi=[]),e=bp(gi,e,t),t=Ae,(At===null?t.memoizedState:At.next)===null&&(t=t.alternate,de.H=t===null||t.memoizedState===null?$p:Dd),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===gn)return Ht(e)}throw Error(U(438,String(e)))}function Ad(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Ae.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Or(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=nh;return t.index++,a}function An(e,t){return typeof t=="function"?t(e):t}function Po(e){var t=yt();return Md(t,at,e)}function Md(e,t,a){var n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=a;var l=e.baseQueue,i=n.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}t.baseQueue=l=i,n.pending=null}if(i=e.baseState,l===null)e.memoizedState=i;else{t=l.next;var r=s=null,c=null,m=t,g=!1;do{var C=m.lane&-536870913;if(C!==m.lane?(Le&C)===C:(Sn&C)===C){var v=m.revertLane;if(v===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),C===Ci&&(g=!0);else if((Sn&v)===v){m=m.next,v===Ci&&(g=!0);continue}else C={lane:0,revertLane:m.revertLane,gesture:null,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},c===null?(r=c=C,s=i):c=c.next=C,Ae.lanes|=v,sl|=v;C=m.action,wl&&a(i,C),i=m.hasEagerState?m.eagerState:a(i,C)}else v={lane:C,revertLane:m.revertLane,gesture:m.gesture,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},c===null?(r=c=v,s=i):c=c.next=v,Ae.lanes|=C,sl|=C;m=m.next}while(m!==null&&m!==t);if(c===null?s=i:c.next=r,!ba(i,e.memoizedState)&&(Tt=!0,g&&(a=mi,a!==null)))throw a;e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}return l===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Pc(e){var t=yt(),a=t.queue;if(a===null)throw Error(U(311));a.lastRenderedReducer=e;var n=a.dispatch,l=a.pending,i=t.memoizedState;if(l!==null){a.pending=null;var s=l=l.next;do i=e(i,s.action),s=s.next;while(s!==l);ba(i,t.memoizedState)||(Tt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Sp(e,t,a){var n=Ae,l=yt(),i=ze;if(i){if(a===void 0)throw Error(U(407));a=a()}else a=t();var s=!ba((at||l).memoizedState,a);if(s&&(l.memoizedState=a,Tt=!0),l=l.queue,Ed(Ep.bind(null,n,l,e),[e]),l.getSnapshot!==t||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,yi(9,{destroy:void 0},Mp.bind(null,n,l,a,t),null),nt===null)throw Error(U(349));i||(Sn&127)!==0||Ap(n,t,a)}return a}function Ap(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=Or(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Mp(e,t,a,n){t.value=a,t.getSnapshot=n,Tp(t)&&wp(e)}function Ep(e,t,a){return a(function(){Tp(t)&&wp(e)})}function Tp(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ba(e,a)}catch{return!0}}function wp(e){var t=_l(e,2);t!==null&&aa(t,e,2)}function wu(e){var t=Xt();if(typeof e=="function"){var a=e;if(e=a(),wl){qn(!0);try{a()}finally{qn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},t}function Op(e,t,a,n){return e.baseState=a,Md(e,at,typeof n=="function"?n:An)}function vx(e,t,a,n,l){if(Ur(e))throw Error(U(485));if(e=t.action,e!==null){var i={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};de.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Rp(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Rp(e,t){var a=t.action,n=t.payload,l=e.state;if(t.isTransition){var i=de.T,s={};de.T=s;try{var r=a(l,n),c=de.S;c!==null&&c(s,r),Of(e,t,r)}catch(m){Ou(e,t,m)}finally{i!==null&&s.types!==null&&(i.types=s.types),de.T=i}}else try{i=a(l,n),Of(e,t,i)}catch(m){Ou(e,t,m)}}function Of(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Rf(e,t,n)},function(n){return Ou(e,t,n)}):Rf(e,t,a)}function Rf(e,t,a){t.status="fulfilled",t.value=a,Dp(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Rp(e,a)))}function Ou(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Dp(t),t=t.next;while(t!==n)}e.action=null}function Dp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Up(e,t){return t}function Df(e,t){if(ze){var a=nt.formState;if(a!==null){e:{var n=Ae;if(ze){if(ct){t:{for(var l=ct,i=wa;l.nodeType!==8;){if(!i){l=null;break t}if(l=Ra(l.nextSibling),l===null){l=null;break t}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){ct=Ra(l.nextSibling),n=l.data==="F!";break e}}ll(n)}n=!1}n&&(t=a[0])}}return a=Xt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:t},a.queue=n,a=Zp.bind(null,Ae,n),n.dispatch=a,n=wu(!1),i=Rd.bind(null,Ae,!1,n.queue),n=Xt(),l={state:t,dispatch:null,action:e,pending:null},n.queue=l,a=vx.bind(null,Ae,l,i,a),l.dispatch=a,n.memoizedState=e,[t,a,!1]}function Uf(e){var t=yt();return _p(t,at,e)}function _p(e,t,a){if(t=Md(e,t,Up)[0],e=Po(An)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Gs(t)}catch(s){throw s===Di?wr:s}else n=t;t=yt();var l=t.queue,i=l.dispatch;return a!==t.memoizedState&&(Ae.flags|=2048,yi(9,{destroy:void 0},Cx.bind(null,l,a),null)),[n,i,e]}function Cx(e,t){e.action=t}function _f(e){var t=yt(),a=at;if(a!==null)return _p(t,a,e);yt(),t=t.memoizedState,a=yt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function yi(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=Or(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function kp(){return yt().memoizedState}function Ho(e,t,a,n){var l=Xt();Ae.flags|=e,l.memoizedState=yi(1|t,{destroy:void 0},a,n===void 0?null:n)}function Dr(e,t,a,n){var l=yt();n=n===void 0?null:n;var i=l.memoizedState.inst;at!==null&&n!==null&&vd(n,at.memoizedState.deps)?l.memoizedState=yi(t,i,a,n):(Ae.flags|=e,l.memoizedState=yi(1|t,i,a,n))}function kf(e,t){Ho(8390656,8,e,t)}function Ed(e,t){Dr(2048,8,e,t)}function Nx(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=Or(),Ae.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Bp(e){var t=yt().memoizedState;return Nx({ref:t,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function Vp(e,t){return Dr(4,2,e,t)}function Lp(e,t){return Dr(4,4,e,t)}function Pp(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hp(e,t,a){a=a!=null?a.concat([e]):null,Dr(4,4,Pp.bind(null,t,e),a)}function Td(){}function zp(e,t){var a=yt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&vd(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Fp(e,t){var a=yt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&vd(t,n[1]))return n[0];if(n=e(),wl){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[n,t],n}function wd(e,t,a){return a===void 0||(Sn&1073741824)!==0&&(Le&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ob(),Ae.lanes|=e,sl|=e,a)}function Ip(e,t,a,n){return ba(a,t)?a:Ni.current!==null?(e=wd(e,a,n),ba(e,t)||(Tt=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(Le&261930)===0?(Tt=!0,e.memoizedState=a):(e=Ob(),Ae.lanes|=e,sl|=e,t)}function qp(e,t,a,n,l){var i=Ze.p;Ze.p=i!==0&&8>i?i:8;var s=de.T,r={};de.T=r,Rd(e,!1,t,a);try{var c=l(),m=de.S;if(m!==null&&m(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=gx(c,n);hs(e,t,g,pa(e))}else hs(e,t,n,pa(e))}catch(C){hs(e,t,{then:function(){},status:"rejected",reason:C},pa())}finally{Ze.p=i,s!==null&&r.types!==null&&(s.types=r.types),de.T=s}}function yx(){}function Ru(e,t,a,n){if(e.tag!==5)throw Error(U(476));var l=Gp(e).queue;qp(e,l,t,Cl,a===null?yx:function(){return Yp(e),a(n)})}function Gp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Cl,baseState:Cl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:Cl},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yp(e){var t=Gp(e);t.next===null&&(t=e.alternate.memoizedState),hs(e,t.next.queue,{},pa())}function Od(){return Ht(ks)}function jp(){return yt().memoizedState}function Xp(){return yt().memoizedState}function Sx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=pa();e=Qn(a);var n=$n(t,e,a);n!==null&&(aa(n,t,a),ps(n,t,a)),t={cache:pd()},e.payload=t;return}t=t.return}}function Ax(e,t,a){var n=pa();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ur(e)?Kp(t,a):(a=ud(e,t,a,n),a!==null&&(aa(a,e,n),Qp(a,t,n)))}function Zp(e,t,a){var n=pa();hs(e,t,a,n)}function hs(e,t,a,n){var l={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))Kp(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,r=i(s,a);if(l.hasEagerState=!0,l.eagerState=r,ba(r,s))return Tr(e,t,l,0),nt===null&&Er(),!1}catch{}finally{}if(a=ud(e,t,l,n),a!==null)return aa(a,e,n),Qp(a,t,n),!0}return!1}function Rd(e,t,a,n){if(n={lane:2,revertLane:Hd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(U(479))}else t=ud(e,a,n,2),t!==null&&aa(t,e,2)}function Ur(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Kp(e,t){bi=ir=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Qp(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Bm(e,a)}}var Ds={readContext:Ht,use:Rr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ds.useEffectEvent=vt;var $p={readContext:Ht,use:Rr,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:kf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ho(4194308,4,Pp.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ho(4194308,4,e,t)},useInsertionEffect:function(e,t){Ho(4,2,e,t)},useMemo:function(e,t){var a=Xt();t=t===void 0?null:t;var n=e();if(wl){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Xt();if(a!==void 0){var l=a(t);if(wl){qn(!0);try{a(t)}finally{qn(!1)}}}else l=t;return n.memoizedState=n.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},n.queue=e,e=e.dispatch=Ax.bind(null,Ae,e),[n.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=wu(e);var t=e.queue,a=Zp.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(e,t){var a=Xt();return wd(a,e,t)},useTransition:function(){var e=wu(!1);return e=qp.bind(null,Ae,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Ae,l=Xt();if(ze){if(a===void 0)throw Error(U(407));a=a()}else{if(a=t(),nt===null)throw Error(U(349));(Le&127)!==0||Ap(n,t,a)}l.memoizedState=a;var i={value:a,getSnapshot:t};return l.queue=i,kf(Ep.bind(null,n,i,e),[e]),n.flags|=2048,yi(9,{destroy:void 0},Mp.bind(null,n,i,a,t),null),a},useId:function(){var e=Xt(),t=nt.identifierPrefix;if(ze){var a=Qa,n=Ka;a=(n&~(1<<32-ma(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=sr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=hx++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Od,useFormState:Df,useActionState:Df,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Rd.bind(null,Ae,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ad,useCacheRefresh:function(){return Xt().memoizedState=Sx.bind(null,Ae)},useEffectEvent:function(e){var t=Xt(),a={impl:e};return t.memoizedState=a,function(){if((Xe&2)!==0)throw Error(U(440));return a.impl.apply(void 0,arguments)}}},Dd={readContext:Ht,use:Rr,useCallback:zp,useContext:Ht,useEffect:Ed,useImperativeHandle:Hp,useInsertionEffect:Vp,useLayoutEffect:Lp,useMemo:Fp,useReducer:Po,useRef:kp,useState:function(){return Po(An)},useDebugValue:Td,useDeferredValue:function(e,t){var a=yt();return Ip(a,at.memoizedState,e,t)},useTransition:function(){var e=Po(An)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Sp,useId:jp,useHostTransitionStatus:Od,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,t){var a=yt();return Op(a,at,e,t)},useMemoCache:Ad,useCacheRefresh:Xp};Dd.useEffectEvent=Bp;var Wp={readContext:Ht,use:Rr,useCallback:zp,useContext:Ht,useEffect:Ed,useImperativeHandle:Hp,useInsertionEffect:Vp,useLayoutEffect:Lp,useMemo:Fp,useReducer:Pc,useRef:kp,useState:function(){return Pc(An)},useDebugValue:Td,useDeferredValue:function(e,t){var a=yt();return at===null?wd(a,e,t):Ip(a,at.memoizedState,e,t)},useTransition:function(){var e=Pc(An)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Sp,useId:jp,useHostTransitionStatus:Od,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var a=yt();return at!==null?Op(a,at,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:Xp};Wp.useEffectEvent=Bp;function Hc(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:ut({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Du={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=pa(),l=Qn(n);l.payload=t,a!=null&&(l.callback=a),t=$n(e,l,n),t!==null&&(aa(t,e,n),ps(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=pa(),l=Qn(n);l.tag=1,l.payload=t,a!=null&&(l.callback=a),t=$n(e,l,n),t!==null&&(aa(t,e,n),ps(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=pa(),n=Qn(a);n.tag=2,t!=null&&(n.callback=t),t=$n(e,n,a),t!==null&&(aa(t,e,a),ps(t,e,a))}};function Bf(e,t,a,n,l,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Es(a,n)||!Es(l,i):!0}function Vf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Du.enqueueReplaceState(t,t.state,null)}function Ol(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=ut({},a));for(var l in e)a[l]===void 0&&(a[l]=e[l])}return a}function Jp(e){Wo(e)}function eb(e){console.error(e)}function tb(e){Wo(e)}function or(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Lf(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Uu(e,t,a){return a=Qn(a),a.tag=3,a.payload={element:null},a.callback=function(){or(e,t)},a}function ab(e){return e=Qn(e),e.tag=3,e}function nb(e,t,a,n){var l=a.type.getDerivedStateFromError;if(typeof l=="function"){var i=n.value;e.payload=function(){return l(i)},e.callback=function(){Lf(t,a,n)}}var s=a.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Lf(t,a,n),typeof l!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function Mx(e,t,a,n,l){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Ri(t,a,l,!0),a=ga.current,a!==null){switch(a.tag){case 31:case 13:return Oa===null?fr():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=l,n===ar?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Qc(e,n,l)),!1;case 22:return a.flags|=65536,n===ar?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Qc(e,n,l)),!1}throw Error(U(435,a.tag))}return Qc(e,n,l),fr(),!1}if(ze)return t=ga.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,n!==vu&&(e=Error(U(422),{cause:n}),ws(Ta(e,a)))):(n!==vu&&(t=Error(U(423),{cause:n}),ws(Ta(t,a))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,n=Ta(n,a),l=Uu(e.stateNode,n,l),Lc(e,l),Ct!==4&&(Ct=2)),!1;var i=Error(U(520),{cause:n});if(i=Ta(i,a),Cs===null?Cs=[i]:Cs.push(i),Ct!==4&&(Ct=2),t===null)return!0;n=Ta(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=l&-l,a.lanes|=e,e=Uu(a.stateNode,n,e),Lc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Wn===null||!Wn.has(i))))return a.flags|=65536,l&=-l,a.lanes|=l,l=ab(l),nb(l,e,a,n),Lc(a,l),!1}a=a.return}while(a!==null);return!1}var Ud=Error(U(461)),Tt=!1;function Vt(e,t,a,n){t.child=e===null?hp(t,null,a,n):Tl(t,e.child,a,n)}function Pf(e,t,a,n,l){a=a.render;var i=t.ref;if("ref"in n){var s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}else s=n;return El(t),n=Cd(e,t,a,s,i,l),r=Nd(),e!==null&&!Tt?(yd(e,t,l),Mn(e,t,l)):(ze&&r&&fd(t),t.flags|=1,Vt(e,t,n,l),t.child)}function Hf(e,t,a,n,l){if(e===null){var i=a.type;return typeof i=="function"&&!dd(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,lb(e,t,i,n,l)):(e=Vo(a.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!_d(e,l)){var s=i.memoizedProps;if(a=a.compare,a=a!==null?a:Es,a(s,n)&&e.ref===t.ref)return Mn(e,t,l)}return t.flags|=1,e=vn(i,n),e.ref=t.ref,e.return=t,t.child=e}function lb(e,t,a,n,l){if(e!==null){var i=e.memoizedProps;if(Es(i,n)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=n=i,_d(e,l))(e.flags&131072)!==0&&(Tt=!0);else return t.lanes=e.lanes,Mn(e,t,l)}return _u(e,t,a,n,l)}function ib(e,t,a,n){var l=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,l=0;n!==null;)l=l|n.lanes|n.childLanes,n=n.sibling;n=l&~i}else n=0,t.child=null;return zf(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lo(t,i!==null?i.cachePool:null),i!==null?wf(t,i):Eu(),Cp(t);else return n=t.lanes=536870912,zf(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Lo(t,i.cachePool),wf(t,i),Fn(t),t.memoizedState=null):(e!==null&&Lo(t,null),Eu(),Fn(t));return Vt(e,t,l,a),t.child}function rs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zf(e,t,a,n,l){var i=bd();return i=i===null?null:{parent:Et._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Lo(t,null),Eu(),Cp(t),e!==null&&Ri(e,t,n,!0),t.childLanes=l,null}function zo(e,t){return t=rr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ff(e,t,a){return Tl(t,e.child,null,a),e=zo(t,t.pendingProps),e.flags|=2,ra(t),t.memoizedState=null,e}function Ex(e,t,a){var n=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(n.mode==="hidden")return e=zo(t,n),t.lanes=536870912,rs(null,e);if(Tu(t),(e=ct)?(e=$b(e,wa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:nl!==null?{id:Ka,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},a=up(e),a.return=t,t.child=a,Pt=t,ct=null)):e=null,e===null)throw ll(t);return t.lanes=536870912,null}return zo(t,n)}var i=e.memoizedState;if(i!==null){var s=i.dehydrated;if(Tu(t),l)if(t.flags&256)t.flags&=-257,t=Ff(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Tt||Ri(e,t,a,!1),l=(a&e.childLanes)!==0,Tt||l){if(n=nt,n!==null&&(s=Vm(n,a),s!==0&&s!==i.retryLane))throw i.retryLane=s,_l(e,s),aa(n,e,s),Ud;fr(),t=Ff(e,t,a)}else e=i.treeContext,ct=Ra(s.nextSibling),Pt=t,ze=!0,Kn=null,wa=!1,e!==null&&fp(t,e),t=zo(t,n),t.flags|=4096;return t}return e=vn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Fo(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(U(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function _u(e,t,a,n,l){return El(t),a=Cd(e,t,a,n,void 0,l),n=Nd(),e!==null&&!Tt?(yd(e,t,l),Mn(e,t,l)):(ze&&n&&fd(t),t.flags|=1,Vt(e,t,a,l),t.child)}function If(e,t,a,n,l,i){return El(t),t.updateQueue=null,a=yp(t,n,a,l),Np(e),n=Nd(),e!==null&&!Tt?(yd(e,t,i),Mn(e,t,i)):(ze&&n&&fd(t),t.flags|=1,Vt(e,t,a,i),t.child)}function qf(e,t,a,n,l){if(El(t),t.stateNode===null){var i=si,s=a.contextType;typeof s=="object"&&s!==null&&(i=Ht(s)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Du,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},hd(t),s=a.contextType,i.context=typeof s=="object"&&s!==null?Ht(s):si,i.state=t.memoizedState,s=a.getDerivedStateFromProps,typeof s=="function"&&(Hc(t,a,s,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Du.enqueueReplaceState(i,i.state,null),gs(t,n,i,l),bs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,c=Ol(a,r);i.props=c;var m=i.context,g=a.contextType;s=si,typeof g=="object"&&g!==null&&(s=Ht(g));var C=a.getDerivedStateFromProps;g=typeof C=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||m!==s)&&Vf(t,i,n,s),Pn=!1;var v=t.memoizedState;i.state=v,gs(t,n,i,l),bs(),m=t.memoizedState,r||v!==m||Pn?(typeof C=="function"&&(Hc(t,a,C,n),m=t.memoizedState),(c=Pn||Bf(t,a,c,n,v,m,s))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Au(e,t),s=t.memoizedProps,g=Ol(a,s),i.props=g,C=t.pendingProps,v=i.context,m=a.contextType,c=si,typeof m=="object"&&m!==null&&(c=Ht(m)),r=a.getDerivedStateFromProps,(m=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==C||v!==c)&&Vf(t,i,n,c),Pn=!1,v=t.memoizedState,i.state=v,gs(t,n,i,l),bs();var h=t.memoizedState;s!==C||v!==h||Pn||e!==null&&e.dependencies!==null&&tr(e.dependencies)?(typeof r=="function"&&(Hc(t,a,r,n),h=t.memoizedState),(g=Pn||Bf(t,a,g,n,v,h,c)||e!==null&&e.dependencies!==null&&tr(e.dependencies))?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=c,n=g):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Fo(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Tl(t,e.child,null,l),t.child=Tl(t,null,a,l)):Vt(e,t,a,l),t.memoizedState=i.state,e=t.child):e=Mn(e,t,l),e}function Gf(e,t,a,n){return Ml(),t.flags|=256,Vt(e,t,a,n),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:pp()}}function Ic(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ua),e}function sb(e,t,a){var n=t.pendingProps,l=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),s&&(l=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(l?zn(t):Fn(t),(e=ct)?(e=$b(e,wa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:nl!==null?{id:Ka,overflow:Qa}:null,retryLane:536870912,hydrationErrors:null},a=up(e),a.return=t,t.child=a,Pt=t,ct=null)):e=null,e===null)throw ll(t);return Xu(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,l?(Fn(t),l=t.mode,r=rr({mode:"hidden",children:r},l),n=Nl(n,l,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=Fc(a),n.childLanes=Ic(e,s,a),t.memoizedState=zc,rs(null,n)):(zn(t),ku(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(i)t.flags&256?(zn(t),t.flags&=-257,t=qc(e,t,a)):t.memoizedState!==null?(Fn(t),t.child=e.child,t.flags|=128,t=null):(Fn(t),r=n.fallback,l=t.mode,n=rr({mode:"visible",children:n.children},l),r=Nl(r,l,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Tl(t,e.child,null,a),n=t.child,n.memoizedState=Fc(a),n.childLanes=Ic(e,s,a),t.memoizedState=zc,t=rs(null,n));else if(zn(t),Xu(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var m=s.dgst;s=m,n=Error(U(419)),n.stack="",n.digest=s,ws({value:n,source:null,stack:null}),t=qc(e,t,a)}else if(Tt||Ri(e,t,a,!1),s=(a&e.childLanes)!==0,Tt||s){if(s=nt,s!==null&&(n=Vm(s,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,_l(e,n),aa(s,e,n),Ud;ju(r)||fr(),t=qc(e,t,a)}else ju(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ct=Ra(r.nextSibling),Pt=t,ze=!0,Kn=null,wa=!1,e!==null&&fp(t,e),t=ku(t,n.children),t.flags|=4096);return t}return l?(Fn(t),r=n.fallback,l=t.mode,c=e.child,m=c.sibling,n=vn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,m!==null?r=vn(m,r):(r=Nl(r,l,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,rs(null,n),n=t.child,r=e.child.memoizedState,r===null?r=Fc(a):(l=r.cachePool,l!==null?(c=Et._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=pp(),r={baseLanes:r.baseLanes|a,cachePool:l}),n.memoizedState=r,n.childLanes=Ic(e,s,a),t.memoizedState=zc,rs(e.child,n)):(zn(t),a=e.child,e=a.sibling,a=vn(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=a,t.memoizedState=null,a)}function ku(e,t){return t=rr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rr(e,t){return e=ca(22,e,null,t),e.lanes=0,e}function qc(e,t,a){return Tl(t,e.child,null,a),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Nu(e.return,t,a)}function Gc(e,t,a,n,l,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:l,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=l,s.treeForkCount=i)}function ob(e,t,a){var n=t.pendingProps,l=n.revealOrder,i=n.tail;n=n.children;var s=Nt.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,it(Nt,s),Vt(e,t,n,a),n=ze?Ts:0,!r&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,t);else if(e.tag===19)Yf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(a=t.child,l=null;a!==null;)e=a.alternate,e!==null&&lr(e)===null&&(l=a),a=a.sibling;a=l,a===null?(l=t.child,t.child=null):(l=a.sibling,a.sibling=null),Gc(t,!1,l,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&lr(e)===null){t.child=l;break}e=l.sibling,l.sibling=a,a=l,l=e}Gc(t,!0,a,null,i,n);break;case"together":Gc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Mn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),sl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ri(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,a=vn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=vn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function _d(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tr(e)))}function Tx(e,t,a){switch(t.tag){case 3:Zo(t,t.stateNode.containerInfo),Hn(t,Et,e.memoizedState.cache),Ml();break;case 27:case 5:ru(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Tu(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(zn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?sb(e,t,a):(zn(t),e=Mn(e,t,a),e!==null?e.sibling:null);zn(t);break;case 19:var l=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Ri(e,t,a,!1),n=(a&t.childLanes)!==0),l){if(n)return ob(e,t,a);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),it(Nt,Nt.current),n)break;return null;case 22:return t.lanes=0,ib(e,t,a,t.pendingProps);case 24:Hn(t,Et,e.memoizedState.cache)}return Mn(e,t,a)}function rb(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Tt=!0;else{if(!_d(e,a)&&(t.flags&128)===0)return Tt=!1,Tx(e,t,a);Tt=(e.flags&131072)!==0}else Tt=!1,ze&&(t.flags&1048576)!==0&&dp(t,Ts,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=xl(t.elementType),t.type=e,typeof e=="function")dd(e)?(n=Ol(e,n),t.tag=1,t=qf(null,t,e,n,a)):(t.tag=0,t=_u(null,t,e,n,a));else{if(e!=null){var l=e.$$typeof;if(l===$u){t.tag=11,t=Pf(null,t,e,n,a);break e}else if(l===Wu){t.tag=14,t=Hf(null,t,e,n,a);break e}}throw t=su(e)||e,Error(U(306,t,""))}}return t;case 0:return _u(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,l=Ol(n,t.pendingProps),qf(e,t,n,l,a);case 3:e:{if(Zo(t,t.stateNode.containerInfo),e===null)throw Error(U(387));n=t.pendingProps;var i=t.memoizedState;l=i.element,Au(e,t),gs(t,n,null,a);var s=t.memoizedState;if(n=s.cache,Hn(t,Et,n),n!==i.cache&&yu(t,[Et],a,!0),bs(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Gf(e,t,n,a);break e}else if(n!==l){l=Ta(Error(U(424)),t),ws(l),t=Gf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=Ra(e.firstChild),Pt=t,ze=!0,Kn=null,wa=!0,a=hp(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ml(),n===l){t=Mn(e,t,a);break e}Vt(e,t,n,a)}t=t.child}return t;case 26:return Fo(e,t),e===null?(a=mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ze||(a=t.type,e=t.pendingProps,n=gr(Zn.current).createElement(a),n[Lt]=t,n[na]=e,zt(n,a,e),kt(n),t.stateNode=n):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ru(t),e===null&&ze&&(n=t.stateNode=Wb(t.type,t.pendingProps,Zn.current),Pt=t,wa=!0,l=ct,rl(t.type)?(Zu=l,ct=Ra(n.firstChild)):ct=l),Vt(e,t,t.pendingProps.children,a),Fo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((l=n=ct)&&(n=t2(n,t.type,t.pendingProps,wa),n!==null?(t.stateNode=n,Pt=t,ct=Ra(n.firstChild),wa=!1,l=!0):l=!1),l||ll(t)),ru(t),l=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,n=i.children,Gu(l,i)?n=null:s!==null&&Gu(l,s)&&(t.flags|=32),t.memoizedState!==null&&(l=Cd(e,t,xx,null,null,a),ks._currentValue=l),Fo(e,t),Vt(e,t,n,a),t.child;case 6:return e===null&&ze&&((e=a=ct)&&(a=a2(a,t.pendingProps,wa),a!==null?(t.stateNode=a,Pt=t,ct=null,e=!0):e=!1),e||ll(t)),null;case 13:return sb(e,t,a);case 4:return Zo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tl(t,null,n,a):Vt(e,t,n,a),t.child;case 11:return Pf(e,t,t.type,t.pendingProps,a);case 7:return Vt(e,t,t.pendingProps,a),t.child;case 8:return Vt(e,t,t.pendingProps.children,a),t.child;case 12:return Vt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Hn(t,t.type,n.value),Vt(e,t,n.children,a),t.child;case 9:return l=t.type._context,n=t.pendingProps.children,El(t),l=Ht(l),n=n(l),t.flags|=1,Vt(e,t,n,a),t.child;case 14:return Hf(e,t,t.type,t.pendingProps,a);case 15:return lb(e,t,t.type,t.pendingProps,a);case 19:return ob(e,t,a);case 31:return Ex(e,t,a);case 22:return ib(e,t,a,t.pendingProps);case 24:return El(t),n=Ht(Et),e===null?(l=bd(),l===null&&(l=nt,i=pd(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=a),l=i),t.memoizedState={parent:n,cache:l},hd(t),Hn(t,Et,l)):((e.lanes&a)!==0&&(Au(e,t),gs(t,null,null,a),bs()),l=e.memoizedState,i=t.memoizedState,l.parent!==n?(l={parent:n,cache:n},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Hn(t,Et,n)):(n=i.cache,Hn(t,Et,n),n!==l.cache&&yu(t,[Et],a,!0))),Vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function un(e){e.flags|=4}function Yc(e,t,a,n,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(Ub())e.flags|=8192;else throw Sl=ar,gd}else e.flags&=-16777217}function jf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tg(t))if(Ub())e.flags|=8192;else throw Sl=ar,gd}function Mo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_m():536870912,e.lanes|=t,Si|=t)}function ts(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags&65011712,n|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)a|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function wx(e,t,a){var n=t.pendingProps;switch(md(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cn(Et),hi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?un(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vc())),rt(t),null;case 26:var l=t.type,i=t.memoizedState;return e===null?(un(t),i!==null?(rt(t),jf(t,i)):(rt(t),Yc(t,l,null,n,a))):i?i!==e.memoizedState?(un(t),rt(t),jf(t,i)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&un(t),rt(t),Yc(t,l,e,n,a)),null;case 27:if(Ko(t),a=Zn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&un(t);else{if(!n){if(t.stateNode===null)throw Error(U(166));return rt(t),null}e=Wa.current,Zl(t)?Nf(t,e):(e=Wb(l,n,a),t.stateNode=e,un(t))}return rt(t),null;case 5:if(Ko(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&un(t);else{if(!n){if(t.stateNode===null)throw Error(U(166));return rt(t),null}if(i=Wa.current,Zl(t))Nf(t,i);else{var s=gr(Zn.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?s.createElement(l,{is:n.is}):s.createElement(l)}}i[Lt]=t,i[na]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(zt(i,l,n),l){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&un(t)}}return rt(t),Yc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&un(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(U(166));if(e=Zn.current,Zl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,l=Pt,l!==null)switch(l.tag){case 27:case 5:n=l.memoizedProps}e[Lt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Zb(e.nodeValue,a)),e||ll(t,!0)}else e=gr(e).createTextNode(n),e[Lt]=t,t.stateNode=e}return rt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Zl(t),a!==null){if(e===null){if(!n)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[Lt]=t}else Ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else a=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ra(t),t):(ra(t),null);if((t.flags&128)!==0)throw Error(U(558))}return rt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=Zl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Lt]=t}else Ml(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),l=!1}else l=Vc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(ra(t),t):(ra(t),null)}return ra(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,l=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(l=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Mo(t,t.updateQueue),rt(t),null);case 4:return hi(),e===null&&zd(t.stateNode.containerInfo),rt(t),null;case 10:return Cn(t.type),rt(t),null;case 19:if(Bt(Nt),n=t.memoizedState,n===null)return rt(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)ts(n,!1);else{if(Ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=lr(e),i!==null){for(t.flags|=128,ts(n,!1),e=i.updateQueue,t.updateQueue=e,Mo(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cp(a,e),a=a.sibling;return it(Nt,Nt.current&1|2),ze&&pn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&da()>ur&&(t.flags|=128,l=!0,ts(n,!1),t.lanes=4194304)}else{if(!l)if(e=lr(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Mo(t,e),ts(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ze)return rt(t),null}else 2*da()-n.renderingStartTime>ur&&a!==536870912&&(t.flags|=128,l=!0,ts(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=da(),e.sibling=null,a=Nt.current,it(Nt,l?a&1|2:a&1),ze&&pn(t,n.treeForkCount),e):(rt(t),null);case 22:case 23:return ra(t),xd(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),a=t.updateQueue,a!==null&&Mo(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Bt(yl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cn(Et),rt(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function Ox(e,t){switch(md(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cn(Et),hi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ko(t),null;case 31:if(t.memoizedState!==null){if(ra(t),t.alternate===null)throw Error(U(340));Ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bt(Nt),null;case 4:return hi(),null;case 10:return Cn(t.type),null;case 22:case 23:return ra(t),xd(),e!==null&&Bt(yl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cn(Et),null;case 25:return null;default:return null}}function cb(e,t){switch(md(t),t.tag){case 3:Cn(Et),hi();break;case 26:case 27:case 5:Ko(t);break;case 4:hi();break;case 31:t.memoizedState!==null&&ra(t);break;case 13:ra(t);break;case 19:Bt(Nt);break;case 10:Cn(t.type);break;case 22:case 23:ra(t),xd(),e!==null&&Bt(yl);break;case 24:Cn(Et)}}function Ys(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var l=n.next;a=l;do{if((a.tag&e)===e){n=void 0;var i=a.create,s=a.inst;n=i(),s.destroy=n}a=a.next}while(a!==l)}}catch(r){et(t,t.return,r)}}function il(e,t,a){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var i=l.next;n=i;do{if((n.tag&e)===e){var s=n.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,l=t;var c=a,m=r;try{m()}catch(g){et(l,c,g)}}}n=n.next}while(n!==i)}}catch(g){et(t,t.return,g)}}function ub(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{vp(t,a)}catch(n){et(e,e.return,n)}}}function db(e,t,a){a.props=Ol(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){et(e,t,n)}}function xs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(l){et(e,t,l)}}function $a(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(l){et(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(l){et(e,t,l)}else a.current=null}function fb(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(l){et(e,e.return,l)}}function jc(e,t,a){try{var n=e.stateNode;Kx(n,e.type,a,t),n[na]=t}catch(l){et(e,e.return,l)}}function mb(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&rl(e.type)||e.tag===4}function Xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&rl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=hn));else if(n!==4&&(n===27&&rl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Bu(e,t,a),e=e.sibling;e!==null;)Bu(e,t,a),e=e.sibling}function cr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&rl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cr(e,t,a),e=e.sibling;e!==null;)cr(e,t,a),e=e.sibling}function pb(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);zt(t,n,a),t[Lt]=e,t[na]=a}catch(i){et(e,e.return,i)}}var bn=!1,Mt=!1,Zc=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Rx(e,t){if(e=e.containerInfo,Iu=Cr,e=tp(e),rd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var s=0,r=-1,c=-1,m=0,g=0,C=e,v=null;t:for(;;){for(var h;C!==a||l!==0&&C.nodeType!==3||(r=s+l),C!==i||n!==0&&C.nodeType!==3||(c=s+n),C.nodeType===3&&(s+=C.nodeValue.length),(h=C.firstChild)!==null;)v=C,C=h;for(;;){if(C===e)break t;if(v===a&&++m===l&&(r=s),v===i&&++g===n&&(c=s),(h=C.nextSibling)!==null)break;C=v,v=C.parentNode}C=h}a=r===-1||c===-1?null:{start:r,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(qu={focusedElem:e,selectionRange:a},Cr=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){switch(t=_t,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)l=e[a],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,l=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var S=Ol(a.type,l);e=n.getSnapshotBeforeUpdate(S,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(w){et(a,a.return,w)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Yu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}}function bb(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:fn(e,a),n&4&&Ys(5,a);break;case 1:if(fn(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(s){et(a,a.return,s)}else{var l=Ol(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){et(a,a.return,s)}}n&64&&ub(a),n&512&&xs(a,a.return);break;case 3:if(fn(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{vp(e,t)}catch(s){et(a,a.return,s)}}break;case 27:t===null&&n&4&&pb(a);case 26:case 5:fn(e,a),t===null&&n&4&&fb(a),n&512&&xs(a,a.return);break;case 12:fn(e,a);break;case 31:fn(e,a),n&4&&xb(e,a);break;case 13:fn(e,a),n&4&&vb(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Hx.bind(null,a),n2(e,a))));break;case 22:if(n=a.memoizedState!==null||bn,!n){t=t!==null&&t.memoizedState!==null||Mt,l=bn;var i=Mt;bn=n,(Mt=t)&&!i?mn(e,a,(a.subtreeFlags&8772)!==0):fn(e,a),bn=l,Mt=i}break;case 30:break;default:fn(e,a)}}function gb(e){var t=e.alternate;t!==null&&(e.alternate=null,gb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ad(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,ea=!1;function dn(e,t,a){for(a=a.child;a!==null;)hb(e,t,a),a=a.sibling}function hb(e,t,a){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Ps,a)}catch{}switch(a.tag){case 26:Mt||$a(a,t),dn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||$a(a,t);var n=mt,l=ea;rl(a.type)&&(mt=a.stateNode,ea=!1),dn(e,t,a),ys(a.stateNode),mt=n,ea=l;break;case 5:Mt||$a(a,t);case 6:if(n=mt,l=ea,mt=null,dn(e,t,a),mt=n,ea=l,mt!==null)if(ea)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(i){et(a,t,i)}else try{mt.removeChild(a.stateNode)}catch(i){et(a,t,i)}break;case 18:mt!==null&&(ea?(e=mt,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ti(e)):rm(mt,a.stateNode));break;case 4:n=mt,l=ea,mt=a.stateNode.containerInfo,ea=!0,dn(e,t,a),mt=n,ea=l;break;case 0:case 11:case 14:case 15:il(2,a,t),Mt||il(4,a,t),dn(e,t,a);break;case 1:Mt||($a(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&db(a,t,n)),dn(e,t,a);break;case 21:dn(e,t,a);break;case 22:Mt=(n=Mt)||a.memoizedState!==null,dn(e,t,a),Mt=n;break;default:dn(e,t,a)}}function xb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(a){et(t,t.return,a)}}}function vb(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(a){et(t,t.return,a)}}function Dx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xf),t;default:throw Error(U(435,e.tag))}}function Eo(e,t){var a=Dx(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var l=zx.bind(null,e,n);n.then(l,l)}})}function Wt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var l=a[n],i=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(rl(r.type)){mt=r.stateNode,ea=!1;break e}break;case 5:mt=r.stateNode,ea=!1;break e;case 3:case 4:mt=r.stateNode.containerInfo,ea=!0;break e}r=r.return}if(mt===null)throw Error(U(160));hb(i,s,l),mt=null,ea=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cb(t,e),t=t.sibling}var Fa=null;function Cb(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),Jt(e),n&4&&(il(3,e,e.return),Ys(3,e),il(5,e,e.return));break;case 1:Wt(t,e),Jt(e),n&512&&(Mt||a===null||$a(a,a.return)),n&64&&bn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var l=Fa;if(Wt(t,e),Jt(e),n&512&&(Mt||a===null||$a(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,l=l.ownerDocument||l;t:switch(n){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Fs]||i[Lt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(n),l.head.insertBefore(i,l.querySelector("head > title"))),zt(i,n,a),i[Lt]=e,kt(i),n=i;break e;case"link":var s=bm("link","href",l).get(n+(a.href||""));if(s){for(var r=0;r<s.length;r++)if(i=s[r],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){s.splice(r,1);break t}}i=l.createElement(n),zt(i,n,a),l.head.appendChild(i);break;case"meta":if(s=bm("meta","content",l).get(n+(a.content||""))){for(r=0;r<s.length;r++)if(i=s[r],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){s.splice(r,1);break t}}i=l.createElement(n),zt(i,n,a),l.head.appendChild(i);break;default:throw Error(U(468,n))}i[Lt]=e,kt(i),n=i}e.stateNode=n}else gm(l,e.type,e.stateNode);else e.stateNode=pm(l,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?gm(l,e.type,e.stateNode):pm(l,n,e.memoizedProps)):n===null&&e.stateNode!==null&&jc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Wt(t,e),Jt(e),n&512&&(Mt||a===null||$a(a,a.return)),a!==null&&n&4&&jc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Wt(t,e),Jt(e),n&512&&(Mt||a===null||$a(a,a.return)),e.flags&32){l=e.stateNode;try{vi(l,"")}catch(S){et(e,e.return,S)}}n&4&&e.stateNode!=null&&(l=e.memoizedProps,jc(e,l,a!==null?a.memoizedProps:l)),n&1024&&(Zc=!0);break;case 6:if(Wt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(U(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(S){et(e,e.return,S)}}break;case 3:if(Go=null,l=Fa,Fa=hr(t.containerInfo),Wt(t,e),Fa=l,Jt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(S){et(e,e.return,S)}Zc&&(Zc=!1,Nb(e));break;case 4:n=Fa,Fa=hr(e.stateNode.containerInfo),Wt(t,e),Jt(e),Fa=n;break;case 12:Wt(t,e),Jt(e);break;case 31:Wt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Eo(e,n)));break;case 13:Wt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_r=da()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Eo(e,n)));break;case 22:l=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,m=bn,g=Mt;if(bn=m||l,Mt=g||c,Wt(t,e),Mt=g,bn=m,Jt(e),n&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(a===null||c||bn||Mt||vl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(i=c.stateNode,l)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var C=c.memoizedProps.style,v=C!=null&&C.hasOwnProperty("display")?C.display:null;r.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(S){et(c,c.return,S)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(S){et(c,c.return,S)}}}else if(t.tag===18){if(a===null){c=t;try{var h=c.stateNode;l?cm(h,!0):cm(c.stateNode,!1)}catch(S){et(c,c.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Eo(e,a))));break;case 19:Wt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Eo(e,n)));break;case 30:break;case 21:break;default:Wt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(mb(n)){a=n;break}n=n.return}if(a==null)throw Error(U(160));switch(a.tag){case 27:var l=a.stateNode,i=Xc(e);cr(e,i,l);break;case 5:var s=a.stateNode;a.flags&32&&(vi(s,""),a.flags&=-33);var r=Xc(e);cr(e,r,s);break;case 3:case 4:var c=a.stateNode.containerInfo,m=Xc(e);Bu(e,m,c);break;default:throw Error(U(161))}}catch(g){et(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nb(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nb(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bb(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),vl(t);break;case 1:$a(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&db(t,t.return,a),vl(t);break;case 27:ys(t.stateNode);case 26:case 5:$a(t,t.return),vl(t);break;case 22:t.memoizedState===null&&vl(t);break;case 30:vl(t);break;default:vl(t)}e=e.sibling}}function mn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,l=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:mn(l,i,a),Ys(4,i);break;case 1:if(mn(l,i,a),n=i,l=n.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(m){et(n,n.return,m)}if(n=i,l=n.updateQueue,l!==null){var r=n.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)xp(c[l],r)}catch(m){et(n,n.return,m)}}a&&s&64&&ub(i),xs(i,i.return);break;case 27:pb(i);case 26:case 5:mn(l,i,a),a&&n===null&&s&4&&fb(i),xs(i,i.return);break;case 12:mn(l,i,a);break;case 31:mn(l,i,a),a&&s&4&&xb(l,i);break;case 13:mn(l,i,a),a&&s&4&&vb(l,i);break;case 22:i.memoizedState===null&&mn(l,i,a),xs(i,i.return);break;case 30:break;default:mn(l,i,a)}t=t.sibling}}function kd(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qs(a))}function Bd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e))}function za(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yb(e,t,a,n),t=t.sibling}function yb(e,t,a,n){var l=t.flags;switch(t.tag){case 0:case 11:case 15:za(e,t,a,n),l&2048&&Ys(9,t);break;case 1:za(e,t,a,n);break;case 3:za(e,t,a,n),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e)));break;case 12:if(l&2048){za(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,r=i.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){et(t,t.return,c)}}else za(e,t,a,n);break;case 31:za(e,t,a,n);break;case 13:za(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,t.memoizedState!==null?i._visibility&2?za(e,t,a,n):vs(e,t):i._visibility&2?za(e,t,a,n):(i._visibility|=2,Ql(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),l&2048&&kd(s,t);break;case 24:za(e,t,a,n),l&2048&&Bd(t.alternate,t);break;default:za(e,t,a,n)}}function Ql(e,t,a,n,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,s=t,r=a,c=n,m=s.flags;switch(s.tag){case 0:case 11:case 15:Ql(i,s,r,c,l),Ys(8,s);break;case 23:break;case 22:var g=s.stateNode;s.memoizedState!==null?g._visibility&2?Ql(i,s,r,c,l):vs(i,s):(g._visibility|=2,Ql(i,s,r,c,l)),l&&m&2048&&kd(s.alternate,s);break;case 24:Ql(i,s,r,c,l),l&&m&2048&&Bd(s.alternate,s);break;default:Ql(i,s,r,c,l)}t=t.sibling}}function vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,l=n.flags;switch(n.tag){case 22:vs(a,n),l&2048&&kd(n.alternate,n);break;case 24:vs(a,n),l&2048&&Bd(n.alternate,n);break;default:vs(a,n)}t=t.sibling}}var cs=8192;function Kl(e,t,a){if(e.subtreeFlags&cs)for(e=e.child;e!==null;)Sb(e,t,a),e=e.sibling}function Sb(e,t,a){switch(e.tag){case 26:Kl(e,t,a),e.flags&cs&&e.memoizedState!==null&&b2(a,Fa,e.memoizedState,e.memoizedProps);break;case 5:Kl(e,t,a);break;case 3:case 4:var n=Fa;Fa=hr(e.stateNode.containerInfo),Kl(e,t,a),Fa=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=cs,cs=16777216,Kl(e,t,a),cs=n):Kl(e,t,a));break;default:Kl(e,t,a)}}function Ab(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function as(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_t=n,Eb(n,e)}Ab(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mb(e),e=e.sibling}function Mb(e){switch(e.tag){case 0:case 11:case 15:as(e),e.flags&2048&&il(9,e,e.return);break;case 3:as(e);break;case 12:as(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Io(e)):as(e);break;default:as(e)}}function Io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_t=n,Eb(n,e)}Ab(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:il(8,t,t.return),Io(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Io(t));break;default:Io(t)}e=e.sibling}}function Eb(e,t){for(;_t!==null;){var a=_t;switch(a.tag){case 0:case 11:case 15:il(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:qs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,_t=n;else e:for(a=e;_t!==null;){n=_t;var l=n.sibling,i=n.return;if(gb(n),n===a){_t=null;break e}if(l!==null){l.return=i,_t=l;break e}_t=i}}}var Ux={getCacheForType:function(e){var t=Ht(Et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ht(Et).controller.signal}},_x=typeof WeakMap=="function"?WeakMap:Map,Xe=0,nt=null,Be=null,Le=0,Je=0,oa=null,Yn=!1,Ui=!1,Vd=!1,En=0,Ct=0,sl=0,Al=0,Ld=0,ua=0,Si=0,Cs=null,ta=null,Vu=!1,_r=0,Tb=0,ur=1/0,dr=null,Wn=null,Rt=0,Jn=null,Ai=null,Nn=0,Lu=0,Pu=null,wb=null,Ns=0,Hu=null;function pa(){return(Xe&2)!==0&&Le!==0?Le&-Le:de.T!==null?Hd():Lm()}function Ob(){if(ua===0)if((Le&536870912)===0||ze){var e=go;go<<=1,(go&3932160)===0&&(go=262144),ua=e}else ua=536870912;return e=ga.current,e!==null&&(e.flags|=32),ua}function aa(e,t,a){(e===nt&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Mi(e,0),jn(e,Le,ua,!1)),zs(e,a),((Xe&2)===0||e!==nt)&&(e===nt&&((Xe&2)===0&&(Al|=a),Ct===4&&jn(e,Le,ua,!1)),en(e))}function Rb(e,t,a){if((Xe&6)!==0)throw Error(U(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Hs(e,t),l=n?Vx(e,t):Kc(e,t,!0),i=n;do{if(l===0){Ui&&!n&&jn(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!kx(a)){l=Kc(e,t,!1),i=!1;continue}if(l===2){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;l=Cs;var c=r.current.memoizedState.isDehydrated;if(c&&(Mi(r,s).flags|=256),s=Kc(r,s,!1),s!==2){if(Vd&&!c){r.errorRecoveryDisabledLanes|=i,Al|=i,l=4;break e}i=ta,ta=l,i!==null&&(ta===null?ta=i:ta.push.apply(ta,i))}l=s}if(i=!1,l!==2)continue}}if(l===1){Mi(e,0),jn(e,t,0,!0);break}e:{switch(n=e,i=l,i){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:jn(n,t,ua,!Yn);break e;case 2:ta=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(l=_r+300-da(),10<l)){if(jn(n,t,ua,!Yn),yr(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=Qb(Zf.bind(null,n,a,ta,dr,Vu,t,ua,Al,Si,Yn,i,"Throttled",-0,0),l);break e}Zf(n,a,ta,dr,Vu,t,ua,Al,Si,Yn,i,null,-0,0)}}break}while(!0);en(e)}function Zf(e,t,a,n,l,i,s,r,c,m,g,C,v,h){if(e.timeoutHandle=-1,C=t.subtreeFlags,C&8192||(C&16785408)===16785408){C={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Sb(t,i,C);var S=(i&62914560)===i?_r-da():(i&4194048)===i?Tb-da():0;if(S=g2(C,S),S!==null){Nn=i,e.cancelPendingCommit=S(Qf.bind(null,e,t,i,a,n,l,s,r,c,g,C,null,v,h)),jn(e,i,s,!m);return}}Qf(e,t,i,a,n,l,s,r,c)}function kx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var l=a[n],i=l.getSnapshot;l=l.value;try{if(!ba(i(),l))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t,a,n){t&=~Ld,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var l=t;0<l;){var i=31-ma(l),s=1<<i;n[i]=-1,l&=~s}a!==0&&km(e,a,t)}function kr(){return(Xe&6)===0?(js(0,!1),!1):!0}function Pd(){if(Be!==null){if(Je===0)var e=Be.return;else e=Be,xn=kl=null,Sd(e),pi=null,Os=0,e=Be;for(;e!==null;)cb(e.alternate,e),e=e.return;Be=null}}function Mi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Wx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nn=0,Pd(),nt=e,Be=a=vn(e.current,null),Le=t,Je=0,oa=null,Yn=!1,Ui=Hs(e,t),Vd=!1,Si=ua=Ld=Al=sl=Ct=0,ta=Cs=null,Vu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var l=31-ma(n),i=1<<l;t|=e[l],n&=~i}return En=t,Er(),a}function Db(e,t){Ae=null,de.H=Ds,t===Di||t===wr?(t=Ef(),Je=3):t===gd?(t=Ef(),Je=4):Je=t===Ud?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,oa=t,Be===null&&(Ct=1,or(e,Ta(t,e.current)))}function Ub(){var e=ga.current;return e===null?!0:(Le&4194048)===Le?Oa===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Oa:!1}function _b(){var e=de.H;return de.H=Ds,e===null?Ds:e}function kb(){var e=de.A;return de.A=Ux,e}function fr(){Ct=4,Yn||(Le&4194048)!==Le&&ga.current!==null||(Ui=!0),(sl&134217727)===0&&(Al&134217727)===0||nt===null||jn(nt,Le,ua,!1)}function Kc(e,t,a){var n=Xe;Xe|=2;var l=_b(),i=kb();(nt!==e||Le!==t)&&(dr=null,Mi(e,t)),t=!1;var s=Ct;e:do try{if(Je!==0&&Be!==null){var r=Be,c=oa;switch(Je){case 8:Pd(),s=6;break e;case 3:case 2:case 9:case 6:ga.current===null&&(t=!0);var m=Je;if(Je=0,oa=null,ci(e,r,c,m),a&&Ui){s=0;break e}break;default:m=Je,Je=0,oa=null,ci(e,r,c,m)}}Bx(),s=Ct;break}catch(g){Db(e,g)}while(!0);return t&&e.shellSuspendCounter++,xn=kl=null,Xe=n,de.H=l,de.A=i,Be===null&&(nt=null,Le=0,Er()),s}function Bx(){for(;Be!==null;)Bb(Be)}function Vx(e,t){var a=Xe;Xe|=2;var n=_b(),l=kb();nt!==e||Le!==t?(dr=null,ur=da()+500,Mi(e,t)):Ui=Hs(e,t);e:do try{if(Je!==0&&Be!==null){t=Be;var i=oa;t:switch(Je){case 1:Je=0,oa=null,ci(e,t,i,1);break;case 2:case 9:if(Mf(i)){Je=0,oa=null,Kf(t);break}t=function(){Je!==2&&Je!==9||nt!==e||(Je=7),en(e)},i.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Mf(i)?(Je=0,oa=null,Kf(t)):(Je=0,oa=null,ci(e,t,i,7));break;case 5:var s=null;switch(Be.tag){case 26:s=Be.memoizedState;case 5:case 27:var r=Be;if(s?tg(s):r.stateNode.complete){Je=0,oa=null;var c=r.sibling;if(c!==null)Be=c;else{var m=r.return;m!==null?(Be=m,Br(m)):Be=null}break t}}Je=0,oa=null,ci(e,t,i,5);break;case 6:Je=0,oa=null,ci(e,t,i,6);break;case 8:Pd(),Ct=6;break e;default:throw Error(U(462))}}Lx();break}catch(g){Db(e,g)}while(!0);return xn=kl=null,de.H=n,de.A=l,Xe=a,Be!==null?0:(nt=null,Le=0,Er(),Ct)}function Lx(){for(;Be!==null&&!sh();)Bb(Be)}function Bb(e){var t=rb(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?Br(e):Be=t}function Kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=If(a,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=If(a,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:Sd(t);default:cb(a,t),t=Be=cp(t,En),t=rb(a,t,En)}e.memoizedProps=e.pendingProps,t===null?Br(e):Be=t}function ci(e,t,a,n){xn=kl=null,Sd(t),pi=null,Os=0;var l=t.return;try{if(Mx(e,l,t,a,Le)){Ct=1,or(e,Ta(a,e.current)),Be=null;return}}catch(i){if(l!==null)throw Be=l,i;Ct=1,or(e,Ta(a,e.current)),Be=null;return}t.flags&32768?(ze||n===1?e=!0:Ui||(Le&536870912)!==0?e=!1:(Yn=e=!0,(n===2||n===9||n===3||n===6)&&(n=ga.current,n!==null&&n.tag===13&&(n.flags|=16384))),Vb(t,e)):Br(t)}function Br(e){var t=e;do{if((t.flags&32768)!==0){Vb(t,Yn);return}e=t.return;var a=wx(t.alternate,t,En);if(a!==null){Be=a;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ct===0&&(Ct=5)}function Vb(e,t){do{var a=Ox(e.alternate,e);if(a!==null){a.flags&=32767,Be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=a}while(e!==null);Ct=6,Be=null}function Qf(e,t,a,n,l,i,s,r,c){e.cancelPendingCommit=null;do Vr();while(Rt!==0);if((Xe&6)!==0)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(i=t.lanes|t.childLanes,i|=cd,gh(e,a,i,s,r,c),e===nt&&(Be=nt=null,Le=0),Ai=t,Jn=e,Nn=a,Lu=i,Pu=l,wb=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fx(Qo,function(){return Fb(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=de.T,de.T=null,l=Ze.p,Ze.p=2,s=Xe,Xe|=4;try{Rx(e,t,a)}finally{Xe=s,Ze.p=l,de.T=n}}Rt=1,Lb(),Pb(),Hb()}}function Lb(){if(Rt===1){Rt=0;var e=Jn,t=Ai,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=de.T,de.T=null;var n=Ze.p;Ze.p=2;var l=Xe;Xe|=4;try{Cb(t,e);var i=qu,s=tp(e.containerInfo),r=i.focusedElem,c=i.selectionRange;if(s!==r&&r&&r.ownerDocument&&ep(r.ownerDocument.documentElement,r)){if(c!==null&&rd(r)){var m=c.start,g=c.end;if(g===void 0&&(g=m),"selectionStart"in r)r.selectionStart=m,r.selectionEnd=Math.min(g,r.value.length);else{var C=r.ownerDocument||document,v=C&&C.defaultView||window;if(v.getSelection){var h=v.getSelection(),S=r.textContent.length,w=Math.min(c.start,S),R=c.end===void 0?w:Math.min(c.end,S);!h.extend&&w>R&&(s=R,R=w,w=s);var f=xf(r,w),b=xf(r,R);if(f&&b&&(h.rangeCount!==1||h.anchorNode!==f.node||h.anchorOffset!==f.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var N=C.createRange();N.setStart(f.node,f.offset),h.removeAllRanges(),w>R?(h.addRange(N),h.extend(b.node,b.offset)):(N.setEnd(b.node,b.offset),h.addRange(N))}}}}for(C=[],h=r;h=h.parentNode;)h.nodeType===1&&C.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<C.length;r++){var A=C[r];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Cr=!!Iu,qu=Iu=null}finally{Xe=l,Ze.p=n,de.T=a}}e.current=t,Rt=2}}function Pb(){if(Rt===2){Rt=0;var e=Jn,t=Ai,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=de.T,de.T=null;var n=Ze.p;Ze.p=2;var l=Xe;Xe|=4;try{bb(e,t.alternate,t)}finally{Xe=l,Ze.p=n,de.T=a}}Rt=3}}function Hb(){if(Rt===4||Rt===3){Rt=0,oh();var e=Jn,t=Ai,a=Nn,n=wb;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Rt=5:(Rt=0,Ai=Jn=null,zb(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Wn=null),td(a),t=t.stateNode,fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Ps,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=de.T,l=Ze.p,Ze.p=2,de.T=null;try{for(var i=e.onRecoverableError,s=0;s<n.length;s++){var r=n[s];i(r.value,{componentStack:r.stack})}}finally{de.T=t,Ze.p=l}}(Nn&3)!==0&&Vr(),en(e),l=e.pendingLanes,(a&261930)!==0&&(l&42)!==0?e===Hu?Ns++:(Ns=0,Hu=e):Ns=0,js(0,!1)}}function zb(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qs(t)))}function Vr(){return Lb(),Pb(),Hb(),Fb()}function Fb(){if(Rt!==5)return!1;var e=Jn,t=Lu;Lu=0;var a=td(Nn),n=de.T,l=Ze.p;try{Ze.p=32>a?32:a,de.T=null,a=Pu,Pu=null;var i=Jn,s=Nn;if(Rt=0,Ai=Jn=null,Nn=0,(Xe&6)!==0)throw Error(U(331));var r=Xe;if(Xe|=4,Mb(i.current),yb(i,i.current,s,a),Xe=r,js(0,!1),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Ps,i)}catch{}return!0}finally{Ze.p=l,de.T=n,zb(e,t)}}function $f(e,t,a){t=Ta(a,t),t=Uu(e.stateNode,t,2),e=$n(e,t,2),e!==null&&(zs(e,2),en(e))}function et(e,t,a){if(e.tag===3)$f(e,e,a);else for(;t!==null;){if(t.tag===3){$f(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wn===null||!Wn.has(n))){e=Ta(a,e),a=ab(2),n=$n(t,a,2),n!==null&&(nb(a,n,t,e),zs(n,2),en(n));break}}t=t.return}}function Qc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new _x;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(a)||(Vd=!0,l.add(a),e=Px.bind(null,e,t,a),t.then(e,e))}function Px(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,nt===e&&(Le&a)===a&&(Ct===4||Ct===3&&(Le&62914560)===Le&&300>da()-_r?(Xe&2)===0&&Mi(e,0):Ld|=a,Si===Le&&(Si=0)),en(e)}function Ib(e,t){t===0&&(t=_m()),e=_l(e,t),e!==null&&(zs(e,t),en(e))}function Hx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ib(e,a)}function zx(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(a=l.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(U(314))}n!==null&&n.delete(t),Ib(e,a)}function Fx(e,t){return Ju(e,t)}var mr=null,$l=null,zu=!1,pr=!1,$c=!1,Xn=0;function en(e){e!==$l&&e.next===null&&($l===null?mr=$l=e:$l=$l.next=e),pr=!0,zu||(zu=!0,qx())}function js(e,t){if(!$c&&pr){$c=!0;do for(var a=!1,n=mr;n!==null;){if(!t)if(e!==0){var l=n.pendingLanes;if(l===0)var i=0;else{var s=n.suspendedLanes,r=n.pingedLanes;i=(1<<31-ma(42|e)+1)-1,i&=l&~(s&~r),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Wf(n,i))}else i=Le,i=yr(n,n===nt?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||Hs(n,i)||(a=!0,Wf(n,i));n=n.next}while(a);$c=!1}}function Ix(){qb()}function qb(){pr=zu=!1;var e=0;Xn!==0&&$x()&&(e=Xn);for(var t=da(),a=null,n=mr;n!==null;){var l=n.next,i=Gb(n,t);i===0?(n.next=null,a===null?mr=l:a.next=l,l===null&&($l=a)):(a=n,(e!==0||(i&3)!==0)&&(pr=!0)),n=l}Rt!==0&&Rt!==5||js(e,!1),Xn!==0&&(Xn=0)}function Gb(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var s=31-ma(i),r=1<<s,c=l[s];c===-1?((r&a)===0||(r&n)!==0)&&(l[s]=bh(r,t)):c<=t&&(e.expiredLanes|=r),i&=~r}if(t=nt,a=Le,a=yr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ec(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ec(n),td(a)){case 2:case 8:a=Dm;break;case 32:a=Qo;break;case 268435456:a=Um;break;default:a=Qo}return n=Yb.bind(null,e),a=Ju(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ec(n),e.callbackPriority=2,e.callbackNode=null,2}function Yb(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Vr()&&e.callbackNode!==a)return null;var n=Le;return n=yr(e,e===nt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Rb(e,n,t),Gb(e,da()),e.callbackNode!=null&&e.callbackNode===a?Yb.bind(null,e):null)}function Wf(e,t){if(Vr())return null;Rb(e,t,!0)}function qx(){Jx(function(){(Xe&6)!==0?Ju(Rm,Ix):qb()})}function Hd(){if(Xn===0){var e=Ci;e===0&&(e=bo,bo<<=1,(bo&261888)===0&&(bo=256)),Xn=e}return Xn}function Jf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_o(""+e)}function em(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Gx(e,t,a,n,l){if(t==="submit"&&a&&a.stateNode===l){var i=Jf((l[na]||null).action),s=n.submitter;s&&(t=(t=s[na]||null)?Jf(t.formAction):s.getAttribute("formAction"),t!==null&&(i=t,s=null));var r=new Sr("action","action",null,n,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Xn!==0){var c=s?em(l,s):new FormData(l);Ru(a,{pending:!0,data:c,method:l.method,action:i},null,c)}}else typeof i=="function"&&(r.preventDefault(),c=s?em(l,s):new FormData(l),Ru(a,{pending:!0,data:c,method:l.method,action:i},i,c))},currentTarget:l}]})}}for(To=0;To<xu.length;To++)wo=xu[To],tm=wo.toLowerCase(),am=wo[0].toUpperCase()+wo.slice(1),Ia(tm,"on"+am);var wo,tm,am,To;Ia(np,"onAnimationEnd");Ia(lp,"onAnimationIteration");Ia(ip,"onAnimationStart");Ia("dblclick","onDoubleClick");Ia("focusin","onFocus");Ia("focusout","onBlur");Ia(rx,"onTransitionRun");Ia(cx,"onTransitionStart");Ia(ux,"onTransitionCancel");Ia(sp,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function jb(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var r=n[s],c=r.instance,m=r.currentTarget;if(r=r.listener,c!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=m;try{i(l)}catch(g){Wo(g)}l.currentTarget=null,i=c}else for(s=0;s<n.length;s++){if(r=n[s],c=r.instance,m=r.currentTarget,r=r.listener,c!==i&&l.isPropagationStopped())break e;i=r,l.currentTarget=m;try{i(l)}catch(g){Wo(g)}l.currentTarget=null,i=c}}}}function ke(e,t){var a=t[uu];a===void 0&&(a=t[uu]=new Set);var n=e+"__bubble";a.has(n)||(Xb(t,e,2,!1),a.add(n))}function Wc(e,t,a){var n=0;t&&(n|=4),Xb(a,e,n,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function zd(e){if(!e[Oo]){e[Oo]=!0,Pm.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||Wc(a,!1,e),Wc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,Wc("selectionchange",!1,t))}}function Xb(e,t,a,n){switch(sg(t)){case 2:var l=v2;break;case 8:l=C2;break;default:l=Gd}a=l.bind(null,t,a,e),l=void 0,!bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,a,{capture:!0,passive:l}):e.addEventListener(t,a,!0):l!==void 0?e.addEventListener(t,a,{passive:l}):e.addEventListener(t,a,!1)}function Jc(e,t,a,n,l){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var r=n.stateNode.containerInfo;if(r===l)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===l)return;s=s.return}for(;r!==null;){if(s=ei(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){n=i=s;continue e}r=r.parentNode}}n=n.return}jm(function(){var m=i,g=ld(a),C=[];e:{var v=op.get(e);if(v!==void 0){var h=Sr,S=e;switch(e){case"keypress":if(Bo(a)===0)break e;case"keydown":case"keyup":h=zh;break;case"focusin":S="focus",h=Dc;break;case"focusout":S="blur",h=Dc;break;case"beforeblur":case"afterblur":h=Dc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=qh;break;case np:case lp:case ip:h=Dh;break;case sp:h=Yh;break;case"scroll":case"scrollend":h=Eh;break;case"wheel":h=Xh;break;case"copy":case"cut":case"paste":h=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=df;break;case"toggle":case"beforetoggle":h=Kh}var w=(t&4)!==0,R=!w&&(e==="scroll"||e==="scrollend"),f=w?v!==null?v+"Capture":null:v;w=[];for(var b=m,N;b!==null;){var A=b;if(N=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||N===null||f===null||(A=As(b,f),A!=null&&w.push(_s(b,A,N))),R)break;b=b.return}0<w.length&&(v=new h(v,S,null,a,g),C.push({event:v,listeners:w}))}}if((t&7)===0){e:{if(v=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",v&&a!==pu&&(S=a.relatedTarget||a.fromElement)&&(ei(S)||S[wi]))break e;if((h||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,h?(S=a.relatedTarget||a.toElement,h=m,S=S?ei(S):null,S!==null&&(R=Ls(S),w=S.tag,S!==R||w!==5&&w!==27&&w!==6)&&(S=null)):(h=null,S=m),h!==S)){if(w=cf,A="onMouseLeave",f="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=df,A="onPointerLeave",f="onPointerEnter",b="pointer"),R=h==null?v:os(h),N=S==null?v:os(S),v=new w(A,b+"leave",h,a,g),v.target=R,v.relatedTarget=N,A=null,ei(g)===m&&(w=new w(f,b+"enter",S,a,g),w.target=N,w.relatedTarget=R,A=w),R=A,h&&S)t:{for(w=jx,f=h,b=S,N=0,A=f;A;A=w(A))N++;A=0;for(var T=b;T;T=w(T))A++;for(;0<N-A;)f=w(f),N--;for(;0<A-N;)b=w(b),A--;for(;N--;){if(f===b||b!==null&&f===b.alternate){w=f;break t}f=w(f),b=w(b)}w=null}else w=null;h!==null&&nm(C,v,h,w,!1),S!==null&&R!==null&&nm(C,R,S,w,!0)}}e:{if(v=m?os(m):window,h=v.nodeName&&v.nodeName.toLowerCase(),h==="select"||h==="input"&&v.type==="file")var u=bf;else if(pf(v))if(Wm)u=ix;else{u=nx;var M=ax}else h=v.nodeName,!h||h.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?m&&nd(m.elementType)&&(u=bf):u=lx;if(u&&(u=u(e,m))){$m(C,u,a,g);break e}M&&M(e,v,m),e==="focusout"&&m&&v.type==="number"&&m.memoizedProps.value!=null&&mu(v,"number",v.value)}switch(M=m?os(m):window,e){case"focusin":(pf(M)||M.contentEditable==="true")&&(ni=M,gu=m,fs=null);break;case"focusout":fs=gu=ni=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,vf(C,a,g);break;case"selectionchange":if(ox)break;case"keydown":case"keyup":vf(C,a,g)}var D;if(od)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ai?Km(e,a)&&(_="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_="onCompositionStart");_&&(Zm&&a.locale!=="ko"&&(ai||_!=="onCompositionStart"?_==="onCompositionEnd"&&ai&&(D=Xm()):(Gn=g,id="value"in Gn?Gn.value:Gn.textContent,ai=!0)),M=br(m,_),0<M.length&&(_=new uf(_,e,null,a,g),C.push({event:_,listeners:M}),D?_.data=D:(D=Qm(a),D!==null&&(_.data=D)))),(D=$h?Wh(e,a):Jh(e,a))&&(_=br(m,"onBeforeInput"),0<_.length&&(M=new uf("onBeforeInput","beforeinput",null,a,g),C.push({event:M,listeners:_}),M.data=D)),Gx(C,e,m,a,g)}jb(C,t)})}function _s(e,t,a){return{instance:e,listener:t,currentTarget:a}}function br(e,t){for(var a=t+"Capture",n=[];e!==null;){var l=e,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=As(e,a),l!=null&&n.unshift(_s(e,l,i)),l=As(e,t),l!=null&&n.push(_s(e,l,i))),e.tag===3)return n;e=e.return}return[]}function jx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function nm(e,t,a,n,l){for(var i=t._reactName,s=[];a!==null&&a!==n;){var r=a,c=r.alternate,m=r.stateNode;if(r=r.tag,c!==null&&c===n)break;r!==5&&r!==26&&r!==27||m===null||(c=m,l?(m=As(a,i),m!=null&&s.unshift(_s(a,m,c))):l||(m=As(a,i),m!=null&&s.push(_s(a,m,c)))),a=a.return}s.length!==0&&e.push({event:t,listeners:s})}var Xx=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function lm(e){return(typeof e=="string"?e:""+e).replace(Xx,`
`).replace(Zx,"")}function Zb(e,t){return t=lm(t),lm(e)===t}function tt(e,t,a,n,l,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||vi(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&vi(e,""+n);break;case"className":xo(e,"class",n);break;case"tabIndex":xo(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(e,a,n);break;case"style":Ym(e,n,i);break;case"data":if(t!=="object"){xo(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=_o(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&tt(e,t,"name",l.name,l,null),tt(e,t,"formEncType",l.formEncType,l,null),tt(e,t,"formMethod",l.formMethod,l,null),tt(e,t,"formTarget",l.formTarget,l,null)):(tt(e,t,"encType",l.encType,l,null),tt(e,t,"method",l.method,l,null),tt(e,t,"target",l.target,l,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=_o(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=hn);break;case"onScroll":n!=null&&ke("scroll",e);break;case"onScrollEnd":n!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(U(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(U(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=_o(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Uo(e,"popover",n);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Uo(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,Uo(e,a,n))}}function Fu(e,t,a,n,l,i){switch(a){case"style":Ym(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(U(61));if(a=n.__html,a!=null){if(l.children!=null)throw Error(U(60));e.innerHTML=a}}break;case"children":typeof n=="string"?vi(e,n):(typeof n=="number"||typeof n=="bigint")&&vi(e,""+n);break;case"onScroll":n!=null&&ke("scroll",e);break;case"onScrollEnd":n!=null&&ke("scrollend",e);break;case"onClick":n!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(l=a.endsWith("Capture"),t=a.slice(2,l?a.length-7:void 0),i=e[na]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,l),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,l);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Uo(e,a,n)}}}function zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var n=!1,l=!1,i;for(i in a)if(a.hasOwnProperty(i)){var s=a[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:tt(e,t,i,s,a,null)}}l&&tt(e,t,"srcSet",a.srcSet,a,null),n&&tt(e,t,"src",a.src,a,null);return;case"input":ke("invalid",e);var r=i=s=l=null,c=null,m=null;for(n in a)if(a.hasOwnProperty(n)){var g=a[n];if(g!=null)switch(n){case"name":l=g;break;case"type":s=g;break;case"checked":c=g;break;case"defaultChecked":m=g;break;case"value":i=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,t));break;default:tt(e,t,n,g,a,null)}}Im(e,i,r,c,m,s,l,!1);return;case"select":ke("invalid",e),n=s=i=null;for(l in a)if(a.hasOwnProperty(l)&&(r=a[l],r!=null))switch(l){case"value":i=r;break;case"defaultValue":s=r;break;case"multiple":n=r;default:tt(e,t,l,r,a,null)}t=i,a=s,e.multiple=!!n,t!=null?di(e,!!n,t,!1):a!=null&&di(e,!!n,a,!0);return;case"textarea":ke("invalid",e),i=l=n=null;for(s in a)if(a.hasOwnProperty(s)&&(r=a[s],r!=null))switch(s){case"value":n=r;break;case"defaultValue":l=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:tt(e,t,s,r,a,null)}Gm(e,n,l,i);return;case"option":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:tt(e,t,c,n,a,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(n=0;n<Us.length;n++)ke(Us[n],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(m in a)if(a.hasOwnProperty(m)&&(n=a[m],n!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:tt(e,t,m,n,a,null)}return;default:if(nd(t)){for(g in a)a.hasOwnProperty(g)&&(n=a[g],n!==void 0&&Fu(e,t,g,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&tt(e,t,r,n,a,null))}function Kx(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,s=null,r=null,c=null,m=null,g=null;for(h in a){var C=a[h];if(a.hasOwnProperty(h)&&C!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=C;default:n.hasOwnProperty(h)||tt(e,t,h,null,n,C)}}for(var v in n){var h=n[v];if(C=a[v],n.hasOwnProperty(v)&&(h!=null||C!=null))switch(v){case"type":i=h;break;case"name":l=h;break;case"checked":m=h;break;case"defaultChecked":g=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(U(137,t));break;default:h!==C&&tt(e,t,v,h,n,C)}}fu(e,s,r,c,m,g,i,l);return;case"select":h=s=r=v=null;for(i in a)if(c=a[i],a.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":h=c;default:n.hasOwnProperty(i)||tt(e,t,i,null,n,c)}for(l in n)if(i=n[l],c=a[l],n.hasOwnProperty(l)&&(i!=null||c!=null))switch(l){case"value":v=i;break;case"defaultValue":r=i;break;case"multiple":s=i;default:i!==c&&tt(e,t,l,i,n,c)}t=r,a=s,n=h,v!=null?di(e,!!a,v,!1):!!n!=!!a&&(t!=null?di(e,!!a,t,!0):di(e,!!a,a?[]:"",!1));return;case"textarea":h=v=null;for(r in a)if(l=a[r],a.hasOwnProperty(r)&&l!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:tt(e,t,r,null,n,l)}for(s in n)if(l=n[s],i=a[s],n.hasOwnProperty(s)&&(l!=null||i!=null))switch(s){case"value":v=l;break;case"defaultValue":h=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:l!==i&&tt(e,t,s,l,n,i)}qm(e,v,h);return;case"option":for(var S in a)if(v=a[S],a.hasOwnProperty(S)&&v!=null&&!n.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:tt(e,t,S,null,n,v)}for(c in n)if(v=n[c],h=a[c],n.hasOwnProperty(c)&&v!==h&&(v!=null||h!=null))switch(c){case"selected":e.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:tt(e,t,c,v,n,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in a)v=a[w],a.hasOwnProperty(w)&&v!=null&&!n.hasOwnProperty(w)&&tt(e,t,w,null,n,v);for(m in n)if(v=n[m],h=a[m],n.hasOwnProperty(m)&&v!==h&&(v!=null||h!=null))switch(m){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(U(137,t));break;default:tt(e,t,m,v,n,h)}return;default:if(nd(t)){for(var R in a)v=a[R],a.hasOwnProperty(R)&&v!==void 0&&!n.hasOwnProperty(R)&&Fu(e,t,R,void 0,n,v);for(g in n)v=n[g],h=a[g],!n.hasOwnProperty(g)||v===h||v===void 0&&h===void 0||Fu(e,t,g,v,n,h);return}}for(var f in a)v=a[f],a.hasOwnProperty(f)&&v!=null&&!n.hasOwnProperty(f)&&tt(e,t,f,null,n,v);for(C in n)v=n[C],h=a[C],!n.hasOwnProperty(C)||v===h||v==null&&h==null||tt(e,t,C,v,n,h)}function im(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var l=a[n],i=l.transferSize,s=l.initiatorType,r=l.duration;if(i&&r&&im(s)){for(s=0,r=l.responseEnd,n+=1;n<a.length;n++){var c=a[n],m=c.startTime;if(m>r)break;var g=c.transferSize,C=c.initiatorType;g&&im(C)&&(c=c.responseEnd,s+=g*(c<r?1:(r-m)/(c-m)))}if(--n,t+=8*(i+s)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Iu=null,qu=null;function gr(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eu=null;function $x(){var e=window.event;return e&&e.type==="popstate"?e===eu?!1:(eu=e,!0):(eu=null,!1)}var Qb=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(e2)}:Qb;function e2(e){setTimeout(function(){throw e})}function rl(e){return e==="head"}function rm(e,t){var a=t,n=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(l),Ti(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")ys(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ys(a);for(var i=a.firstChild;i;){var s=i.nextSibling,r=i.nodeName;i[Fs]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=s}}else a==="body"&&ys(e.ownerDocument.body);a=l}while(a);Ti(t)}function cm(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yu(a),ad(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function t2(e,t,a,n){for(;e.nodeType===1;){var l=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Fs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ra(e.nextSibling),e===null)break}return null}function a2(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ra(e.nextSibling),e===null))return null;return e}function $b(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ra(e.nextSibling),e===null))return null;return e}function ju(e){return e.data==="$?"||e.data==="$~"}function Xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function n2(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ra(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function dm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Wb(e,t,a){switch(t=gr(a),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ad(e)}var Da=new Map,fm=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=Ze.d;Ze.d={f:l2,r:i2,D:s2,C:o2,L:r2,m:c2,X:d2,S:u2,M:f2};function l2(){var e=Tn.f(),t=kr();return e||t}function i2(e){var t=Oi(e);t!==null&&t.tag===5&&t.type==="form"?Yp(t):Tn.r(e)}var _i=typeof document>"u"?null:document;function Jb(e,t,a){var n=_i;if(n&&typeof t=="string"&&t){var l=Ea(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof a=="string"&&(l+='[crossorigin="'+a+'"]'),fm.has(l)||(fm.add(l),e={rel:e,crossOrigin:a,href:t},n.querySelector(l)===null&&(t=n.createElement("link"),zt(t,"link",e),kt(t),n.head.appendChild(t)))}}function s2(e){Tn.D(e),Jb("dns-prefetch",e,null)}function o2(e,t){Tn.C(e,t),Jb("preconnect",e,t)}function r2(e,t,a){Tn.L(e,t,a);var n=_i;if(n&&e&&t){var l='link[rel="preload"][as="'+Ea(t)+'"]';t==="image"&&a&&a.imageSrcSet?(l+='[imagesrcset="'+Ea(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(l+='[imagesizes="'+Ea(a.imageSizes)+'"]')):l+='[href="'+Ea(e)+'"]';var i=l;switch(t){case"style":i=Ei(e);break;case"script":i=ki(e)}Da.has(i)||(e=ut({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Da.set(i,e),n.querySelector(l)!==null||t==="style"&&n.querySelector(Xs(i))||t==="script"&&n.querySelector(Zs(i))||(t=n.createElement("link"),zt(t,"link",e),kt(t),n.head.appendChild(t)))}}function c2(e,t){Tn.m(e,t);var a=_i;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Ea(n)+'"][href="'+Ea(e)+'"]',i=l;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ki(e)}if(!Da.has(i)&&(e=ut({rel:"modulepreload",href:e},t),Da.set(i,e),a.querySelector(l)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zs(i)))return}n=a.createElement("link"),zt(n,"link",e),kt(n),a.head.appendChild(n)}}}function u2(e,t,a){Tn.S(e,t,a);var n=_i;if(n&&e){var l=ui(n).hoistableStyles,i=Ei(e);t=t||"default";var s=l.get(i);if(!s){var r={loading:0,preload:null};if(s=n.querySelector(Xs(i)))r.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Da.get(i))&&Fd(e,a);var c=s=n.createElement("link");kt(c),zt(c,"link",e),c._p=new Promise(function(m,g){c.onload=m,c.onerror=g}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,qo(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:r},l.set(i,s)}}}function d2(e,t){Tn.X(e,t);var a=_i;if(a&&e){var n=ui(a).hoistableScripts,l=ki(e),i=n.get(l);i||(i=a.querySelector(Zs(l)),i||(e=ut({src:e,async:!0},t),(t=Da.get(l))&&Id(e,t),i=a.createElement("script"),kt(i),zt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function f2(e,t){Tn.M(e,t);var a=_i;if(a&&e){var n=ui(a).hoistableScripts,l=ki(e),i=n.get(l);i||(i=a.querySelector(Zs(l)),i||(e=ut({src:e,async:!0,type:"module"},t),(t=Da.get(l))&&Id(e,t),i=a.createElement("script"),kt(i),zt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(l,i))}}function mm(e,t,a,n){var l=(l=Zn.current)?hr(l):null;if(!l)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ei(a.href),a=ui(l).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ei(a.href);var i=ui(l).hoistableStyles,s=i.get(e);if(s||(l=l.ownerDocument||l,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,s),(i=l.querySelector(Xs(e)))&&!i._p&&(s.instance=i,s.state.loading=5),Da.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Da.set(e,a),i||m2(l,e,a,s.state))),t&&n===null)throw Error(U(528,""));return s}if(t&&n!==null)throw Error(U(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ki(a),a=ui(l).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function Ei(e){return'href="'+Ea(e)+'"'}function Xs(e){return'link[rel="stylesheet"]['+e+"]"}function eg(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function m2(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),zt(t,"link",a),kt(t),e.head.appendChild(t))}function ki(e){return'[src="'+Ea(e)+'"]'}function Zs(e){return"script[async]"+e}function pm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ea(a.href)+'"]');if(n)return t.instance=n,kt(n),n;var l=ut({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),kt(n),zt(n,"style",l),qo(n,a.precedence,e),t.instance=n;case"stylesheet":l=Ei(a.href);var i=e.querySelector(Xs(l));if(i)return t.state.loading|=4,t.instance=i,kt(i),i;n=eg(a),(l=Da.get(l))&&Fd(n,l),i=(e.ownerDocument||e).createElement("link"),kt(i);var s=i;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),zt(i,"link",n),t.state.loading|=4,qo(i,a.precedence,e),t.instance=i;case"script":return i=ki(a.src),(l=e.querySelector(Zs(i)))?(t.instance=l,kt(l),l):(n=a,(l=Da.get(i))&&(n=ut({},a),Id(n,l)),e=e.ownerDocument||e,l=e.createElement("script"),kt(l),zt(l,"link",n),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,qo(n,a.precedence,e));return t.instance}function qo(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=n.length?n[n.length-1]:null,i=l,s=0;s<n.length;s++){var r=n[s];if(r.dataset.precedence===t)i=r;else if(i!==l)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Go=null;function bm(e,t,a){if(Go===null){var n=new Map,l=Go=new Map;l.set(a,n)}else l=Go,n=l.get(a),n||(n=new Map,l.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),l=0;l<a.length;l++){var i=a[l];if(!(i[Fs]||i[Lt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(t)||"";s=e+s;var r=n.get(s);r?r.push(i):n.set(s,[i])}}return n}function gm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function p2(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function b2(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var l=Ei(n.href),i=t.querySelector(Xs(l));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,kt(i);return}i=t.ownerDocument||t,n=eg(n),(l=Da.get(l))&&Fd(n,l),i=i.createElement("link"),kt(i);var s=i;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),zt(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=xr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var tu=0;function g2(e,t){return e.stylesheets&&e.count===0&&Yo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&tu===0&&(tu=62500*Qx());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yo(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>tu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(l)}}:null}function xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vr=null;function Yo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vr=new Map,t.forEach(h2,e),vr=null,xr.call(e))}function h2(e,t){if(!(t.state.loading&4)){var a=vr.get(e);if(a)var n=a.get(null);else{a=new Map,vr.set(e,a);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var s=l[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(a.set(s.dataset.precedence,s),n=s)}n&&a.set(null,n)}l=t.instance,s=l.getAttribute("data-precedence"),i=a.get(s)||n,i===n&&a.set(null,l),a.set(s,l),this.count++,n=xr.bind(this),l.addEventListener("load",n),l.addEventListener("error",n),i?i.parentNode.insertBefore(l,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var ks={$$typeof:gn,Provider:null,Consumer:null,_currentValue:Cl,_currentValue2:Cl,_threadCount:0};function x2(e,t,a,n,l,i,s,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.hiddenUpdates=Tc(null),this.identifierPrefix=n,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ag(e,t,a,n,l,i,s,r,c,m,g,C){return e=new x2(e,t,a,s,c,m,g,C,r),t=1,i===!0&&(t|=24),i=ca(3,null,null,t),e.current=i,i.stateNode=e,t=pd(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},hd(i),e}function ng(e){return e?(e=si,e):si}function lg(e,t,a,n,l,i){l=ng(l),n.context===null?n.context=l:n.pendingContext=l,n=Qn(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=$n(e,n,t),a!==null&&(aa(a,e,t),ps(a,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function qd(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function ig(e){if(e.tag===13||e.tag===31){var t=_l(e,67108864);t!==null&&aa(t,e,67108864),qd(e,67108864)}}function xm(e){if(e.tag===13||e.tag===31){var t=pa();t=ed(t);var a=_l(e,t);a!==null&&aa(a,e,t),qd(e,t)}}var Cr=!0;function v2(e,t,a,n){var l=de.T;de.T=null;var i=Ze.p;try{Ze.p=2,Gd(e,t,a,n)}finally{Ze.p=i,de.T=l}}function C2(e,t,a,n){var l=de.T;de.T=null;var i=Ze.p;try{Ze.p=8,Gd(e,t,a,n)}finally{Ze.p=i,de.T=l}}function Gd(e,t,a,n){if(Cr){var l=Ku(n);if(l===null)Jc(e,t,n,Nr,a),vm(e,n);else if(y2(l,e,t,a,n))n.stopPropagation();else if(vm(e,n),t&4&&-1<N2.indexOf(e)){for(;l!==null;){var i=Oi(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=hl(i.pendingLanes);if(s!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-ma(s);r.entanglements[1]|=c,s&=~c}en(i),(Xe&6)===0&&(ur=da()+500,js(0,!1))}}break;case 31:case 13:r=_l(i,2),r!==null&&aa(r,i,2),kr(),qd(i,2)}if(i=Ku(n),i===null&&Jc(e,t,n,Nr,a),i===l)break;l=i}l!==null&&n.stopPropagation()}else Jc(e,t,n,null,a)}}function Ku(e){return e=ld(e),Yd(e)}var Nr=null;function Yd(e){if(Nr=null,e=ei(e),e!==null){var t=Ls(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Mm(t),e!==null)return e;e=null}else if(a===31){if(e=Em(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nr=e,null}function sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rh()){case Rm:return 2;case Dm:return 8;case Qo:case ch:return 32;case Um:return 268435456;default:return 32}default:return 32}}var Qu=!1,el=null,tl=null,al=null,Bs=new Map,Vs=new Map,In=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(t.pointerId)}}function ns(e,t,a,n,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Oi(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function y2(e,t,a,n,l){switch(t){case"focusin":return el=ns(el,e,t,a,n,l),!0;case"dragenter":return tl=ns(tl,e,t,a,n,l),!0;case"mouseover":return al=ns(al,e,t,a,n,l),!0;case"pointerover":var i=l.pointerId;return Bs.set(i,ns(Bs.get(i)||null,e,t,a,n,l)),!0;case"gotpointercapture":return i=l.pointerId,Vs.set(i,ns(Vs.get(i)||null,e,t,a,n,l)),!0}return!1}function og(e){var t=ei(e.target);if(t!==null){var a=Ls(t);if(a!==null){if(t=a.tag,t===13){if(t=Mm(a),t!==null){e.blockedOn=t,tf(e.priority,function(){xm(a)});return}}else if(t===31){if(t=Em(a),t!==null){e.blockedOn=t,tf(e.priority,function(){xm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);pu=n,a.target.dispatchEvent(n),pu=null}else return t=Oi(a),t!==null&&ig(t),e.blockedOn=a,!1;t.shift()}return!0}function Cm(e,t,a){jo(e)&&a.delete(t)}function S2(){Qu=!1,el!==null&&jo(el)&&(el=null),tl!==null&&jo(tl)&&(tl=null),al!==null&&jo(al)&&(al=null),Bs.forEach(Cm),Vs.forEach(Cm)}function Ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,S2)))}var Do=null;function Nm(e){Do!==e&&(Do=e,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,function(){Do===e&&(Do=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],l=e[t+2];if(typeof n!="function"){if(Yd(n||a)===null)continue;break}var i=Oi(a);i!==null&&(e.splice(t,3),t-=3,Ru(i,{pending:!0,data:l,method:a.method,action:n},n,l))}}))}function Ti(e){function t(c){return Ro(c,e)}el!==null&&Ro(el,e),tl!==null&&Ro(tl,e),al!==null&&Ro(al,e),Bs.forEach(t),Vs.forEach(t);for(var a=0;a<In.length;a++){var n=In[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<In.length&&(a=In[0],a.blockedOn===null);)og(a),a.blockedOn===null&&In.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var l=a[n],i=a[n+1],s=l[na]||null;if(typeof i=="function")s||Nm(a);else if(s){var r=null;if(i&&i.hasAttribute("formAction")){if(l=i,s=i[na]||null)r=s.formAction;else if(Yd(l)!==null)continue}else r=s.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Nm(a)}}}function rg(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return l=s})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function jd(e){this._internalRoot=e}Lr.prototype.render=jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var a=t.current,n=pa();lg(a,n,e,t,null,null)};Lr.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lg(e.current,2,null,e,null,null),kr(),t[wi]=null}};function Lr(e){this._internalRoot=e}Lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lm();e={blockedOn:null,target:e,priority:t};for(var a=0;a<In.length&&t!==0&&t<In[a].priority;a++);In.splice(a,0,e),a===0&&og(e)}};var ym=Sm.version;if(ym!=="19.2.3")throw Error(U(527,ym,"19.2.3"));Ze.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=th(t),e=e!==null?Tm(e):null,e=e===null?null:e.stateNode,e};var A2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ls=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ls.isDisabled&&ls.supportsFiber))try{Ps=ls.inject(A2),fa=ls}catch{}var ls;Pr.createRoot=function(e,t){if(!Am(e))throw Error(U(299));var a=!1,n="",l=Jp,i=eb,s=tb;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ag(e,1,!1,null,null,a,n,null,l,i,s,rg),e[wi]=t.current,zd(e),new jd(t)};Pr.hydrateRoot=function(e,t,a){if(!Am(e))throw Error(U(299));var n=!1,l="",i=Jp,s=eb,r=tb,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(s=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),t=ag(e,1,!0,t,a??null,n,l,c,i,s,r,rg),t.context=ng(null),a=t.current,n=pa(),n=ed(n),l=Qn(n),l.callback=null,$n(a,l,n),a=n,t.current.lanes=a,zs(t,a),en(t),e[wi]=t.current,zd(e),new Lr(t)};Pr.version="19.2.3"});var fg=Xa((Sv,dg)=>{"use strict";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),dg.exports=cg()});var Bg=Xa(Xr=>{"use strict";var H2=Symbol.for("react.transitional.element"),z2=Symbol.for("react.fragment");function kg(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var l in t)l!=="key"&&(a[l]=t[l])}else a=t;return t=a.ref,{$$typeof:H2,type:e,key:n,ref:t!==void 0?t:null,props:a}}Xr.Fragment=z2;Xr.jsx=kg;Xr.jsxs=kg});var De=Xa((lC,Vg)=>{"use strict";Vg.exports=Bg()});var f1=ae(Ot(),1),m1=ae(fg(),1);var ye=ae(Ot(),1);var Ks=(l=>(l.TUILE_MECANIQUE="Tuile m\xE9canique",l.TUILE_PLATE="Tuile plate",l.TUILE_CANAL="Tuile Canal",l.FIBROCIMENT="Fibrociment / PST",l))(Ks||{});function pg(e,t){let a=300;switch(t){case"Zone 1":case"Zone 2":a=300;break;case"Zone 3":a=400;break;case"Zone 4":a=500;break;case"Zone 5":a=600;break}let n=a,l=a;switch(e){case"Tuile m\xE9canique":case"Tuile plate":break;case"Tuile Canal":n+=50;break;case"Fibrociment / PST":n+=100;break}return{top:l,bottom:l,left:n,right:n}}function bg(e){return{2.5:25,6:40,10:50,16:63,25:80}[e]??null}function M2(e){return{2.5:20,6:32,10:40,16:63,25:80}[e]??null}function Qs(e){return e<=20?2.5:e<=32?6:e<=40?10:e<=63?16:25}function cl(e,t){let a=bg(e);return a==null?!1:t>a}function Ua(e,t){let a=M2(e),n=bg(e);return n==null?"ok":t>n?"danger":a!=null&&t>a?"info":"ok"}function gg(e,t){let a=Qs(t);return e>a}function $s(e){return{2.5:20,6:32,10:40,16:63}[e]??null}function Hr(e,t){let a=$s(e);return a==null?!1:t>a}var zr=20;function Ft(e){return e.rowConfiguration&&e.rowConfiguration.length>0?e.rowConfiguration.reduce((t,a)=>t+a,0):e.rows*e.columns}function E2(e,t){if(t.length===0||e<=0)return null;let a=null,n=t[0];if(!n.length||n.length<=0)return null;let l=Math.ceil(e/n.length);if(a={waste:l*n.length-e,railComponent:n,railsPerLine:l,splicesPerLine:l>1?l-1:0},a){let{waste:r,...c}=a;return c}return null}function wt(e,t,a){if(e[t])return e[t];let n=Object.values(e).find(l=>l.id===t);return n||{id:t,description:a,unit:"piece",price:""}}function wn(e,t,a,n){if(e<=0||t<=0||a<=0)return 0;let l=n?400:230,i=n?e/(l*1.732):e/l,s=.023;return(n?Math.sqrt(3)*t*i*s/a:2*t*i*s/a)/l*100}function Xd(e,t,a,n=!1,l){if(e<=0||t<=0)return null;let i=n?400:230,s=n?e/(i*1.732):e/i,r=2.5;s>25&&(r=6),s>32&&(r=10),s>45&&(r=16),s>63&&(r=25);let c=Math.ceil(s*1.25),m=Qs(c),C=i*.01,v=.023,h=n?Math.sqrt(3)*v*t*s/C:v*2*t*s/C,S=Math.max(r,h,m),w=[2.5,6,10,16,25],R=w.find(M=>M>=S);R||(R=25),l!=null&&(R=w.find(D=>D>=l)??R);let f=M=>{let D=[...M].sort((P,ne)=>P.coilM-ne.coilM);return D.find(P=>t<=P.coilM)||D[D.length-1]},b=[];n?R<=2.5?b=[{id:"81010512509205",coilM:50},{id:"81010512509200",coilM:100}]:R<=6?b=[{id:"810105100609205",coilM:50}]:b=[]:R<=1.5?b=[{id:"81010311509205",coilM:50},{id:"81010311509200",coilM:100}]:R<=2.5?b=[{id:"81010312509205",coilM:50},{id:"81010312509200",coilM:100}]:R<=6?b=[{id:"810103100609205",coilM:50}]:R<=10?b=[{id:"810103101009205",coilM:50},{id:"810103101009200",coilM:100}]:R<=16?b=[{id:"810103101609207",coilM:500}]:b=[];let N=`CABLE-R2V-${n?"5G":"3G"}${R}-MANUEL`,A=b.length?f(b):{id:N,coilM:50},T=a?a[A.id]:null,u=Math.max(1,Math.ceil(t/(A.coilM||50)));return T?{id:T.id,description:T.description,quantity:u,price:T.price,datasheetUrl:T.datasheetUrl}:{id:A.id,description:b.length?`CABLE R2V ${n?"5G":"3G"}${R} C${A.coilM}`:`C\xE2ble R2V ${n?"5G":"3G"}${R} (longueur estim\xE9e ${Math.ceil(t)} m) \u2013 \xC0 chiffrer`,quantity:u,price:""}}function T2(e,t,a){let n=[],l=Ft(e.panels),i=e.panels.orientation==="Portrait",s=t.brand,r=t.phase==="Tri";if(l===0)return[];let c=Object.values(a).find(C=>C.id===t.model),m=s==="Custom"&&c?.electrical?.isMicro;if(s==="Enphase"||s==="APSystems"||m||s==="FoxESS"&&t.model?.includes("MICRO"))if(r){let C=wt(a,"2300711032","CONNECTEUR ETANCHE MALE TRI. APS"),v=wt(a,"2300812032","CONNECTEUR ETANCHE FEM. TRI. APS");n.push({id:C.id,description:C.description,quantity:1,price:C.price||"A04CJ7",datasheetUrl:C.datasheetUrl}),n.push({id:v.id,description:v.description,quantity:1,price:v.price||"A04CK5",datasheetUrl:v.datasheetUrl})}else{let C=wt(a,"2300531032","CONNECTEUR ETANCHE MALE MONO APS"),v=wt(a,"2300532032","CONNECTEUR ETANCHE FEM. MONO APS");n.push({id:C.id,description:C.description,quantity:1,price:C.price||"A04CG2",datasheetUrl:C.datasheetUrl}),n.push({id:v.id,description:v.description,quantity:1,price:v.price||"A04CH0",datasheetUrl:v.datasheetUrl})}if(s==="Enphase"){let C=t.model||"ENP-IQ8MC-72-M-INT",v=wt(a,C,"Micro-onduleur Enphase");n.push({id:v.id,description:v.description,quantity:l,price:v.price,datasheetUrl:v.datasheetUrl});let h="";r?h=i?"Q-25-10-3P-200":"Q-25-17-3P-160":h=i?"ENP-Q-25-10-240":"ENP-Q-25-17-240";let S=wt(a,h,"C\xE2ble Enphase Q-Cable");n.push({id:S.id,description:S.description,quantity:l,price:S.price,datasheetUrl:S.datasheetUrl});let f=wt(a,r?"Q-TERM-3P":"ENP-Q-TERM-R",r?"EMBOUT DE TERMIN.TRI.ENPHASE":"EMBOUT TERMINAIS.MONO ENPHASE");n.push({id:f.id,description:f.description,quantity:1,price:f.price,datasheetUrl:f.datasheetUrl})}else if(s==="APSystems"){let C=Math.ceil(l/2),v=t.model||"APS-DS3",h=wt(a,v,"Micro-onduleur AP Systems");if(n.push({id:h.id,description:`${h.description} (1 pour 2 panneaux)`,quantity:C,price:h.price,datasheetUrl:h.datasheetUrl}),i){let w=wt(a,"2322304903","CABLE MONO. PORTRAIT 2M APS");n.push({id:w.id,description:w.description,quantity:C,price:w.price||"A04C98",datasheetUrl:w.datasheetUrl})}else{let w=wt(a,"2322404903","CABLE MONO. PAYSAGE 4M DS3 APS");n.push({id:w.id,description:w.description,quantity:C,price:w.price||"A04CS1",datasheetUrl:w.datasheetUrl})}let S=wt(a,"2060700017","EMBOUT TERMINAIS.MONO APS");n.push({id:S.id,description:S.description,quantity:1,price:S.price||"A08TY8",datasheetUrl:S.datasheetUrl})}else if(s==="FoxESS"){let C=t.model;if(C&&C.includes("MICRO")){let h=C.includes("2000")?4:2,S=Math.ceil(l/h),w=wt(a,C,"Micro-onduleur FoxESS");n.push({id:w.id,description:`${w.description} (1 pour ${h} panneaux)`,quantity:S,price:w.price,datasheetUrl:w.datasheetUrl});let R=wt(a,"10-100-01176-0","CABLE AC MONO FoxESS");n.push({id:R.id,description:R.description,quantity:S,price:R.price,datasheetUrl:R.datasheetUrl});let f=wt(a,"10-208-00083-00","TE DE CONNEXION AC MONO FoxESS");n.push({id:f.id,description:f.description,quantity:S,price:f.price,datasheetUrl:f.datasheetUrl});let b=Math.floor((S-1)/7),N=1+b,A=wt(a,"10-109-00175-00","BOUCHON AC FoxESS");if(n.push({id:A.id,description:A.description,quantity:N,price:A.price,datasheetUrl:A.datasheetUrl}),b>0){let T=wt(a,"2300532032","CONNECTEUR ETANCHE FEM. MONO APS");n.push({id:T.id,description:T.description,quantity:b,price:T.price,datasheetUrl:T.datasheetUrl});let u=wt(a,"2300531032","CONNECTEUR ETANCHE MALE MONO APS");n.push({id:u.id,description:u.description,quantity:b,price:u.price,datasheetUrl:u.datasheetUrl})}}}else if(s==="Custom"&&m){let C=wt(a,t.model||"OND-PERSO","Micro-onduleur Perso");n.push({id:C.id,description:C.description,quantity:l,price:C.price,datasheetUrl:C.datasheetUrl})}return n}function hg(e,t,a){if(e===0)return null;if(t.brand==="Custom"){let i=wt(a,t.model||"OND-PERSO","Onduleur Personnalis\xE9");return i.electrical?.isMicro?null:{id:i.id,description:i.description,quantity:1,price:i.price,datasheetUrl:i.datasheetUrl}}if(t.brand!=="FoxESS"||t.model?.includes("MICRO"))return null;let n=t.model;if(!n||n==="Auto"){let i=Object.values(a).filter(c=>c.id.startsWith("FOX-S")||c.id.startsWith("FOX-F"));i.sort((c,m)=>(c.power||0)-(m.power||0));let s=e*.8;n=(i.find(c=>(c.power||0)>=s)||i[i.length-1])?.id||"FOX-S3000"}let l=wt(a,n,"Onduleur FoxESS");return{id:l.id,description:l.description,quantity:1,price:l.price,datasheetUrl:l.datasheetUrl}}function xg(e,t,a,n,l,i){if(!e.panels.model||e.panels.rows===0||e.panels.columns===0)return[];let s=[],{panels:r,roof:c}=e,m=Ft(r),{rows:g,columns:C}=r;m>0&&s.push({id:r.model.name,description:r.model.name,quantity:m,price:r.model.price||"",datasheetUrl:r.model.datasheetUrl});let h=(e.railOrientation||a.railOrientation||"Horizontal")==="Vertical",S=(M,D,_=!1)=>{M&&D>0&&s.push({id:M.id,description:_?`${M.description}*`:M.description,quantity:Math.ceil(D),price:M.price||"",datasheetUrl:M.datasheetUrl})},w=r.model.width,R=r.model.height,f=r.orientation==="Portrait",b=f?C*w+Math.max(0,C-1)*zr:C*R+Math.max(0,C-1)*zr,N=f?g*R+Math.max(0,g-1)*zr:g*w+Math.max(0,g-1)*zr,A=h?C*2:g*2,T=h?N:b,u=Object.values(t).filter(M=>M.description.toLowerCase().includes("rail")&&M.length&&M.length>0).sort((M,D)=>(M.length||0)-(D.length||0));if(a.brand==="ESDEC"){if(u.length>0){let D=u[0],_=A*T;S(D,Math.ceil(_/D.length));let P=Math.ceil(T/D.length);P>1&&S(t.SPLICE,(P-1)*A)}S(t.END_CAP,A*2),S(t.UNIVERSAL_CLAMP,h?m*2+4:(C+1)*g*2);let M=t.HOOK_UNIVERSAL;if(c.type==="Fibrociment / PST"&&(M=t.HANGER_BOLT_FIBRO),M){let D=Math.max(2,Math.ceil(T/1e3))*A;S(M,D),M===t.HOOK_UNIVERSAL&&t.HOOK_GASKET&&S(t.HOOK_GASKET,D,!0)}if(i&&i.brand!=="None"){let D=0,_=0,P=n[i.model||""],ne=i.brand==="Custom"&&P?.electrical?.isMicro;if(i.brand==="Enphase"||ne)D=m,_=1;else if(i.brand==="APSystems")D=Math.ceil(m/2),_=1;else if(i.brand==="FoxESS"&&i.model?.includes("MICRO")){let re=i.model.includes("2000")?4:2;D=Math.ceil(m/re),_=2}if(D>0&&_>0){let re=t.CLIP_HEAVY_DUTY||{id:"1008068",description:"ClickFit EVO - Clip m\xE9tal poids lourd 2-8kg (Micro-ond)",unit:"piece",price:"A0K6F7"};S(re,D*_)}}}else{let M=E2(T,u);if(M&&(S(M.railComponent,M.railsPerLine*A),S(t.SPLICE,M.splicesPerLine*A)),S(t.END_CAP,A*2),S(t.MID_CLAMP,h?(g-1)*2*C:(C-1)*2*g),S(t.END_CLAMP,h?4*C:4*g),c.type==="Fibrociment / PST"){let P=Math.max(2*A,Math.ceil(T/1e3)*A);S(t.HANGER_BOLT_FIBRO,P)}else{let P=Math.max(2*A,Math.ceil(T/800)*A);S(t.HOOK_CROSSHOOK,P),S(t.WOOD_SCREW_8X100,P*2)}S(t.GROUND_LUG_K2SZ,m);let D=0,_=1;if(i&&i.brand!=="None"){let P=n[i.model||""],ne=i.brand==="Custom"&&P?.electrical?.isMicro;i.brand==="Enphase"||ne?(D=m,_=1):i.brand==="APSystems"?(D=Math.ceil(m/2),_=1):i.brand==="FoxESS"&&i.model?.includes("MICRO")&&(D=Math.ceil(m/(i.model.includes("2000")?4:2)),_=2)}D>0&&S(t.STAIRPLATE_KIT,D*_)}if(i&&i.brand!=="None"){let M=T2(e,i,n);s.push(...M);let D=0,_=n[i.model||""],P=i.brand==="Custom"&&_?.electrical?.isMicro;if(i.brand==="APSystems")D=Math.ceil(m/2);else if(i.brand==="FoxESS"&&i.model?.includes("MICRO")){let ne=i.model.includes("2000")?4:2;D=Math.ceil(m/ne)}else P&&(D=m);if(D>0){let ne=l?.["MC4-EXT-2M"]||{id:"303037",description:"Rallonge MC4 2M",unit:"piece",price:"A0BEX2"};s.push({id:ne.id,description:ne.description,quantity:D*2,price:ne.price,datasheetUrl:ne.datasheetUrl})}}return s}function Fr(e){let t={Panneaux:[],Onduleurs:[],Electricit\u00E9:[],Structure:[],Accessoires:[]},a=m=>{let g=(m?.id||"").toString(),C=(m?.description||"").toLowerCase();return!!(new Set(["810103100609205","81010100060920","810105100609205","810106100609205","8102051507512","8102025007512","8102066007512","81021060060820","820001000608600","821101000609200","CAB14124171"]).has(g)||C.includes("cable r2v")||C.includes("cable terre")&&C.includes("h07v")||C.includes("h1z2z2")||C.includes("cable solaire")||C.includes("liyc")||C.includes("liyc y")||C.includes("liyc y"))};e.forEach(m=>{let g=m.description.toLowerCase(),C=m.id.toUpperCase();(g.includes("panneau")||g.includes("module")||g.includes("dmegc")||g.includes("tcl")||g.includes("dualsun"))&&!g.includes("onduleur")&&!g.includes("micro")?t.Panneaux.push(m):(g.includes("onduleur")||g.includes("micro-onduleur")||g.includes("passerelle")||g.includes("envoy")||g.includes("ecu"))&&!g.includes("fixation")&&!g.includes("clip")&&!g.includes("ecrou")&&!g.includes("\xE9crou")&&!g.includes("montage")&&!g.includes("coffret")&&!g.includes("tore")&&!g.includes("compteur")&&!g.includes("meter")||C.startsWith("ENP-IQ")||C.startsWith("APS-DS3")||C.startsWith("FOX-")&&!C.includes("ECS")&&!C.includes("EP")&&!C.includes("MIRA")||C.startsWith("SMG666")||C==="OND-PERSO"?t.Onduleurs.push(m):a(m)?t.Accessoires.push(m):g.includes("batterie")||C.includes("ECS")||C.includes("EP5")||C.includes("EP11")||g.includes("coffret")||g.includes("disjoncteur")||g.includes("inter diff")||g.includes("cable")||g.includes("c\xE2ble")||g.includes("cordon")||g.includes("rallonge")||g.includes("connecteur")&&!g.includes("rail")||g.includes("embout")||g.includes("te de connexion")||g.includes("mc4")||g.includes("terminaison")&&!g.includes("rail")||g.includes("bouchon ac")||g.includes("tore")||g.includes("compteur")||g.includes("borne")||g.includes("sticker")||g.includes("q-relay")||g.includes("qrelay")||C.startsWith("Q-RELAY")||C.startsWith("MAD-")?t.Electricit\u00E9.push(m):t.Structure.push(m)}),t.Electricit\u00E9.sort((m,g)=>{let C=new Set(["13412","13416","13418","13474","13476","12522","12526","12528","12501","12334","12338","12340","12333","12337","12341","13462","13464","13466","13488","13442","13444","13446","13498","12554","12556","12558","12507"]),v=new Set(["12232","12272","12282","12233","12273","12283"]),h=b=>{let N=(b.description||"").toLowerCase(),A=(b.id||"").toString();return!N.includes("coffret")||N.includes("dc")?!1:N.includes("ac")?!0:C.has(A)},S=b=>{let N=(b.description||"").toLowerCase(),A=(b.id||"").toString();return N.includes("coffret")?N.includes("dc")?!0:v.has(A):!1},w=b=>{let N=(b.description||"").toLowerCase(),A=(b.id||"").toUpperCase();return N.includes("batterie")||A.includes("ECS")||A.includes("EP5")||A.includes("EP11")||A.includes("MIRA")?1:A.startsWith("STICKER")?2:h(b)?3:N.includes("disjoncteur")||N.includes("inter diff")?4:S(b)?5:N.includes("compteur")||N.includes("meter")||A.includes("DDSU")||A.includes("DTSU")||N.includes("tore")?6:N.includes("borne")||N.includes("cordon ve")||N.includes("recharge")?7:N.includes("foxess")||A.startsWith("FOX-")||A.startsWith("10-")?8:N.includes("enphase")||A.startsWith("ENP-")||A.startsWith("Q-")?9:N.includes("aps")||A.startsWith("APS-")||N.includes("ecu")?10:11},R=w(m),f=w(g);return R!==f?R-f:m.description.localeCompare(g.description)});let n=["A7300S1-E-2","A022KS1-E-A","15254","15264"],i=e.some(m=>n.includes((m?.id||"").toString()))?["02056","03446","03140"]:[],s=[],r=[];return t.Electricit\u00E9.forEach(m=>{let g=m.description.toLowerCase(),C=m.id.toUpperCase();n.includes(m.id)||i.includes(m.id)||g.includes("borne recharge")||g.includes("cordon ve")?r.push(m):s.push(m)}),[{category:"Panneaux",items:t.Panneaux},{category:"Onduleurs",items:t.Onduleurs},{category:"Electricit\xE9",items:s,subSections:r.length>0?[{title:"BORNE VE",items:r}]:void 0},{category:"Structure",items:t.Structure},{category:"Accessoires",items:t.Accessoires}].filter(m=>m.items.length>0||m.subSections&&m.subSections.length>0)}var Zd={"01":-10,"02":-7,"03":-8,"04":-8,"05":-10,"06":-6,"07":-6,"08":-10,"09":-5,10:-10,11:-5,12:-8,13:-5,14:-7,15:-8,16:-5,17:-5,18:-7,19:-8,"2A":-2,"2B":-2,20:-2,21:-10,22:-4,23:-8,24:-5,25:-12,26:-6,27:-7,28:-7,29:-4,30:-5,31:-5,32:-5,33:-5,34:-5,35:-4,36:-7,37:-7,38:-10,39:-10,40:-5,41:-7,42:-10,43:-8,44:-5,45:-7,46:-6,47:-5,48:-8,49:-7,50:-4,51:-10,52:-12,53:-7,54:-15,55:-12,56:-4,57:-15,58:-10,59:-9,60:-7,61:-7,62:-9,63:-8,64:-5,65:-5,66:-5,67:-15,68:-15,69:-10,70:-10,71:-10,72:-7,73:-10,74:-10,75:-5,76:-7,77:-7,78:-7,79:-7,80:-9,81:-5,82:-5,83:-5,84:-6,85:-5,86:-7,87:-8,88:-15,89:-10,90:-15,91:-7,92:-7,93:-7,94:-7,95:-7,971:15,972:15,973:15,974:10,976:15},vg={83400:-2,83e3:-2,83100:-2,83200:-2,83500:-2,83110:-2,83140:-2,83130:-2,83220:-2,83320:-2,83230:-2,83980:-2,83120:-2,83990:-2,83240:-2,83600:-2,83700:-2,83150:-2,83270:-2,"06000":-2,"06100":-2,"06200":-2,"06300":-2,"06400":-2,"06150":-2,"06160":-2,"06600":-2,"06800":-2,"06700":-2,"06270":-2,"06500":-2,"06310":-2,"06230":-2,13001:-2,13002:-2,13003:-2,13004:-2,13005:-2,13006:-2,13007:-2,13008:-2,13009:-2,13010:-2,13011:-2,13012:-2,13013:-2,13014:-2,13015:-2,13016:-2,13600:-2,13260:-2,13500:-2,2e4:-2,20090:-2,20200:-2,20137:-2,20260:-2,20110:-2,20169:-2};function Vl(e,t=0){if(!e||e.length<2)return{tempMin:-10,tempMaxAmb:35,label:"Standard (D\xE9faut)"};let a=e.substring(0,2),n=e.substring(0,3),l=-10,i=`Dept ${a}`,s=!1;e.startsWith("97")?(l=Zd[n]||15,i=`Outre-mer ${n}`):vg[e]!==void 0?(l=vg[e],i="Zone C\xF4ti\xE8re/Ile",s=!0):e.startsWith("20")?(l=-2,i="Corse"):Zd[a]!==void 0&&(l=Zd[a]);let r=0;t>200&&(r=Math.ceil((t-200)/200));let c=l-r,m=35;return l>=-5&&(m=38),l<=-15&&(m=30),{tempMin:c,tempMaxAmb:m,label:`${i} (Base ${l}\xB0C) @ ${t}m`,altitudePenalty:r,baseTempSeaLevel:l,labelOrigin:i,coastalOverrideApplied:s}}var Ir={971:"Zone 5",972:"Zone 5",973:"Zone 5",974:"Zone 5",976:"Zone 5","06":"Zone 4",11:"Zone 4",13:"Zone 4","2A":"Zone 4","2B":"Zone 4",30:"Zone 4",34:"Zone 4",66:"Zone 4",83:"Zone 4",14:"Zone 3",17:"Zone 3",22:"Zone 3",29:"Zone 3",33:"Zone 3",40:"Zone 3",44:"Zone 3",50:"Zone 3",56:"Zone 3",59:"Zone 3",62:"Zone 3",64:"Zone 3",76:"Zone 3",80:"Zone 3",85:"Zone 3","02":"Zone 2","08":"Zone 2",27:"Zone 2",28:"Zone 2",35:"Zone 2",37:"Zone 2",41:"Zone 2",45:"Zone 2",49:"Zone 2",51:"Zone 2",54:"Zone 2",55:"Zone 2",57:"Zone 2",60:"Zone 2",61:"Zone 2",72:"Zone 2",77:"Zone 2",78:"Zone 2",79:"Zone 2",86:"Zone 2",87:"Zone 2",89:"Zone 2",91:"Zone 2",95:"Zone 2"};function Cg(e){if(!e||e.length<2)return"Zone 1";if(e.toUpperCase().startsWith("2A")||e.toUpperCase().startsWith("2B"))return"Zone 4";let t=e.substring(0,3);if(Ir[t])return Ir[t];let a=e.substring(0,2);return Ir[a]?Ir[a]:"Zone 1"}var Qd=.023,w2=[2.5,6,10,16];function Bi(e,t,a,n){if(e<=0||t<=0||a<=0||n<=0)return{duV:0,duPct:0};let l=2*e*t*Qd/a,i=l/n*100;return{duV:l,duPct:i}}function Vi(e,t,a){let n=6;if(e<=0||t<=0||a<=0)return n;for(let l of w2.filter(i=>i>=6)){let{duPct:i}=Bi(e,t,Number(l),a);if(n=Number(l),i<=3)break}return n}function yg(e,t){return e<=0?"missing":t>3?"danger":t>1?"warn":"ok"}var Kd=[2.5,6,10,16,25];function tn(e,t){return!e||e<=0?null:t?e<=25?16:e<=30?20:e<=40?25:e<=50?32:40:e<=30?32:e<=45?40:63}function On(e,t){let a=t?[16,20,25,32,40]:[16,20,32,40,63];return a.find(n=>n>=Math.max(0,e))??a[a.length-1]}function Ng(e,t,a,n){if(e<=0||t<=0||a<=0)return 0;let l=n?400:230,i=n?e/(l*1.732):e/l;return(n?Math.sqrt(3)*t*i*Qd/a:2*t*i*Qd/a)/l*100}function $d(e){let{powerVA:t,lengthM:a,isThreePhase:n,breakerA:l}=e,i=e.minAutoSectionMm2??2.5;for(let r of Kd){let c=Number(r);if(c<i)continue;let m=Ng(t,a,c,n),g=Ua(c,l);if(m<=1&&g==="ok")return c}let s=Number(Kd[0]);for(let r of Kd){let c=Number(r);if(c<i)continue;s=c;let m=Ng(t,a,c,n),g=Ua(c,l);if(m<=1&&g!=="danger")break}return s}var Sg=-.26;function Ag(e,t,a,n=1,l,i=1,s=0,r=[],c=[],m=void 0,g=[]){let C={isCompatible:!0,warnings:[],errors:[],details:null},v=.95,h=1.05,S=a?a.tempMin:-10,R=(a?a.tempMaxAmb:35)+35;if(!t||!t.electrical)return C;let f=t.electrical,b=f.maxInputVoltage<100,N="F";if(b?N="F":(t.id.includes("H1")||t.id.includes("H3")||t.id.includes("KH")||t.id.includes("P3"))&&(N="B"),b){if(!e||!e.electrical)return C;let j=e.electrical,me=j.tempCoeffVoc||Sg,Ue=S-25,ge=j.voc*(1+me/100*Ue),k=f.mpptCount||1,H=f.maxAcPower,te=e.power*k;l&&l>0&&(H=Math.ceil(l/k)*f.maxAcPower,te=e.power*l);let ce=H>0?te/H:0,Re=m?m==="Tri":!1,je=Re?H/(400*1.732):H/230,xe=je*1.25;return ge>f.maxInputVoltage&&(C.isCompatible=!1,C.errors.push(`Tension panneau (${ge.toFixed(1)}V) > Max Micro (${f.maxInputVoltage}V)`)),C.details={vocCold:parseFloat(ge.toFixed(1)),vmaxInverter:f.maxInputVoltage,vmpHot:0,vminMppt:f.minMpptVoltage,iscPanel:j.isc,iscCalculation:parseFloat((j.isc*1.25).toFixed(2)),imaxInverter:f.maxInputCurrent,dcAcRatio:ce,maxAcPower:H,nominalAcCurrent:parseFloat(je.toFixed(1)),acCurrentBasis:"FALLBACK_S_OVER_U",acCurrentBasisDetail:`S=${H}VA, U=${Re?"400V tri":"230V mono"}`,recommendedBreakerTheo:parseFloat(xe.toFixed(1)),recommendedBreaker:Math.ceil(xe),rcdType:N,tempsUsed:{min:S,maxCell:R},stringsAnalysis:[],maxPanelsInAString:1},C}let A={};if(!r||r.length===0){let j=i||1;for(let me=0;me<j;me++)A[me+1]=[{id:`legacy-${me}`,fieldId:"legacy",panelCount:n,mpptIndex:me+1}]}else r.forEach(j=>{let me=j.mpptIndex||1;A[me]||(A[me]=[]),A[me].push(j)});let T=[],u=0,M=1e4,D=0,_=0,P={};(g||[]).forEach(j=>{let me=Number(j.mpptIndex)||0;if(!me)return;let Ue=Math.max(1,Math.round(Number(j.parallelStrings??1)||1));P[me]=Ue});for(let[j,me]of Object.entries(A)){let Ue=parseInt(j),ge=P[Ue]||1,k=0,H=0,te=0,ce=0,Re=[];me.forEach(xe=>{let z=c.find(pe=>pe.id===xe.fieldId),se=z?.panels.model||e;if(se.electrical){let pe=se.electrical,_e=pe.tempCoeffVoc||Sg,Q=S-25,ve=pe.voc*(1+_e/100*Q);k+=ve*xe.panelCount;let we=R-25,Ce=pe.vmp*(1+_e/100*we);H+=Ce*xe.panelCount,pe.isc>te&&(te=pe.isc),D+=se.power*xe.panelCount}ce+=xe.panelCount,Re.push(`${z?.name||"Toiture"} (${xe.panelCount})`)}),ce>_&&(_=ce),k>u&&(u=k),H<M&&(M=H);let je=te*ge;if(T.push({mpptIndex:Ue,composition:Re.join(" + "),totalPanelCount:ce,vocCold:parseFloat(k.toFixed(1)),vmpHot:parseFloat(H.toFixed(1)),parallelStrings:ge,iscMax:je,iscCalculation:parseFloat((je*1.25).toFixed(2)),isVoltageWarning:k>=f.maxInputVoltage*v&&k<=f.maxInputVoltage,isVoltageError:k>f.maxInputVoltage,isMpptError:H<f.minMpptVoltage,isMpptWarning:H>=f.minMpptVoltage&&H<=f.minMpptVoltage*h,isCurrentError:je>f.maxInputCurrent}),k>f.maxInputVoltage)C.isCompatible=!1,C.errors.push(`MPPT ${Ue}: Surtension (${k.toFixed(1)}V > ${f.maxInputVoltage}V)`);else{let xe=f.maxInputVoltage>0?k/f.maxInputVoltage:0;xe>=v&&C.warnings.push(`MPPT ${Ue}: Voc froid proche limite (${k.toFixed(1)}V \u2248 ${(xe*100).toFixed(0)}% de ${f.maxInputVoltage}V)`)}if(H<f.minMpptVoltage)C.isCompatible=!1,C.errors.push(`MPPT ${Ue}: Vmp chaud trop bas (${H.toFixed(1)}V < ${f.minMpptVoltage}V) \u2192 risque de d\xE9crochage en \xE9t\xE9`);else{let xe=f.minMpptVoltage>0?H/f.minMpptVoltage:0;xe<=h&&C.warnings.push(`MPPT ${Ue}: Vmp chaud proche limite basse (${H.toFixed(1)}V \u2248 ${(xe*100).toFixed(0)}% de ${f.minMpptVoltage}V)`)}je>f.maxInputCurrent&&(C.isCompatible=!1,C.errors.push(`MPPT ${Ue}: Courant trop \xE9lev\xE9 (${je.toFixed(2)}A > ${f.maxInputCurrent}A)${ge>1?` (x${ge} strings en //)`:""}`))}let ne=f.maxAcPower||t.power||0,re=ne>0?D/ne:0,Ie=m?m==="Tri":f.maxAcPower>6e3||t.id.includes("TRI")||t.id.includes("T15"),Ee="FALLBACK_S_OVER_U",Ge="",Ye=0;typeof f.maxAcCurrent=="number"&&f.maxAcCurrent>0?(Ye=f.maxAcCurrent,Ee="IAC_MAX",Ge=`Iac_max=${f.maxAcCurrent}A (fiche technique)`):typeof f.nominalAcCurrent=="number"&&f.nominalAcCurrent>0?(Ye=f.nominalAcCurrent,Ee="IAC_NOMINAL",Ge=`Iac_nom=${f.nominalAcCurrent}A (fiche technique)`):(Ye=Ie?ne/(400*1.732):ne/230,Ee="FALLBACK_S_OVER_U",Ge=`S=${ne}VA, U=${Ie?"400V tri":"230V mono"}`);let K=Ye;return C.details={vocCold:parseFloat(u.toFixed(1)),vmaxInverter:f.maxInputVoltage,vmpHot:parseFloat(M.toFixed(1)),vminMppt:f.minMpptVoltage,iscPanel:e.electrical?.isc||0,iscCalculation:parseFloat(((e.electrical?.isc||0)*1.25).toFixed(2)),imaxInverter:f.maxInputCurrent,dcAcRatio:re,maxAcPower:ne,nominalAcCurrent:parseFloat(K.toFixed(1)),acCurrentBasis:Ee,acCurrentBasisDetail:Ge,recommendedBreakerTheo:parseFloat((K*1.25).toFixed(1)),recommendedBreaker:Math.ceil(K*1.25),rcdType:N,tempsUsed:{min:S,maxCell:R},stringsAnalysis:T,maxPanelsInAString:_},C}var O2={"ENP-IQ8MC-72-M-INT":{maxMicrosPerBranch:11,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas\xE9, c\xE2ble 2.5mm\xB2."},"ENP-IQ8HC-72-M-INT":{maxMicrosPerBranch:9,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas\xE9, c\xE2ble 2.5mm\xB2."},"ENP-IQ8P-72-2-INT":{maxMicrosPerBranch:8,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Exemple terrain: Disjoncteur 20A monophas\xE9, c\xE2ble 2.5mm\xB2."},"APS-DS3":{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Bus AC 2.5mm\xB2 (\u224820A) : 5 unit\xE9s max / branche."},"APS-DS3-H":{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5,note:"Bus AC 2.5mm\xB2 (\u224820A) : 4 \xE0 5 unit\xE9s max / branche."},"FOX-MICRO-1000":{maxMicrosPerBranch:7,recommendedBranchBreakerA:32,defaultCableSectionMm2:6,note:"Exemple terrain: 7 micros max sur c\xE2ble \xE9quiv. 6mm\xB2 avec disj jusqu\u2019\xE0 32A."}};function Wd(e,t){if(!t)return null;let a=O2[t];return a||(e==="Enphase"?{maxMicrosPerBranch:8,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5}:e==="APSystems"?{maxMicrosPerBranch:5,recommendedBranchBreakerA:20,defaultCableSectionMm2:2.5}:e==="FoxESS"&&t.includes("MICRO")?{maxMicrosPerBranch:7,recommendedBranchBreakerA:32,defaultCableSectionMm2:6}:null)}var R2=.023;function Li(e,t=0){let a=typeof e=="number"?e:parseFloat(String(e));return Number.isFinite(a)?a:t}function Mg(e){let t=e.fields.reduce((n,l)=>{let i=l.panels.rows||0,s=l.panels.columns||0,r=i*s,c=l.panels.rowConfiguration;return n+(c&&c.length?c.reduce((m,g)=>m+(g||0),0):r)},0),a=1;return e.inverterConfig.brand==="APSystems"&&(a=2),e.inverterConfig.brand==="FoxESS"&&e.inverterConfig.model?.includes("2000")?a=4:e.inverterConfig.brand==="FoxESS"&&e.inverterConfig.model?.includes("MICRO")&&(a=2),Math.max(0,Math.ceil(t/a))}function Pi(e){let t=Mg(e),n=Wd(e.inverterConfig.brand,e.inverterConfig.model)?.defaultCableSectionMm2??2.5,l=e.inverterConfig.phase==="Tri"?"L1":"Mono",i=e.inverterConfig.microBranches;return i&&i.length?i.map(s=>({...s,microCount:Li(s.microCount,0),cableLengthM:Li(s.cableLengthM,0),cableSectionMm2:Li(s.cableSectionMm2,n),phase:s.phase||l})):[{id:"branch-1",name:"Branche 1",phase:l,microCount:t,cableLengthM:0,cableSectionMm2:n}]}function D2(e,t,a,n=230){let l=Math.max(0,e),i=Math.max(0,t),s=Math.max(.1,a),r=2*R2*l*i/s,c=n>0?r/n*100:0;return{dropV:r,dropPercent:c}}function Ws(e,t){let a=e.inverterConfig.brand,n=e.inverterConfig.model;if(!(a==="Enphase"||a==="APSystems"||a==="FoxESS"&&(n||"").includes("MICRO")))return null;let i=Mg(e),s=Pi(e),r=Wd(a,n),c=r?.maxMicrosPerBranch??0,m=[],g=[],C=s.map((f,b)=>{let N=Li(f.microCount,0),A=Li(f.cableLengthM,0),T=Li(f.cableSectionMm2,r?.defaultCableSectionMm2??2.5),u=f.phase||(e.inverterConfig.phase==="Tri"?"L1":"Mono"),M=N*t/230,{dropV:D,dropPercent:_}=D2(A,M,T,230),P=c>0?N<=c:!0,ne=_<=1;return{branchId:f.id,name:f.name||`Branche ${b+1}`,phase:u,microCount:N,maxAllowed:c||0,cableLengthM:A,cableSectionMm2:T,currentA:M,dropV:D,dropPercent:_,isWithinMaxMicros:P,isDropOk:ne}}),v=C.reduce((f,b)=>f+b.microCount,0);i>0&&v!==i&&m.push(`R\xE9partition branches: ${v} micros configur\xE9s sur ${i} requis.`);let h=C.filter(f=>f.microCount>0&&f.cableLengthM<=0);h.length&&m.push(...h.map(f=>`${f.name}: longueur c\xE2ble non renseign\xE9e (0 m). Renseigner la distance micro \u2192 coffret AC.`));let S=C.filter(f=>!f.isWithinMaxMicros);S.length&&m.push(...S.map(f=>`${f.name}: ${f.microCount} micros > max ${f.maxAllowed} (selon r\xE8gle ${a}${n?` / ${n}`:""}).`));let w=C.filter(f=>f.cableLengthM>0&&f.dropPercent>1);if(w.length&&g.push(...w.map(f=>`${f.name}: chute de tension estim\xE9e ${f.dropPercent.toFixed(2)}% (> 1%). Augmenter section ou r\xE9duire longueur.`)),e.inverterConfig.phase==="Tri"){C.length<3&&g.push("Triphas\xE9: r\xE9partition recommand\xE9e sur 3 branches (L1/L2/L3) pour \xE9quilibrer les phases.");let f={L1:0,L2:0,L3:0};for(let T of C)(T.phase==="L1"||T.phase==="L2"||T.phase==="L3")&&(f[T.phase]+=T.microCount);let b=[f.L1,f.L2,f.L3],N=Math.max(...b),A=Math.min(...b);N>0&&A===0?g.push(`Triphas\xE9: une phase n'est pas aliment\xE9e (r\xE9partition micros L1/L2/L3 = ${f.L1}/${f.L2}/${f.L3}). R\xE9\xE9quilibrer recommand\xE9.`):N-A>=2&&g.push(`Triphas\xE9: r\xE9partition peu \xE9quilibr\xE9e (L1/L2/L3 = ${f.L1}/${f.L2}/${f.L3}). Viser un \xE9cart \u2264 1 micro.`)}return{requiredMicros:i,microPowerVA:t||0,totalMicrosConfigured:v,ruleNote:r?.note,branches:C,errors:m,warnings:g}}var U2=[3,6,9,12],_2=[9,12,15,18,24,30,36],k2={15:3,30:6,45:9,60:12},B2={10:6,15:9,20:12,25:15,30:18,40:24,50:30,60:36};function V2(e,t){return!t||t<=0?null:e==="Tri"?B2[t]??null:k2[t]??null}function L2(e,t){return!t||t<=0?null:(e==="Tri"?_2:U2).find(l=>l>=t)??null}function P2(e){return e==="Tri"?36:12}function qr(e){let t=e.phase,a=Number.isFinite(e.projectPowerKwc)?e.projectPowerKwc:0,n=V2(t,e.agcpA),l=a>0?a:null,i=l?L2(t,l):null,s=!!l&&l>P2(t),r=n!=null&&i!=null?n>=i:null;return{phase:t,projectPowerKwc:a,requiredMinKva:l,recommendedKva:i,subscribedKva:n,isOk:r,isOverMaxForPhase:s}}var Gr="local-db-update",Ll=(e,t)=>{let a=()=>{try{let l=localStorage.getItem(`richardson_${e}`);if(l){let i=JSON.parse(l);if(Object.keys(i).length>0){t(i);return}}}catch(l){console.error("Erreur lecture localStorage",l)}};a();let n=l=>{l.detail&&l.detail.collection===e&&a()};return window.addEventListener(Gr,n),()=>window.removeEventListener(Gr,n)},Eg=async(e,t)=>{try{localStorage.setItem(`richardson_${e}`,JSON.stringify(t));let a=new CustomEvent(Gr,{detail:{collection:e}});window.dispatchEvent(a)}catch(a){throw console.error("Erreur sauvegarde locale:",a),a}},Tg=()=>{["k2","esdec","inverters","panels","boxes","cables"].forEach(t=>{localStorage.removeItem(`richardson_${t}`);let a=new CustomEvent(Gr,{detail:{collection:t}});window.dispatchEvent(a)}),window.location.reload()},wg=async(e,t)=>new Promise((a,n)=>{setTimeout(()=>{if(e.toLowerCase()==="admin@richardson.fr"&&t==="admin1213"){let l={uid:"local-admin",email:e,displayName:"Admin Local"};sessionStorage.setItem("isAdmin","true"),a(l)}else n(new Error("Identifiants incorrects. Aide : admin@richardson.fr / admin1213"))},500)}),Og=async()=>(sessionStorage.removeItem("isAdmin"),Promise.resolve());var Rg={RAIL_2400:{id:"K2S/2003458",description:"K2 Single Rail 36 de 2,4 m",unit:"piece",length:2400,price:"A0J792"},SPLICE:{id:"K2S/2001976",description:"K2S Connecteur de Rails Single Rail 36",unit:"piece",price:"A08TU6"},END_CAP:{id:"K2S/1004767",description:"K2 Bouchon NOIR P.Rail 36",unit:"piece",price:"A08TR3"},MID_CLAMP:{id:"K2S/2004148",description:"K2 Bride Int Universelle (31 \xE0 42mm) NOIR",unit:"piece",price:"A09504"},END_CLAMP:{id:"K2S/2004545",description:"K2 Bride Ext Universelle (31 \xE0 42mm) NOIR",unit:"piece",price:"A30ZQ3"},HOOK_CROSSHOOK:{id:"K2S/2003144",description:"K2S Crochets CrossHook 4S (Crochet pour tuiles galb\xE9s)",unit:"piece",price:"A08U06"},WOOD_SCREW_8X100:{id:"K2S/2004112",description:"K2 Vis bois Heco Topix 8x100",unit:"piece",price:"A04DJ6"},HANGER_BOLT_FIBRO:{id:"K2S/2003274",description:"FIXATION TIREFD.M10X250 BOIS K2SYS",unit:"piece",price:"A4MXP0"},GROUND_LUG_K2SZ:{id:"K2S/2001881",description:"K2 Griffe de mise \xE0 la terre K2SZ",unit:"piece",price:"A08U89"},STAIRPLATE_KIT:{id:"K2S/2004057",description:"Kit StairPlate (Fixation micro onduleur)",unit:"piece",price:"A08TP7"},MK2_NUT:{id:"K2S/1001643",description:"Ecrou-prisonnierMK2 avec clip de montage(micro-onduleur)",unit:"piece",price:"210110"},M8_SCREW:{id:"K2S/2001735",description:"Vis avec rondelle int\xE9gr\xE9e M8x16",unit:"piece",price:"210111"}},Dg={RAIL_2338:{id:"1008132",description:"ClickFit EVO - Rail de montage 2338mm",unit:"piece",length:2338,price:"A0B095"},SPLICE:{id:"1008061",description:"ClickFit EVO - Coupleur de rail",unit:"piece",price:"A0B0A2"},END_CAP:{id:"1008060",description:"ClickFit EVO - Terminaison de rail NOIR",unit:"piece",price:"A0B0D6"},UNIVERSAL_CLAMP:{id:"1008020",description:"ClickFit EVO - Etrier universel NOIR",unit:"piece",price:"A0B0B0"},HOOK_UNIVERSAL:{id:"1008040",description:"ClickFit EVO - Crochet de toit liteau-Fermette - UniversalHook",unit:"piece",price:"A0B087"},HOOK_GASKET:{id:"1008063",description:"ClickFit EVO - Entretoise caoutchouc protection tuile",unit:"piece",price:"A0B0E3"},MOUNTING_GUIDE:{id:"1008064",description:"ClickFit EVO - Guide d'aide au montage",unit:"piece",price:"A2KHU5"},HANGER_BOLT:{id:"1008053",description:"ClickFit EVO - Vis de fixation pour t\xF4le ondul\xE9e/fibrociment",unit:"piece",price:"310109"},HANGER_BOLT_FIBRO:{id:"1008012",description:"BOULON SUSPENSION M10X250MM",unit:"piece",price:"A0EA3"},GROUND_LUG:{id:"ESD-GRD-01",description:"ESDEC Griffe de mise \xE0 la terre",unit:"piece",price:"310110"},CLIP_HEAVY_DUTY:{id:"1008068",description:"ClickFit EVO - Clip m\xE9tal poids lourd 2-8kg (Micro-ond)",unit:"piece",price:"A0K6F7"}};var Hi={id:"OND-PERSO",description:"Onduleur Personnalis\xE9",unit:"piece",price:"",power:5e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:15,maxAcPower:5e3,maxStrings:2,mpptCount:2}},zi={IQ8MC:{id:"ENP-IQ8MC-72-M-INT",description:"Micro-onduleur Enphase IQ8MC (330VA)",unit:"piece",price:"A04BM2",power:330,datasheetUrl:"https://enphase.com/fr-fr/download/iq8-series-microinverters-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8mc-iq8ac-iq8hc-et-iq8x-microinverters-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:60,minMpptVoltage:25,maxMpptVoltage:45,maxInputCurrent:25,maxAcPower:330,maxStrings:1,mpptCount:1}},IQ8HC:{id:"ENP-IQ8HC-72-M-INT",description:"Micro-onduleur Enphase IQ8HC (380VA)",unit:"piece",price:"A04BR4",power:380,datasheetUrl:"https://enphase.com/fr-fr/download/iq8-series-microinverters-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8mc-iq8ac-iq8hc-et-iq8x-microinverters-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:60,minMpptVoltage:29.5,maxMpptVoltage:45,maxInputCurrent:25,maxAcPower:380,maxStrings:1,mpptCount:1}},IQ8P:{id:"ENP-IQ8P-72-2-INT",description:"Micro-onduleur Enphase IQ8P (475VA)",unit:"piece",price:"A0BWU6",power:480,datasheetUrl:"https://enphase.com/fr-fr/download/iq8p-microinverter-fiche-technique",manualUrl:"https://enphase.com/fr-fr/download/iq8p-microinverter-manuel-dinstallation-et-dutilisation",electrical:{maxInputVoltage:65,minMpptVoltage:36,maxMpptVoltage:55,maxInputCurrent:25,maxAcPower:480,maxStrings:1,mpptCount:1}},Q_CABLE_PORTRAIT:{id:"ENP-Q-25-10-240",description:"CABLE MONO PORTRAIT 1.3M ENPHASE",unit:"piece",price:"A04BX8"},Q_CABLE_LANDSCAPE:{id:"ENP-Q-25-17-240",description:"CABLE MONO.PAYSAGE 2M ENPHASE",unit:"piece",price:"A04C51"},Q_RELAY:{id:"ENP-Q-RELAY-1P-INT",description:"Enphase Q-Relay (Relais de d\xE9couplage)",unit:"piece",price:"A04C41"},Q_RELAY_MONO_FR:{id:"Q-RELAY-1P-FR",description:"RELAIS QRELAY mono (IQ7/IQ8) 1P-FR",unit:"piece",price:"A0GRV"},Q_TERMINATOR:{id:"ENP-Q-TERM-R",description:"EMBOUT TERMINAIS.MONO ENPHASE",unit:"piece",price:"A08TZ7"},Q_CABLE_TRI_PORTRAIT:{id:"Q-25-10-3P-200",description:"CABLE TRI PORTRAIT 1.3M ENPHASE",unit:"piece",price:"A04BY9"},Q_CABLE_TRI_LANDSCAPE:{id:"Q-25-17-3P-160",description:"CABLE TRI PAYSAGE 2M ENPHASE",unit:"piece",price:"A04BZ8"},Q_TERMINATOR_TRI:{id:"Q-TERMINATOR-3P",description:"EMBOUT DE TERMIN.TRI.ENPHASE",unit:"piece",price:"A08TX0"},Q_RELAY_TRI_INT:{id:"Q-RELAY-3P-INT",description:"RELAIS QRELAY TRI (Q) RELAY-3P-INT",unit:"piece",price:"A0J3J"},ENVOY_S:{id:"ENVOY-S-EM-230",description:"PASSERELLE ENVOY/S ENPHASE (2CT inclus)",unit:"piece",price:"A04BS2",manualUrl:"https://enphase.com/fr-fr/download/iq-gateway-metered-triphase-manuel-dinstallation-et-dutilisation"},CT_100:{id:"CT-100-SPLIT",description:"TRANSFORMATEUR COURANT ENPHASE",unit:"piece",price:"A04BT0"}},Yr={DS3:{id:"APS-DS3",description:"Micro-onduleur AP Systems DS3 (880VA)",unit:"piece",price:"A04C64",power:880,datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211d53NLzlMjcL3SsFZZsK9usxhBSe3KiHTdSwtTdF2GEkTD5O2X4veNTEdkT/uMAS9kXM3IOyxMpI#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211v5vNzzNMrcj3ssbZDsC9WsJhHS23GiNT1SGtpdb2cE8TX5o2P4HelT8d8l/E1lmarvDbTmCxi7z#/",videoUrl:"https://www.youtube.com/watch?v=36nRxgq3B_Y",electrical:{maxInputVoltage:60,minMpptVoltage:28,maxMpptVoltage:45,maxInputCurrent:20,maxAcPower:880,maxStrings:2,mpptCount:2}},DS3_H:{id:"APS-DS3-H",description:"Micro-onduleur AP Systems DS3-H (960VA)",unit:"piece",price:"A0F3G7",power:960,datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211d53NLzlMjcL3SsFZZsK9usxhBSe3KiHTdSwtTdF2GEkTD5O2X4veNTEdkT/uMAS9kXM3IOyxMpI#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211v5vNzzNMrcj3ssbZDsC9WsJhHS23GiNT1SGtpdb2cE8TX5o2P4HelT8d8l/E1lmarvDbTmCxi7z#/",videoUrl:"https://www.youtube.com/watch?v=36nRxgq3B_Y",electrical:{maxInputVoltage:60,minMpptVoltage:30,maxMpptVoltage:45,maxInputCurrent:20,maxAcPower:960,maxStrings:2,mpptCount:2}},AC_BUS_PORTRAIT_2M:{id:"2322304903",description:"CABLE MONO. PORTRAIT 2M APS",unit:"piece",price:"A04C98"},AC_BUS_PAYSAGE_4M:{id:"2322404903",description:"CABLE MONO. PAYSAGE 4M DS3 APS",unit:"piece",price:"A04CS1"},AC_BUS_CAP:{id:"2060700017",description:"EMBOUT TERMINAIS.MONO APS",unit:"piece",price:"A08TY8"},AC_MALE_CONN:{id:"2300531032",description:"CONNECTEUR ETANCHE MALE MONO APS",unit:"piece",price:"A04CG2"},AC_FEMALE_CONN:{id:"2300532032",description:"CONNECTEUR ETANCHE FEM. MONO APS",unit:"piece",price:"A04CH0"},AC_MALE_CONN_TRI:{id:"2300711032",description:"CONNECTEUR ETANCHE MALE TRI. APS",unit:"piece",price:"A04CJ7"},AC_FEMALE_CONN_TRI:{id:"2300812032",description:"CONNECTEUR ETANCHE FEM. TRI. APS",unit:"piece",price:"A04CK5"},ECU_C:{id:"350029",description:"PASSERELLE COM AVANCEE ECU-C APS",unit:"piece",price:"A046Q2",datasheetUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211D5hNhz5MDcv3WsBZvsu9QsPhlSG3uiTTrSUtvdh2GE6TN5a2747epTydS8/lX1fFpYKvSCkpjzx#/",manualUrl:"https://apsystems.filecloudonline.com/ui/core/index.html?mode=single&path=/SHARED/%211h5eNgz4MAcw3XsCZusv9RsIhkSH3viQTqSVtudg2hE7TM5b2646emTpdJ7/s4TNs6qWgnUcuTwP#/"},TOre_80A:{id:"350040",description:"TORE MESURE COURANT 80A ECU C APS",unit:"piece",price:"A046R0"}},jr={MICRO_1000:{id:"FOX-MICRO-1000",description:"Micro-onduleur FoxESS M1-1000-E (2 Entr\xE9es)",unit:"piece",price:"A2R4J8",power:1e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-M-E-datasheet-V2.1-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-M1-series-Manual.pdf",electrical:{maxInputVoltage:60,minMpptVoltage:24,maxMpptVoltage:60,maxInputCurrent:24,maxAcPower:1e3,maxStrings:2,mpptCount:2,isMicro:!0}},MICRO_AC_CABLE:{id:"10-100-01176-0",description:"CABLE AC MONO FoxESS",unit:"piece",price:"A2R4K6"},MICRO_TEE:{id:"10-208-00083-00",description:"TE DE CONNEXION AC MONO FoxESS",unit:"piece",price:"A2R4Q6"},MICRO_END_CAP:{id:"10-109-00175-00",description:"BOUCHON AC FoxESS",unit:"piece",price:"A2R4N0"},MICRO_GATEWAY:{id:"SMG666.005",description:"PASSERELLE P/MICRO-ONDULEUR",unit:"piece",price:"A2R4H1"},CHINT_MONO:{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",unit:"piece",price:"A2R4G3"},CHINT_TRI:{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",unit:"piece",price:"A4C248"},S3000_G2:{id:"FOX-S3000-G2",description:"Onduleur Fox S3000-G2 (Monophas\xE9)",unit:"piece",price:"A2R3X2",power:3e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-S(G2)-Datasheet-V3.3-20250306.pdf",electrical:{maxInputVoltage:500,minMpptVoltage:50,maxMpptVoltage:480,maxInputCurrent:18,maxAcPower:3300,maxStrings:1,mpptCount:1,maxDcPower:4500}},MC4_EVO2_FEM:{id:"32.0316P0010-UR",description:"CONNECTEUR FEM.MC4 EVO2-10 pi\xE8ces",unit:"piece",price:"A0C085"},MC4_EVO2_MALE:{id:"32.0317P0010-UR",description:"CONNECTEUR MALE MC4 EVO2-10 pi\xE8ces",unit:"piece",price:"A0C077"},H1_30_G2:{id:"FOX-H1-3.0-E-G2",description:"Onduleur Hybride Fox H1-3.0-E-G2",unit:"piece",price:"A2R3Y",power:3e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:3300,maxAcCurrent:15,maxStrings:2,mpptCount:2,maxDcPower:4500}},H1_37_G2:{id:"FOX-H1-3.7-E-G2",description:"Onduleur Hybride Fox H1-3.7-E-G2",unit:"piece",price:"A2R3Z",power:3680,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:4400,maxAcCurrent:18.4,maxStrings:2,mpptCount:2,maxDcPower:5500}},H1_46_G2:{id:"FOX-H1-4.6-E-G2",description:"Onduleur Hybride Fox H1-4.6-E-G2",unit:"piece",price:"A2R40",power:4600,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:5060,maxAcCurrent:23,maxStrings:2,mpptCount:2,maxDcPower:6900}},H1_50_G2:{id:"FOX-H1-5.0-E-G2",description:"Onduleur Hybride Fox H1-5.0-E-G2",unit:"piece",price:"A2R41",power:5e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:5500,maxAcCurrent:25,maxStrings:2,mpptCount:2,maxDcPower:7500}},H1_60_G2:{id:"FOX-H1-6.0-E-G2",description:"Onduleur Hybride Fox H1-6.0-E-G2",unit:"piece",price:"A2R42",power:6e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-Datasheet-V1.5-20250226.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H1-G2-WL-Manual-V1.0.0-20250513.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:6600,maxAcCurrent:30,maxStrings:2,mpptCount:2,maxDcPower:9e3}},KH7:{id:"FOX-KH7",description:"Onduleur Hybride Fox KH7 (Monophas\xE9)",unit:"piece",price:"A3FT1",power:7e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:7e3,maxStrings:3,mpptCount:3,maxDcPower:10500}},KH8:{id:"FOX-KH8",description:"Onduleur Hybride Fox KH8 (Monophas\xE9)",unit:"piece",price:"A3FT3",power:8e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-KH-KA-Datasheet-V1.4-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-KHKA-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:480,maxInputCurrent:20,maxAcPower:8800,maxStrings:3,mpptCount:3,maxDcPower:12e3}},KH9:{id:"FOX-KH9",description:"Onduleur Hybride Fox KH9 (Monophas\xE9)",unit:"piece",price:"A3FT5",power:9e3,electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:550,maxInputCurrent:20,maxAcPower:9e3,maxStrings:3,mpptCount:3,maxDcPower:13500}},KH10:{id:"FOX-KH10",description:"Onduleur Hybride Fox KH10 (Monophas\xE9)",unit:"piece",price:"A4BKW4",power:1e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-KH-KA-Datasheet-V1.4-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-KHKA-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:600,minMpptVoltage:80,maxMpptVoltage:480,maxInputCurrent:20,maxAcPower:10500,maxStrings:4,mpptCount:4,maxDcPower:15e3}},T10_G3:{id:"FOX-T10-G3-TRI",description:"Onduleur Fox T10 G3 (Triphas\xE9)",unit:"piece",price:"A2R4L1",power:1e4,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:14,maxAcPower:1e4,maxStrings:2,mpptCount:2}},T15_G3:{id:"FOX-T15-G3-TRI",description:"Onduleur Fox T15 G3 (Triphas\xE9)",unit:"piece",price:"A2R4L2",power:15e3,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:28,maxAcPower:15e3,maxStrings:2,mpptCount:2}},T20_G3:{id:"FOX-T20-G3-TRI",description:"Onduleur Fox T20 G3 (Triphas\xE9)",unit:"piece",price:"A2R4L3",power:2e4,electrical:{maxInputVoltage:1100,minMpptVoltage:140,maxMpptVoltage:1e3,maxInputCurrent:28,maxAcPower:2e4,maxStrings:4,mpptCount:2}},H3_10:{id:"FOX-H3-10.0-E",description:"Onduleur Hybride Fox H3-10.0-E (Triphas\xE9)",unit:"piece",price:"A2R48H",power:1e4,electrical:{maxInputVoltage:1e3,minMpptVoltage:160,maxMpptVoltage:950,maxInputCurrent:26,maxAcPower:1e4,maxStrings:2,mpptCount:2,maxDcPower:15e3}},H3_12:{id:"FOX-H3-12.0-E",description:"Onduleur Hybride Fox H3-12.0-E (Triphas\xE9)",unit:"piece",price:"A2R49H",power:12e3,electrical:{maxInputVoltage:1e3,minMpptVoltage:160,maxMpptVoltage:950,maxInputCurrent:26,maxAcPower:12e3,maxStrings:2,mpptCount:2,maxDcPower:18e3}},H3_PRO_15:{id:"FOX-H3-PRO-15.0",description:"Onduleur Hybride Fox H3-PRO-15.0 (Triphas\xE9)",unit:"piece",price:"A2R48",power:15e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:16500,maxStrings:6,mpptCount:3,maxDcPower:3e4}},H3_PRO_20:{id:"FOX-H3-PRO-20.0",description:"Onduleur Hybride Fox H3-PRO-20.0 (Triphas\xE9)",unit:"piece",price:"A2R49",power:2e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:22e3,maxStrings:6,mpptCount:3,maxDcPower:4e4}},H3_PRO_25:{id:"FOX-H3-PRO-25.0",description:"Onduleur Hybride Fox H3-PRO-25.0 (Triphas\xE9)",unit:"piece",price:"A2R4A",power:25e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:27500,maxStrings:6,mpptCount:3,maxDcPower:5e4}},H3_PRO_30:{id:"FOX-H3-PRO-30.0",description:"Onduleur Hybride Fox H3-PRO-30.0 (Triphas\xE9)",unit:"piece",price:"A2R4B",power:3e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-Datasheet-V1.5-20250314.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-H3-Pro-WL-Manual-V1.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:150,maxMpptVoltage:850,maxInputCurrent:40,maxAcPower:33e3,maxStrings:6,mpptCount:3,maxDcPower:6e4}},P3_60:{id:"FOX-P3-6.0-SH",description:"Onduleur Hybride Fox P3-6.0-SH (Triphas\xE9)",unit:"piece",price:"A2R44",power:6e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:6600,maxStrings:2,mpptCount:2,maxDcPower:9e3}},P3_80:{id:"FOX-P3-8.0-SH",description:"Onduleur Hybride Fox P3-8.0-SH (Triphas\xE9)",unit:"piece",price:"A2R45",power:8e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:8800,maxStrings:3,mpptCount:3,maxDcPower:12e3}},P3_10:{id:"FOX-P3-10.0-SH",description:"Onduleur Hybride Fox P3-10.0-SH (Triphas\xE9)",unit:"piece",price:"A2R46",power:1e4,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:11e3,maxStrings:3,mpptCount:3,maxDcPower:18e3}},P3_12:{id:"FOX-P3-12.0-SH",description:"Onduleur Hybride Fox P3-12.0-SH (Triphas\xE9)",unit:"piece",price:"A2R47",power:12e3,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Datasheet-V1.0-20250610.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-P3-S-Manual-V1.0.0.pdf",electrical:{maxInputVoltage:1e3,minMpptVoltage:120,maxMpptVoltage:950,maxInputCurrent:25,maxAcPower:13200,maxStrings:3,mpptCount:3,maxDcPower:22500}},ECS2900_H2:{id:"FOX-ECS2900-H2",description:"Batterie Fox ECS2900-H2 (5.76 kWh)",unit:"piece",price:"A2R4K7"},ECS2900_H3:{id:"FOX-ECS2900-H3",description:"Batterie Fox ECS2900-H3 (8.64 kWh)",unit:"piece",price:"A2R4L5"},ECS2900_H4:{id:"FOX-ECS2900-H4",description:"Batterie Fox ECS2900-H4 (11.52 kWh)",unit:"piece",price:"A2R4M1"},ECS2900_H5:{id:"FOX-ECS2900-H5",description:"Batterie Fox ECS2900-H5 (14.40 kWh)",unit:"piece",price:"A2R4M8"},ECS2900_H6:{id:"FOX-ECS2900-H6",description:"Batterie Fox ECS2900-H6 (17.28 kWh)",unit:"piece",price:"A2R4P4"},ECS2900_H7:{id:"FOX-ECS2900-H7",description:"Batterie Fox ECS2900-H7 (20.16 kWh)",unit:"piece",price:"A2R4Q0"},ECS4800_H2:{id:"FOX-ECS4800-H2",description:"Batterie Fox ECS4800-H2 (9.48 kWh)",unit:"piece",price:"A2R4X1"},ECS4800_H3:{id:"FOX-ECS4800-H3",description:"Batterie Fox ECS4800-H3 (14.22 kWh)",unit:"piece",price:"A2R4X9"},EP5:{id:"FOX-EP5",description:"Batterie Fox et BMS EP5 (5.18 kWh)",unit:"piece",price:"A2R4E",power:5180,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP5-Datasheet-V1.3-20250711.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP-Manual-V1.0.0-20250407.pdf"},EP6:{id:"FOX-EP6",description:"Batterie Fox et BMS EP6 (5.76 kWh)",unit:"piece",price:"A4BKQ-",power:5760,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP6-Datasheet-V1.1-20250711.pdf",manualUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/20260107/ENEP612ManualV1.0.3.pdf"},EP11:{id:"FOX-EP11",description:"Batterie Fox et BMS EP11 (10.36 kWh)",unit:"piece",price:"A2R4F5",power:10360,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP11-Datasheet-V1.3-20250711.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EP-Manual-V1.0.0-20250407.pdf"},EP12:{id:"FOX-EP12",description:"Batterie Fox et BMS EP12 (11.52 kWh)",unit:"piece",price:"A4BKR-",power:11520,datasheetUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/Download/EN-EP12-Datasheet-V1.1-20251023.pdf",manualUrl:"https://www.fox-ess.com/Public/Uploads/uploadfile/files/20260107/ENEP612ManualV1.0.3.pdf"},EQ_CM6000:{id:"FOX-EQ-CM6000",description:"Batterie Fox et BMS EQ CM6000 (5.90 kWh)",unit:"piece",price:"A4BKU-",power:5900,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ6000-Plus-Datasheet-V1.0-20250430.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ-Manual-V1.0.0-20250423.pdf"},EQ_CS6000:{id:"FOX-EQ-CS6000",description:"Batterie Fox EQ CS6000 (5.90 kWh)",unit:"piece",price:"A4BKV-",power:5900,datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ6000-Plus-Datasheet-V1.0-20250430.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-EQ-Manual-V1.0.0-20250423.pdf"},EV_7KW:{id:"A7300S1-E-2",description:"BORNE RECHARGE VE MONO 7KW",unit:"piece",price:"A2R4R4",datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-A-V2.0-EV-Charger-shutter-Datasheet-V1.3-20250612.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-7.3kW-EV-Charger-User-Manual-V1.0.pdf"},EV_22KW:{id:"A022KS1-E-A",description:"BORNE RECHARGE VE TRI 22KW",unit:"piece",price:"A2R4S2",datasheetUrl:"https://fr.fox-ess.com/download/upfiles/FR-A-V2.0-EV-Charger-shutter-Datasheet-V1.3-20250612.pdf",manualUrl:"https://fr.fox-ess.com/download/upfiles/FR-V2.0-22kW-EV-Charger-User-Manual-V1.0.pdf"},EV_CABLE_7KW:{id:"15254",description:"Cordon VE 3G6mm\xB2 mono 7,4kW M\xE2le/Femelle 5m type 2",unit:"piece",price:"A4YC51"},EV_CABLE_22KW:{id:"15264",description:"Cordon VE 5G6mm\xB2 22kW M\xE2le/Femelle 5m type 2",unit:"piece",price:"A4YC69"}},Ug={13412:{id:"13412",description:"COFFRET 20A MONO 4.5KW 300MA TYPE F 13412",unit:"piece",price:"A4YAU"},13416:{id:"13416",description:"COFFRET 32A MONO 6KW 300MA TYPE F 13416",unit:"piece",price:"A4YAV"},13418:{id:"13418",description:"COFFRET 40A MONO 8KW 300MA TYPE F 13418",unit:"piece",price:"A4YAW"},13474:{id:"13474",description:"COFFRET 16A TRI 9KW 300MA TYPE F 13474",unit:"piece",price:"A4YAX"},13476:{id:"13476",description:"COFFRET 20A TRI 12KW 300MA TYPE F 13476",unit:"piece",price:"A4YAY"},12334:{id:"12334",description:"COFAC 25A TRI 16KW 300MA TYPE F 12334",unit:"piece",price:"A4YB1"},12338:{id:"12338",description:"COFAC 40A TRI 24KW 300MA TYPE F 12338",unit:"piece",price:"A4YB2"},12340:{id:"12340",description:"COFAC 63A TRI 36KW 300MA TYPE F 12340",unit:"piece",price:"A4YB3"},12232:{id:"12232",description:"COFFRET DC 600V 1S/MPPT 2MPPT 12232",unit:"piece",price:"A4YBH"},12272:{id:"12272",description:"COFFRET 1000V 1S/MPPT 2MPPT IP65 12272",unit:"piece",price:"A3MBR"},12282:{id:"12282",description:"COFFRET 600V 1S/MPPT 3MPPT 12282",unit:"piece",price:"A4YBJ"},12522:{id:"12522",description:"COFFRET 20A M 300MA TYPE B 12522",unit:"piece",price:"A3MAW"},12526:{id:"12526",description:"COFFRET 32A MONO 300MA 6KW TYPE B 12526",unit:"piece",price:"A3MAX"},12528:{id:"12528",description:"COFFRET 40A MONO 8KW 300MA TYPE B 12528",unit:"piece",price:"A4YAZ"},12501:{id:"12501",description:"COFFRET 20A TRI 12KW 300MA TYPE B 12501",unit:"piece",price:"A4YB0"},12333:{id:"12333",description:"COFAC 25A TRI 16KW 300MA TYPE B 12333",unit:"piece",price:"A4YB4"},12337:{id:"12337",description:"COFAC 40A TRI 24KW 300MA TYPE B 12337",unit:"piece",price:"A4YB5"},12341:{id:"12341",description:"COFAC 63A TRI 36KW 300MA TYPE B 12341",unit:"piece",price:"A4YB6"},12233:{id:"12233",description:"COFFRET 600V 1S/MPPT 2MPPT+FUSIBLE 20A 12233",unit:"piece",price:"A4YBK"},12273:{id:"12273",description:"COFFRET 1000V 1S/MPPT 2MPPT+F20A IP65 12273",unit:"piece",price:"A3MBW"},12283:{id:"12283",description:"COFFRET 600V 1S/MPPT 3MPPT+FUS20A 12283",unit:"piece",price:"A3MEF"},12554:{id:"12554",description:"COFFRET 25A M 300MA TYP.B+BCK PART.IP30 12554",unit:"piece",price:"A3MBH"},12556:{id:"12556",description:"COFFRET 32A MONO 300MA TYP.B+BACKUP 12556",unit:"piece",price:"A3MBJ"},12558:{id:"12558",description:"COFFRET BKUP 40A MONO 8KW 300MA TYPE B 12558",unit:"piece",price:"A4YBF"},12507:{id:"12507",description:"COFFRET BKUP 20A TRI 12KW 300MA TYPE B 12507",unit:"piece",price:"A4YBG"},13462:{id:"13462",description:"COFFRET 20A MONO 4.5KW 30MA SS QRELAY 13462",unit:"piece",price:"A4YB7"},13464:{id:"13464",description:"COFFRET 2X20A MONO 8KW 30MA SS QRELAY 13464",unit:"piece",price:"A4YB8"},13466:{id:"13466",description:"COFFRET 3X20A MONO 12KW 30MA SS QRELAY 13466",unit:"piece",price:"A4YB9"},13488:{id:"13488",description:"COFFRET 16A TRI 9KW 30MA 1 SS QRELAY 13488",unit:"piece",price:"A4YBA"},13442:{id:"13442",description:"COFFRET 20A 30MA MONO 4.5KW +PASS 13442",unit:"piece",price:"A4YBB"},13444:{id:"13444",description:"COFFRET 40A MONO 8KW 30MA 2X20A +PASS 13444",unit:"piece",price:"A4YBC"},13446:{id:"13446",description:"COFFRET 63A MONO 12KW 30MA 3X20A +PASS 13446",unit:"piece",price:"A4YBD"},13498:{id:"13498",description:"COFFRET 16A TRI 9KW 30MA +PASS 13498",unit:"piece",price:"A4YBE"},"DISJ-20A":{id:"DISJ-20A",description:"Disjoncteur Ph+N 20A Courbe C 6kA",unit:"piece",price:"A08TR"},"DISJ-32A":{id:"DISJ-32A",description:"Disjoncteur Ph+N 32A Courbe C 6kA",unit:"piece",price:"A08TS"},"DISJ-40A":{id:"DISJ-40A",description:"Disjoncteur Ph+N 40A Courbe C 6kA",unit:"piece",price:"A08TT"},"DISJ-16A-TRI":{id:"DISJ-16A-TRI",description:"Disjoncteur Triphas\xE9 16A Courbe C 6kA",unit:"piece",price:"A08TU"},"DISJ-20A-TRI":{id:"DISJ-20A-TRI",description:"Disjoncteur Triphas\xE9 20A Courbe C 6kA",unit:"piece",price:"A08TV"},"01520":{id:"01520",description:"Disjoncteur 2x20 A C6 kA",unit:"piece",price:"A4YBP3"},"02018":{id:"02018",description:"Disjoncteur 2x32 A C6 kA",unit:"piece",price:"A4YBQ1"},"02020":{id:"02020",description:"Disjoncteur 2x40 A C6 kA",unit:"piece",price:"A4YBR9"},"02024":{id:"02024",description:"Disjoncteur 2x63 A C6 kA",unit:"piece",price:"A4YBS7"},"02048":{id:"02048",description:"Disjoncteur 4x16 A C6 kA",unit:"piece",price:"A4YBT5"},"02050":{id:"02050",description:"Disjoncteur 4x20 A C6 kA",unit:"piece",price:"A4YBU2"},"02052":{id:"02052",description:"Disjoncteur 4x25 A C6 kA",unit:"piece",price:"A4YBV0"},"02054":{id:"02054",description:"Disjoncteur 4x32 A C6 kA",unit:"piece",price:"A4YBW8"},"02056":{id:"02056",description:"Disjoncteur 4x40 A C6 kA",unit:"piece",price:"A4YSY3"},"03140":{id:"03140",description:"Disjoncteur Diff mono 40A/30mA Type F 10kA",unit:"piece",price:"A4YC28"},"03446":{id:"03446",description:"Inter Diff Tri 40A/30mA Type F",unit:"piece",price:"A4YC44"}};var Jd=[{name:"TCL HSM-ND48-DR-450",description:"TCL HSM-ND48-DR-450",width:1134,height:1762,power:450,price:"A4HQY7",imageUrl:"https://images.unsplash.com/photo-1545208942-e1c9c9918a44?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/product-datasheets/fr/FR_TCL_Solar_Panels_TCL_Solar_T_Class__430_450_W_(HSM_ND48_DR)_Fiches_techniques.pdf",manualUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/manuals-and-technical-sheets/fr/FR_TCL_Solar_Panels_Instructions_de_securite_et_d_installation_pour_les_Modules_TCL_Manuel.pdf",electrical:{voc:35.56,isc:16.06,vmp:30.13,imp:14.94,tempCoeffVoc:-.25}},{name:"TCL HSM-ND54- DR500",description:"TCL HSM-ND54- DR500",width:1134,height:1961,power:500,price:"A4HQZ6",imageUrl:"https://images.unsplash.com/photo-1545208942-e1c9c9918a44?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/product-datasheets/fr/FR_TCL_Solar_Panels_TCL_Solar_T_Class__485_510_W_(HSM_ND54_DR)_Fiches_techniques.pdf",manualUrl:"https://pub-493f128c789642909ff4ab27a5f41128.r2.dev/manuals-and-technical-sheets/fr/FR_TCL_Solar_Panels_Instructions_de_securite_et_d_installation_pour_les_Modules_TCL_Manuel.pdf",electrical:{voc:39.92,isc:15.81,vmp:33.7,imp:14.84,tempCoeffVoc:-.25}},{name:"DMEGC DM500M10RT-B60HBT",description:"DMEGC DM500M10RT-B60HBT",width:1134,height:1950,power:500,price:"A09WQ0",imageUrl:"https://images.unsplash.com/photo-1624397840029-22a893233550?q=80&w=400&auto=format&fit=crop",datasheetUrl:"https://www.dmegcsolar.com/upload/img/2025-11/690ccd063e961.pdf",manualUrl:"https://www.dmegcsolar.com/upload/img/2025-07/688b49495b469.pdf",videoUrl:"https://www.youtube.com/watch?v=tN0fVsbY8lg",electrical:{voc:44.22,isc:14.04,vmp:36.87,imp:13.56,tempCoeffVoc:-.25}}],Rn={name:"Panneau Personnalis\xE9",description:"Panneau Personnalis\xE9",width:1134,height:1722,power:425,imageUrl:"https://images.unsplash.com/photo-1592833159155-c62df1b65634?q=80&w=400&auto=format&fit=crop",electrical:{voc:38,isc:14,vmp:32,imp:13,tempCoeffVoc:-.27}};var _g={"81010511509200":{id:"81010511509200",description:"CABLE R2V 5G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUP1"},"81010512509200":{id:"81010512509200",description:"CABLE R2V 5G2.5 C100 MIGUELEZ",unit:"piece",price:"A0AUU0"},"81010411509200":{id:"81010411509200",description:"CABLE R2V 4G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUM5"},"81010411509205":{id:"81010411509205",description:"CABLE R2V 4G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUN3"},"81010412509205":{id:"81010412509205",description:"CABLE R2V 4G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUT3"},"81010511509205":{id:"81010511509205",description:"CABLE R2V 5G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUQ9"},"81010512509205":{id:"81010512509205",description:"CABLE R2V 5G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUV8"},"810105100609205":{id:"810105100609205",description:"CABLE R2V 5G6 C50 MIGUELEZ",unit:"piece",price:"A0AV18"},"81010311509200":{id:"81010311509200",description:"CABLE R2V 3G1.5 C100 MIGUELEZ",unit:"piece",price:"A0AUJ1"},"81010312509200":{id:"81010312509200",description:"CABLE R2V 3G2.5 C100 MIGUELEZ",unit:"piece",price:"A0AUR7"},"81010311509205":{id:"81010311509205",description:"CABLE R2V 3G1.5 C50 MIGUELEZ",unit:"piece",price:"A0AUK9"},"81010312509205":{id:"81010312509205",description:"CABLE R2V 3G2.5 C50 MIGUELEZ",unit:"piece",price:"A0AUS5"},"810103100609205":{id:"810103100609205",description:"CABLE R2V 3G6 C50 MIGUELEZ",unit:"piece",price:"A0AUX4"},"810103101009205":{id:"810103101009205",description:"CABLE R2V 3G10 C50 MIGUELEZ",unit:"piece",price:"A0AV42"},"810103101009200":{id:"810103101009200",description:"CABLE R2V 3G10 C100 MIGUELEZ",unit:"piece",price:"A0AV59"},"810103101609207":{id:"810103101609207",description:"CABLE R2V 3G16 T500 MIGUELEZ",unit:"piece",price:"A3ERE1"},"CABLE-R2V-3G25-C":{id:"CABLE-R2V-3G25-C",description:"CABLE R2V 3G25 C",unit:"piece",price:"ND"},"821101000609200":{id:"821101000609200",description:"CABLE H1Z2Z2 1x6 (noir) C100 MIGUELEZ",unit:"piece",price:"A3ERG"},"821101000609400":{id:"821101000609400",description:"CABLE H1Z2Z2 1x6 (rouge) C100 MIGUELEZ",unit:"piece",price:"A3ERF"},"CABLE-DC-10MM":{id:"CABLE-DC-10MM",description:"C\xE2ble Solaire DC H1Z2Z2-K 10mm\xB2",unit:"m",price:""},"MC4-EXT-2M":{id:"303037",description:"Rallonge MC4 2M",unit:"piece",price:"A0BEX2"},"820001000608600":{id:"820001000608600",description:"CABLE TERRE H07V-K 1X6 VJ C100",unit:"piece",price:"A0AV34"},CAB14124171:{id:"CAB14124171",description:"CABLE LIYCY 2X0.75 C100",unit:"piece",price:"A01NF9"}};var Ve=ae(De(),1),F2=({roof:e,panels:t,maxDimension:a=400,bare:n=!1,roofName:l})=>{let i=e.width*1e3,s=e.height*1e3,r=e.margins||{top:0,bottom:0,left:0,right:0};if(i===0||s===0||!t.model){let _=(0,Ve.jsx)("div",{className:"flex items-center justify-center h-full bg-slate-200 rounded-lg",style:{width:`${a}px`,height:`${a*.75}px`},children:(0,Ve.jsx)("p",{className:"text-slate-500 text-center p-4",children:"Veuillez entrer les dimensions de la toiture."})});return n?_:(0,Ve.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md flex flex-col items-center justify-center gap-4",children:[(0,Ve.jsxs)("h3",{className:"text-lg font-semibold text-slate-700",children:["Visualisation de la toiture ",l&&(0,Ve.jsxs)("span",{className:"text-orange-500 uppercase font-black",children:[" \u2014 ",l]})]}),_]})}let c=t.orientation==="Portrait",m=t.model.width,g=t.model.height,C=t.columns,v=t.rows,h=20,S=c?C*m+Math.max(0,C-1)*h:C*g+Math.max(0,C-1)*h,w=c?v*g+Math.max(0,v-1)*h:v*m+Math.max(0,v-1)*h,R=Math.min(1,a/i),f=Math.min(1,a/s),b=Math.min(R,f),N=i-r.left-r.right,A=s-r.top-r.bottom,T=S>N,u=w>A,M=!T&&!u,D=t.rowConfiguration||Array(v).fill(C);return(0,Ve.jsxs)("div",{className:`flex flex-col items-center justify-center gap-4 w-full ${n?"":"p-4 bg-white rounded-lg shadow-md"}`,children:[!n&&(0,Ve.jsxs)("h3",{className:"text-lg font-semibold text-slate-700",children:["Visualisation ",(0,Ve.jsxs)("span",{className:"text-orange-500 font-black uppercase",children:[" \u2014 ",l||"Toiture"]})]}),(0,Ve.jsxs)("div",{className:`relative bg-orange-200 border-2 ${M?"border-orange-400":"border-red-500"} ${!n&&!M?"animate-pulse":""}`,style:{width:i*b,height:s*b},children:[(0,Ve.jsx)("div",{className:"absolute",style:{top:r.top*b,left:r.left*b,width:N>0?N*b:0,height:A>0?A*b:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:h*b},children:D.map((_,P)=>{if(P>=v)return null;let ne=(c?m:g)*b,re=(c?g:m)*b;return(0,Ve.jsx)("div",{style:{display:"flex",gap:h*b},children:Array.from({length:_}).map((Ie,Ee)=>{if(ne<8||re<8)return(0,Ve.jsx)("div",{className:"bg-slate-800 border border-slate-600/50",style:{width:ne,height:re}},`p-${P}-${Ee}`);let Ge=c?6:10,Ye=Ge-1;return(0,Ve.jsx)("div",{className:"relative bg-slate-900 flex shadow-sm",style:{width:ne,height:re,border:"1px solid #94a3b8",flexDirection:c?"column":"row",padding:"1px"},children:(0,Ve.jsx)("div",{className:"flex-1 flex w-full h-full bg-[#172033]",style:{flexDirection:c?"column":"row"},children:Array.from({length:Ge}).map((K,j)=>(0,Ve.jsx)("div",{className:"flex-1 border-slate-600/50",style:{[c?"borderBottom":"borderRight"]:j<Ye?"1px solid":"none"}},j))})},`p-${P}-${Ee}`)})},`row-${P}`)})}),(0,Ve.jsx)("div",{className:"absolute text-center text-xs text-slate-600 font-mono",style:{left:0,right:0,top:r.top*b/2-8},children:r.top}),(0,Ve.jsx)("div",{className:"absolute text-center text-xs text-slate-600 font-mono",style:{left:0,right:0,bottom:r.bottom*b/2-8},children:r.bottom}),(0,Ve.jsx)("div",{className:"absolute top-0 bottom-0 flex items-center text-xs text-slate-600 -rotate-90 whitespace-nowrap font-mono",style:{left:r.left*b/2-25,transformOrigin:"center"},children:(0,Ve.jsx)("span",{children:r.left})}),(0,Ve.jsx)("div",{className:"absolute top-0 bottom-0 flex items-center text-xs text-slate-600 rotate-90 whitespace-nowrap font-mono",style:{right:r.right*b/2-25,transformOrigin:"center"},children:(0,Ve.jsx)("span",{children:r.right})}),(0,Ve.jsxs)("div",{className:`absolute -top-6 left-0 w-full text-center text-sm font-medium ${T?"text-red-600":"text-slate-600"}`,children:[e.width.toFixed(2)," m"]}),(0,Ve.jsxs)("div",{className:`absolute top-0 -left-12 h-full flex items-center text-sm font-medium -rotate-90 ${u?"text-red-600":"text-slate-600"}`,children:[e.height.toFixed(2)," m"]}),(0,Ve.jsx)("div",{className:"absolute border border-dashed border-slate-600/40 pointer-events-none",style:{top:r.top*b,left:r.left*b,width:N>0?N*b:0,height:A>0?A*b:0}})]}),(0,Ve.jsxs)("div",{className:`text-center text-sm text-slate-600 w-full ${n?"max-w-full":"max-w-md"}`,children:[(0,Ve.jsxs)("p",{children:["Dimensions du champ PV : ",(0,Ve.jsxs)("span",{className:"font-bold",children:[(S/1e3).toFixed(2),"m"]})," x ",(0,Ve.jsxs)("span",{className:"font-bold",children:[(w/1e3).toFixed(2),"m"]})]}),!M&&(0,Ve.jsxs)("div",{className:`mt-3 p-3 bg-red-50 border-l-4 border-red-400 text-red-700 text-left ${n?"text-xs":""}`,role:"alert",children:[(0,Ve.jsx)("p",{className:"font-bold",children:"Le champ de panneaux est trop grand !"}),(0,Ve.jsxs)("ul",{className:"list-disc list-inside mt-1 text-xs",children:[T&&(0,Ve.jsxs)("li",{children:["La ",(0,Ve.jsx)("strong",{children:"largeur"})," d\xE9passe de ",((S-N)/1e3).toFixed(2)," m."]}),u&&(0,Ve.jsxs)("li",{children:["La ",(0,Ve.jsx)("strong",{children:"hauteur"})," d\xE9passe de ",((w-A)/1e3).toFixed(2)," m."]})]})]})]})]})},Zr=F2;var qt=ae(Ot(),1);var St=ae(De(),1);var Kr=({className:e})=>(0,St.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Qr=({className:e})=>(0,St.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Lg=({className:e})=>(0,St.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),$r=({className:e})=>(0,St.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),_a=({className:e})=>(0,St.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Pg=({className:e})=>(0,St.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 3.487a2.1 2.1 0 012.972 2.972L8.5 17.793 4 19l1.207-4.5L16.862 3.487z"}),(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5l4 4"})]}),Wr=({className:e})=>(0,St.jsxs)("svg",{className:`animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,St.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,St.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Fi=({className:e})=>(0,St.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,St.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})});var nn=ae(Ot(),1),qg=ae(Ot(),1);var Hg=ae(Ot(),1),Me=ae(De(),1),I2=({roof:e,panels:t,system:a,railOrientation:n})=>{let i=(0,Hg.useId)().replace(/:/g,""),s=`arrow-${i}`,r=`arrow-detail-${i}`,c=`hatch-${i}`,m=`margin-hatch-${i}`;if(!e||!t||!t.model)return(0,Me.jsx)("div",{className:"text-center text-slate-400 text-sm p-10",children:"Donn\xE9es insuffisantes pour le sch\xE9ma"});let g=e.width*1e3,C=e.height*1e3,v=e.margins||{top:0,bottom:0,left:0,right:0},h=t.orientation==="Portrait",w=(n||a.railOrientation||"Horizontal")==="Vertical",R=t.model.width,f=t.model.height,b=20,N=Math.max(g,C),T=(N>0?N:1e3)/100,u=Math.max(10,T*2),M=Math.max(8,T*1.8),D=Math.max(1,T*.15),_=T*15,P=g+_*2,ne=C+_*2,re=_,Ie=_,Ee=t.columns,Ge=t.rows,Ye=h?Ee*R+Math.max(0,Ee-1)*b:Ee*f+Math.max(0,Ee-1)*b,K=h?Ge*f+Math.max(0,Ge-1)*b:Ge*R+Math.max(0,Ge-1)*b,j=re+v.left,me=Ie+v.top,Ue=g-v.left-v.right,ge=C-v.top-v.bottom,k=j+(Ue-Ye)/2,H=me+(ge-K)/2,te=(0,Me.jsxs)("defs",{children:[(0,Me.jsx)("marker",{id:s,markerWidth:"6",markerHeight:"6",refX:"5",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:(0,Me.jsx)("path",{d:"M0,0 L0,6 L6,3 z",fill:"#ef4444"})}),(0,Me.jsx)("marker",{id:r,markerWidth:"4",markerHeight:"4",refX:"3",refY:"2",orient:"auto",markerUnits:"strokeWidth",children:(0,Me.jsx)("path",{d:"M0,0 L0,4 L4,2 z",fill:"#059669"})}),(0,Me.jsx)("pattern",{id:c,patternUnits:"userSpaceOnUse",width:"4",height:"4",children:(0,Me.jsx)("path",{d:"M-1,1 l2,-2 M0,4 l4,-4 M3,5 l2,-2",stroke:"#059669",strokeWidth:"1",opacity:"0.3"})}),(0,Me.jsxs)("pattern",{id:m,patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45)",children:[(0,Me.jsx)("rect",{width:"8",height:"8",fill:"#fee2e2",opacity:"0.5"}),(0,Me.jsx)("line",{x1:"0",y1:"0",x2:"0",y2:"8",stroke:"#fca5a5",strokeWidth:"2",opacity:"0.5"})]})]}),ce=(Q,ve,we,Ce,Fe,Te,ue,Pe=!1)=>{let Ne=Pe?T*1:T*3,Ke=Q,V=ve,q=we,$=Ce,Oe=(Q+we)/2,be=(ve+Ce)/2,$e=Pe?"#059669":"#ef4444",xt=Pe?`url(#${r})`:`url(#${s})`,Ut=Pe?M:u;return ue?(Ke-=Te,q-=Te,Oe-=Te+Ne,(0,Me.jsxs)("g",{children:[(0,Me.jsx)("line",{x1:Q,y1:ve,x2:Ke,y2:ve,stroke:$e,strokeWidth:D,opacity:"0.3"}),(0,Me.jsx)("line",{x1:we,y1:Ce,x2:q,y2:Ce,stroke:$e,strokeWidth:D,opacity:"0.3"}),(0,Me.jsx)("line",{x1:Ke,y1:ve,x2:q,y2:Ce,stroke:$e,strokeWidth:D,markerStart:xt,markerEnd:xt}),(0,Me.jsx)("text",{x:Oe,y:be,fill:$e,fontSize:Ut,textAnchor:"end",alignmentBaseline:"middle",fontWeight:"bold",style:{textShadow:"0px 0px 4px white"},children:Fe})]},`dim-v-${Q}-${ve}-${we}-${Math.random()}`)):(V-=Te,$-=Te,be-=Te+Ne,(0,Me.jsxs)("g",{children:[(0,Me.jsx)("line",{x1:Q,y1:ve,x2:Q,y2:V,stroke:$e,strokeWidth:D,opacity:"0.3"}),(0,Me.jsx)("line",{x1:we,y1:Ce,x2:we,y2:$,stroke:$e,strokeWidth:D,opacity:"0.3"}),(0,Me.jsx)("line",{x1:Ke,y1:V,x2:q,y2:$,stroke:$e,strokeWidth:D,markerStart:xt,markerEnd:xt}),(0,Me.jsx)("text",{x:Oe,y:be,fill:$e,fontSize:Ut,textAnchor:"middle",alignmentBaseline:"baseline",fontWeight:"bold",style:{textShadow:"0px 0px 4px white"},children:Fe})]},`dim-h-${Q}-${ve}-${we}-${Math.random()}`))},Re=[],je=[],xe=a.brand==="ESDEC"?"#94a3b8":"#475569",z=Math.max(2,T*.3);if(w){for(let Fe=0;Fe<Ee;Fe++){let Te=k+Fe*((h?R:f)+b),ue=h?R:f,Pe=Te+ue*.25,Ne=Te+ue*.75;Re.push((0,Me.jsx)("line",{x1:Pe,y1:H,x2:Pe,y2:H+K,stroke:xe,strokeWidth:z,strokeDasharray:`${T},${T}`},`rv-${Fe}-1`)),Re.push((0,Me.jsx)("line",{x1:Ne,y1:H,x2:Ne,y2:H+K,stroke:xe,strokeWidth:z,strokeDasharray:`${T},${T}`},`rv-${Fe}-2`))}let Q=h?R:f,ve=k+Q*.15,we=Q*.2,Ce=k+Q*.65;je.push((0,Me.jsx)("rect",{x:ve,y:H,width:we,height:h?f:R,fill:`url(#${c})`,stroke:"none"},"cz-1")),je.push((0,Me.jsx)("rect",{x:Ce,y:H,width:we,height:h?f:R,fill:`url(#${c})`,stroke:"none"},"cz-2"))}else{for(let Fe=0;Fe<Ge;Fe++){let Te=H+Fe*((h?f:R)+b),ue=h?f:R,Pe=Te+ue*.25,Ne=Te+ue*.75;Re.push((0,Me.jsx)("line",{x1:k,y1:Pe,x2:k+Ye,y2:Pe,stroke:xe,strokeWidth:z,strokeDasharray:`${T},${T}`},`rh-${Fe}-1`)),Re.push((0,Me.jsx)("line",{x1:k,y1:Ne,x2:k+Ye,y2:Ne,stroke:xe,strokeWidth:z,strokeDasharray:`${T},${T}`},`rh-${Fe}-2`))}let Q=h?f:R,ve=H+Q*.15,we=Q*.2,Ce=H+Q*.65;je.push((0,Me.jsx)("rect",{x:k,y:ve,width:h?R:f,height:we,fill:`url(#${c})`,stroke:"none"},"cz-1")),je.push((0,Me.jsx)("rect",{x:k,y:Ce,width:h?R:f,height:we,fill:`url(#${c})`,stroke:"none"},"cz-2"))}let se=[];for(let Q=0;Q<Ge;Q++)for(let ve=0;ve<Ee;ve++){let we=h?R:f,Ce=h?f:R,Fe=k+ve*(we+b),Te=H+Q*(Ce+b);se.push((0,Me.jsx)("rect",{x:Fe,y:Te,width:we,height:Ce,fill:"#3b82f6",fillOpacity:"0.05",stroke:"#2563eb",strokeWidth:T*.1},`p-${Q}-${ve}`))}let pe=[],_e=[];if(w){let Q=h?R:f,ve=k+Q*.25,we=k+Q*.75;v.left>0&&_e.push(ce(re,H+K/2,k,H+K/2,`Marge ${v.left}`,-T*5,!1,!1)),v.right>0&&_e.push(ce(k+Ye,H+K/2,re+g,H+K/2,`Marge ${v.right}`,-T*5,!1,!1));let Ce=H+(h?f:R)*.15;pe.push(ce(k,Ce,ve,Ce,`${(Q*.25).toFixed(0)}`,-T*2,!1,!0)),pe.push(ce(ve,Ce,we,Ce,`Entraxe ${(Q*.5).toFixed(0)}`,-T*2,!1,!0)),pe.push((0,Me.jsx)("text",{x:k+Q*.15,y:H-T*2,fontSize:M,fill:"#059669",fontWeight:"bold",children:"Zone de serrage"},"txt-zone"))}else{let Q=h?f:R,ve=H+Q*.25,we=H+Q*.75;v.top>0&&_e.push(ce(re+g/2,Ie,re+g/2,H,`Marge ${v.top}`,-T*8,!0,!1)),v.bottom>0&&_e.push(ce(re+g/2,H+K,re+g/2,Ie+C,`Marge ${v.bottom}`,-T*8,!0,!1));let Ce=k+(h?R:f)*.2;pe.push(ce(Ce,H,Ce,ve,`${(Q*.25).toFixed(0)}`,-T*3,!0,!0)),pe.push(ce(Ce,ve,Ce,we,`Entraxe ${(Q*.5).toFixed(0)}`,-T*3,!0,!0)),pe.push((0,Me.jsx)("text",{x:k-T*15,y:H+Q*.15+Q*.2/2,fontSize:M,fill:"#059669",fontWeight:"bold",children:"Zone de serrage"},"txt-zone"))}return(0,Me.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Me.jsxs)("svg",{viewBox:`0 0 ${P} ${ne}`,className:"w-full h-full max-w-full max-h-full",children:[te,(0,Me.jsx)("rect",{x:re,y:Ie,width:g,height:C,fill:"#f8fafc",stroke:"#64748b",strokeWidth:T*.2}),(v.top>0||v.bottom>0||v.left>0||v.right>0)&&(0,Me.jsx)("path",{d:`
                    M ${re},${Ie} 
                    L ${re+g},${Ie} 
                    L ${re+g},${Ie+C} 
                    L ${re},${Ie+C} 
                    Z
                    M ${j},${me}
                    L ${j},${me+ge}
                    L ${j+Ue},${me+ge}
                    L ${j+Ue},${me}
                    Z
                `,fill:`url(#${m})`,fillRule:"evenodd"}),(v.top>0||v.bottom>0||v.left>0||v.right>0)&&(0,Me.jsx)("rect",{x:j,y:me,width:Ue,height:ge,fill:"none",stroke:"#ef4444",strokeWidth:T*.1,strokeDasharray:`${T},${T}`,opacity:"0.4"}),se,je,Re,ce(re,Ie+C,re+g,Ie+C,`${(g/1e3).toFixed(2)}m`,T*4,!1),ce(re,Ie,re,Ie+C,`${(C/1e3).toFixed(2)}m`,T*4,!0),_e,Ee>0&&Ge>0&&(0,Me.jsxs)(Me.Fragment,{children:[ce(k,H,k+Ye,H,`Champ PV ${(Ye/1e3).toFixed(2)}m`,-T*10,!1),ce(k+Ye,H,k+Ye,H+K,`Champ PV ${(K/1e3).toFixed(2)}m`,-T*10,!0)]}),pe]})})},zg=I2;var B=ae(De(),1),q2=({project:e,materials:t})=>{let a=e.inverterConfig.brand==="Enphase"||e.inverterConfig.brand==="APSystems"||e.inverterConfig.brand==="FoxESS"&&e.inverterConfig.model?.includes("MICRO"),n=e.inverterConfig.brand==="FoxESS"&&(e.inverterConfig.model?.includes("H1")||e.inverterConfig.model?.includes("H3")||e.inverterConfig.model?.includes("KH")||e.inverterConfig.model?.includes("P3")),l={NEUTRAL:"#3b82f6",PHASE:"#ef4444",GROUND:"#16a34a",CABLING:"#1e293b",RJ45:"#f97316",TORE:"#eab308",BG_BOX:"#f8fafc",BORDER:"#cbd5e1"},i={Linky:(c,m)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"50",height:"70",rx:"4",fill:"#a3e635",stroke:"#4d7c0f",strokeWidth:"2"}),(0,B.jsx)("rect",{x:"10",y:"10",width:"30",height:"20",fill:"white",stroke:"#4d7c0f"}),(0,B.jsx)("rect",{x:"15",y:"45",width:"20",height:"15",fill:"#3f6212",rx:"2"}),(0,B.jsx)("text",{x:"25",y:"25",fontSize:"8",textAnchor:"middle",fill:"#4d7c0f",fontWeight:"bold",children:"LINKY"})]}),AGCP:(c,m)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"40",height:"60",rx:"2",fill:"#e2e8f0",stroke:"#64748b",strokeWidth:"2"}),(0,B.jsx)("line",{x1:"10",y1:"15",x2:"30",y2:"15",stroke:"#64748b"}),(0,B.jsx)("line",{x1:"10",y1:"30",x2:"30",y2:"30",stroke:"#64748b"}),(0,B.jsx)("rect",{x:"15",y:"40",width:"10",height:"10",fill:"#ef4444"}),(0,B.jsx)("text",{x:"20",y:"75",fontSize:"8",textAnchor:"middle",fontWeight:"bold",children:"AGCP"})]}),InverterH1:(c,m,g)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",rx:"12",fill:"white",stroke:"#64748b",strokeWidth:"2"}),(0,B.jsx)("path",{d:"M0 70 Q50 80 100 70 L100 100 Q50 110 0 100 Z",fill:"#f1f5f9",stroke:"#64748b",strokeWidth:"2"}),(0,B.jsx)("circle",{cx:"50",cy:"40",r:"10",fill:"#e2e8f0"}),(0,B.jsx)("text",{x:"50",y:"125",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:g})]}),BatteryEP:(c,m)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",rx:"8",fill:"#1e293b",stroke:"#0f172a"}),(0,B.jsx)("path",{d:"M50 25 L35 55 L45 55 L40 75 L65 45 L55 45 L60 25 Z",fill:"#3b82f6"}),(0,B.jsx)("text",{x:"50",y:"120",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"Batterie PV"})]}),Gateway:(c,m,g)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"80",height:"50",rx:"4",fill:"#f8fafc",stroke:"#64748b",strokeWidth:"2"}),(0,B.jsx)("circle",{cx:"20",cy:"25",r:"3",fill:"#22c55e"}),(0,B.jsx)("circle",{cx:"40",cy:"25",r:"3",fill:"#22c55e"}),(0,B.jsx)("circle",{cx:"60",cy:"25",r:"3",fill:"#94a3b8"}),(0,B.jsx)("text",{x:"40",y:"65",fontSize:"9",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:g})]}),CoffretAC:(c,m,g)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"160",height:"110",rx:"6",fill:"#f0f9ff",stroke:"#7dd3fc",strokeWidth:"2",fillOpacity:"0.5"}),(0,B.jsx)("rect",{x:"20",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),(0,B.jsx)("rect",{x:"65",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),(0,B.jsx)("rect",{x:"110",y:"30",width:"25",height:"50",fill:"white",stroke:"#0ea5e9"}),(0,B.jsx)("text",{x:"80",y:"-10",fontSize:"12",textAnchor:"middle",fontWeight:"black",fill:"#0369a1",children:g})]}),DomesticBoard:(c,m)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"80",height:"140",rx:"2",fill:"white",stroke:"#64748b",strokeWidth:"2"}),[20,50,80,110].map(g=>(0,B.jsx)("rect",{x:"10",y:g,width:"60",height:"10",fill:"#e2e8f0"},g)),(0,B.jsx)("text",{x:"40",y:"160",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"Tableau \xE9lectrique"}),(0,B.jsx)("text",{x:"40",y:"175",fontSize:"11",textAnchor:"middle",fontWeight:"bold",fill:"#1e293b",children:"domestique"})]}),Tore:(c,m)=>(0,B.jsxs)("g",{transform:`translate(${c}, ${m})`,children:[(0,B.jsx)("circle",{cx:"0",cy:"0",r:"10",fill:"white",stroke:l.TORE,strokeWidth:"3"}),(0,B.jsx)("text",{x:"15",y:"5",fontSize:"10",fill:l.TORE,fontWeight:"black",children:"Tore"})]})};return(0,B.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-white p-4",children:(0,B.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 900 850",xmlns:"http://www.w3.org/2000/svg",children:[(0,B.jsxs)("text",{x:"450",y:"30",fontSize:"20",fontWeight:"black",textAnchor:"middle",fill:"#1e293b",textDecoration:"underline",children:["SCH\xC9MA \xC9LECTRIQUE DE PRINCIPE - ",a?"MICRO-ONDULEURS":"ONDULEUR HYBRIDE"]}),a?(()=>{let c=e.inverterConfig.brand==="Enphase"?"Passerelle ENVOY":e.inverterConfig.brand==="APSystems"?"Passerelle ECU":"Passerelle Com";return(0,B.jsxs)("g",{transform:"translate(50, 50)",children:[(0,B.jsx)("g",{transform:"translate(0, 50)",children:[0,1].map(m=>(0,B.jsxs)("g",{transform:`translate(${m*120}, 0)`,children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),(0,B.jsx)("rect",{x:"25",y:"160",width:"50",height:"40",fill:"white",stroke:"#64748b",rx:"4"}),(0,B.jsx)("text",{x:"50",y:"185",fontSize:"8",textAnchor:"middle",children:"Micro-inv."}),(0,B.jsx)("line",{x1:"50",y1:"150",x2:"50",y2:"160",stroke:l.CABLING,strokeWidth:"2"})]},m))}),(0,B.jsxs)("g",{transform:"translate(300, 160)",children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"80",height:"60",rx:"4",fill:"#f8fafc",stroke:"#64748b",strokeWidth:"2"}),(0,B.jsx)("text",{x:"40",y:"80",fontSize:"10",textAnchor:"middle",fontWeight:"bold",children:"Bo\xEEte de jonction"})]}),i.CoffretAC(450,140,"Coffret AC Monitoring"),i.Gateway(490,270,c),i.Linky(720,50),i.AGCP(790,50),i.DomesticBoard(500,420),(0,B.jsx)("path",{d:"M120 180 L300 180",stroke:l.CABLING,strokeWidth:"3",fill:"none"}),(0,B.jsx)("path",{d:"M380 190 L450 190",stroke:l.CABLING,strokeWidth:"3",fill:"none"}),(0,B.jsx)("path",{d:"M530 250 L530 420",stroke:l.CABLING,strokeWidth:"4",fill:"none"}),(0,B.jsx)("path",{d:"M745 120 L745 190 L610 190",stroke:l.CABLING,strokeWidth:"4",fill:"none"}),i.Tore(745,160),(0,B.jsx)("path",{d:"M745 160 L745 300 L570 300",stroke:l.TORE,strokeWidth:"2",strokeDasharray:"4,2",fill:"none",opacity:"0.6"}),(0,B.jsx)("text",{x:"640",y:"315",fontSize:"8",fill:l.TORE,fontWeight:"bold",children:"Liaison Tore"})]})})():(0,B.jsxs)("g",{transform:"translate(50, 50)",children:[(0,B.jsxs)("g",{transform:"translate(0, 50)",children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),(0,B.jsx)("rect",{x:"110",y:"0",width:"100",height:"150",fill:"#1e293b",rx:"4"}),(0,B.jsx)("text",{x:"105",y:"-15",fontSize:"14",fontWeight:"black",textAnchor:"middle",fill:"#1e293b",children:"Installation PV"})]}),(0,B.jsxs)("g",{transform:"translate(40, 250)",children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"120",height:"80",fill:"white",stroke:"#64748b",strokeWidth:"2",rx:"4"}),(0,B.jsx)("text",{x:"60",y:"100",fontSize:"10",textAnchor:"middle",fontWeight:"bold",children:"Coffret DC"})]}),i.InverterH1(210,230,`Onduleur ${e.inverterConfig.model||"Hybride"}`),e.inverterConfig.hasBattery&&i.BatteryEP(210,420),i.CoffretAC(450,230,"Coffret AC Protection"),i.Linky(720,100),i.AGCP(790,100),i.DomesticBoard(500,480),(0,B.jsx)("path",{d:"M50 200 L50 250",stroke:l.CABLING,strokeWidth:"3",fill:"none"}),(0,B.jsx)("path",{d:"M160 290 L210 290",stroke:l.CABLING,strokeWidth:"3",fill:"none"}),e.inverterConfig.hasBattery&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("line",{x1:"260",y1:"330",x2:"260",y2:"420",stroke:l.CABLING,strokeWidth:"3"}),(0,B.jsx)("line",{x1:"240",y1:"330",x2:"240",y2:"420",stroke:l.RJ45,strokeWidth:"2",strokeDasharray:"3,3"})]}),(0,B.jsx)("path",{d:"M310 280 L450 280",stroke:l.CABLING,strokeWidth:"3",fill:"none"}),(0,B.jsx)("path",{d:"M530 340 L530 480",stroke:l.CABLING,strokeWidth:"4",fill:"none"}),(0,B.jsx)("path",{d:"M745 170 L745 250 L610 250",stroke:l.CABLING,strokeWidth:"4",fill:"none"}),i.Tore(745,210),(0,B.jsx)("path",{d:"M745 210 L745 400 L260 400 L260 330",stroke:l.TORE,strokeWidth:"2",strokeDasharray:"4,2",fill:"none",opacity:"0.6"}),(0,B.jsx)("text",{x:"500",y:"395",fontSize:"8",fill:l.TORE,fontWeight:"bold",children:"Com. Tore (Modbus/CT)"})]}),(0,B.jsxs)("g",{transform:"translate(50, 650)",children:[(0,B.jsx)("rect",{x:"0",y:"0",width:"380",height:"130",rx:"8",fill:"white",stroke:l.BORDER}),(0,B.jsx)("text",{x:"20",y:"25",fontSize:"12",fontWeight:"black",children:"L\xE9gende"}),(0,B.jsxs)("g",{transform:"translate(20, 45)",children:[(0,B.jsx)("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:l.NEUTRAL,strokeWidth:"2"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"Neutre"})]}),(0,B.jsxs)("g",{transform:"translate(20, 65)",children:[(0,B.jsx)("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:l.PHASE,strokeWidth:"2"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"Phase"})]}),(0,B.jsxs)("g",{transform:"translate(20, 85)",children:[(0,B.jsx)("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:l.GROUND,strokeWidth:"2",strokeDasharray:"3,3"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"Terre"})]}),(0,B.jsxs)("g",{transform:"translate(140, 45)",children:[(0,B.jsx)("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:l.CABLING,strokeWidth:"3"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"Puissance AC/DC"})]}),(0,B.jsxs)("g",{transform:"translate(140, 65)",children:[(0,B.jsx)("line",{x1:"0",y1:"0",x2:"30",y2:"0",stroke:l.RJ45,strokeWidth:"2"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"RJ45 / Communication"})]}),(0,B.jsxs)("g",{transform:"translate(140, 85)",children:[(0,B.jsx)("circle",{cx:"10",cy:"0",r:"8",fill:"white",stroke:l.TORE,strokeWidth:"2"}),(0,B.jsx)("text",{x:"40",y:"4",fontSize:"10",children:"Tore de mesure (CT)"})]})]}),(0,B.jsxs)("g",{transform:"translate(50, 810)",children:[(0,B.jsx)("path",{d:"M0 20 L15 -10 L30 20 Z",fill:"#facc15",stroke:"#854d0e",strokeWidth:"2"}),(0,B.jsx)("text",{x:"15",y:"16",textAnchor:"middle",fontWeight:"bold",fontSize:"14",children:"!"}),(0,B.jsx)("text",{x:"40",y:"5",fontSize:"10",fill:"#854d0e",fontWeight:"bold",children:"Nouvelle norme NFC 15-100"}),(0,B.jsx)("text",{x:"40",y:"18",fontSize:"9",fill:"#854d0e",children:"V\xE9rifier le calibrage de l'AGPC et la protection diff\xE9rentielle 30mA Type F/B"})]})]})})},Fg=q2;var o=ae(De(),1),Ig=14,an=({title:e,url:t,icon:a="\u{1F4C4}"})=>(0,o.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 transition-colors group text-decoration-none",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-lg group-hover:scale-110 transition-transform shadow-sm",children:a}),(0,o.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,o.jsx)("div",{className:"font-bold text-slate-700 text-[10px] uppercase tracking-wide leading-tight",children:e}),(0,o.jsx)("div",{className:"text-[8px] text-blue-600 underline truncate w-full",children:t})]}),(0,o.jsx)("div",{className:"text-slate-300 group-hover:text-blue-500 text-xs font-bold",children:"\u279C"})]}),G2=({project:e,materials:t,exportOptions:a,report:n,voltageDrop:l,acSection:i,showAc1:s,ac1VoltageDrop:r,ac1Section:c,ac1BreakerA:m,microBranchesReport:g})=>{let C=e.fields.reduce((V,q)=>V+q.panels.model.power*Ft(q.panels),0),v=(C/1e3).toFixed(2),h=(0,nn.useMemo)(()=>{let V=t.find($=>/coffret\s*ac/i.test($.description||""));if(!V)return null;let q=(V.description||"").match(/\b(\d{2,3})\s*A\b/i);return q?Number(q[1]):null},[t]),S=e.inverterConfig.phase==="Tri",R=e.fields[0].panels.model,f=Vl(e.postalCode,e.altitude),b=n?.details?.vocCold||0,N=n?.details?.vmpHot||0,A=n?.details?.dcAcRatio?n.details.dcAcRatio*100:0,T=n?.details?.vmaxInverter||(S?1e3:600),u=n?.details?.vminMppt||80,M=(0,nn.useMemo)(()=>{let V=e.inverterConfig.brand==="Custom"&&!!n?.inverterSpecs?.isMicro,q=e.inverterConfig.brand==="Enphase"||e.inverterConfig.brand==="APSystems",$=e.inverterConfig.brand==="FoxESS"&&((e.inverterConfig.model||"").toUpperCase().includes("MICRO")||e.inverterConfig.model==="FOX-S3000-G2");return q||$||V},[e.inverterConfig.brand,e.inverterConfig.model,n?.inverterSpecs?.isMicro]),D=n?.details?.stringsAnalysis||[],_=D.length,P=(0,nn.useMemo)(()=>M||D.length===0?[]:D.map(V=>{let q=(e.inverterConfig.dcCablingRuns||[]).find(Yi=>Yi.mpptIndex===V.mpptIndex)||{mpptIndex:V.mpptIndex,lengthM:0,sectionMm2:null},$=Number(q.lengthM||0),Oe=q.sectionMm2==null?null:Number(q.sectionMm2),be=Number(V.iscCalculation||0),$e=Number(V.vmpHot||0)||1,xt=Vi($,be,$e),Ut=Oe??xt,{duV:Va,duPct:qa}=Bi($,be,Ut||0,$e),{duV:Zt,duPct:Kt}=Bi($,be,xt||0,$e);return{mpptIndex:V.mpptIndex,V:$e,I:be,L:$,S:Ut,forcedS:Oe,autoS:xt,du:Va,dup:qa,duAuto:Zt,dupAuto:Kt}}),[M,D,e.inverterConfig.dcCablingRuns]),ne=(0,nn.useMemo)(()=>P.length?Math.max(...P.map(V=>Number(V.dup||0))):0,[P]),Ie=(e.inverterConfig.configuredStrings||[]).reduce((V,q)=>{let $=Number(q.mpptIndex||1);return V[$]=(V[$]||0)+1,V},{}),Ge=Object.values(Ie).reduce((V,q)=>Math.max(V,Number(q)||0),0)>2,Ye=(0,nn.useMemo)(()=>!a.includeDatasheets||M?!1:D.length>=4||D.length>=3&&Ge,[a.includeDatasheets,M,D.length,Ge]),K=!!(g&&g.branches&&g.branches.length>0),j=K?Math.max(...g.branches.map(V=>V.dropPercent||0)):0,me=K?j+(l||0):l||0,Ue=new Date().toLocaleDateString("fr-FR"),ge=qr({phase:S?"Tri":"Mono",projectPowerKwc:C/1e3,agcpA:e.inverterConfig.agcpValue}),k=(0,nn.useMemo)(()=>({...zi,...Yr,...jr}),[]),H=(0,nn.useMemo)(()=>{let V=e.inverterConfig.model,q=Object.values(k).find(Oe=>Oe.id===V),$="https://www.google.com/search?q="+e.inverterConfig.brand;return e.inverterConfig.brand==="FoxESS"?$="https://fr.fox-ess.com/download/":e.inverterConfig.brand==="Enphase"?$="https://support.enphase.com/s/article/video-iq-microinverter-installationsguide":e.inverterConfig.brand==="APSystems"&&($="https://emea.apsystems.com/document-library/"),{structure:{brand:e.system.brand,videos:e.system.brand==="K2"?[{title:"Installation K2 SingleRail",url:"https://youtu.be/drCs25sMDgE?si=dMfyGLM-dh1V2cby"},{title:"Fixations sur tuiles K2",url:"https://www.youtube.com/watch?v=drCs25sMDgE"}]:[{title:"Installation ClickFit EVO Tuiles",url:"https://www.youtube.com/watch?v=wlc8v_cif1A"}],manuals:e.system.brand==="K2"?["https://catalogue.k2-systems.com/media/7b/4e/d3/Product-Brochure-fr.pdf"]:["https://www.esdec.com/wp-content/uploads/2023/03/Manual_ClickFitEvo_TiledRoof_306_FR.pdf"]},panel:{name:R.name,datasheet:R.datasheetUrl||`https://www.google.com/search?q=${encodeURIComponent(R.name)}+datasheet`,manual:R.manualUrl||`https://www.google.com/search?q=${encodeURIComponent(R.name)}+manual`,video:R.videoUrl},inverter:{brand:e.inverterConfig.brand,model:q?q.description:e.inverterConfig.model,datasheet:q?.datasheetUrl||$,manual:q?.manualUrl||$,video:q?.videoUrl,genericUrl:$,foxCommissioningUrl:null}}},[e,R,k]),te=(0,nn.useMemo)(()=>{let V=Fr(t),q=[],$=Oe=>{q.push({type:"item",material:Oe});let be=(Oe.description||"").toLowerCase();(be.includes("coffret")||be.includes("cofac"))&&!be.includes("coffret dc")&&(be.includes("type f")||be.includes("type b"))&&(!e.inverterConfig.agcpValue||e.inverterConfig.agcpValue<=0)&&q.push({type:"warning",text:"Disjoncteur non livr\xE9 dans les coffrets AC \xE0 calibrer et a ajouter en fonction de l'AGCP client"})};return V.forEach(Oe=>{q.push({type:"header",title:Oe.category}),Oe.items.forEach(be=>$(be)),Oe.subSections&&Oe.subSections.forEach(be=>{q.push({type:"subheader",title:be.title}),be.title&&/borne ve/i.test(be.title)&&e.evCharger?.selected&&q.push({type:"warning",text:e.evCharger.phase==="Tri"?"\u26A0\uFE0F Borne VE TRI : pr\xE9voir c\xE2ble 5G10 mm\xB2.":"\u26A0\uFE0F Borne VE MONO : pr\xE9voir c\xE2ble 3G10 mm\xB2."}),be.items.forEach($e=>$($e))})}),q},[t,e.inverterConfig.agcpValue,e.evCharger?.selected,e.evCharger?.phase]),ce=(0,nn.useMemo)(()=>{let V=[];for(let q=0;q<te.length;q+=Ig)V.push(te.slice(q,q+Ig));return V.length>0?V:[[]]},[te]),Re=ce.length,je=a.includeGuides,xe=a.includeRegulations,z=1+e.fields.length*2,se=a.includeDatasheets?Ye?2:1:0,pe=a.includeDatasheets?z+1:null,_e=a.includeDatasheets&&Ye?z+2:null,Q=z+se+1,ve=Q+1,we=Q+2,Fe=z+se+3+Re+(je?2:0)+(xe?1:0),Te=({ok:V,warn:q,label:$})=>(0,o.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border text-[8px] font-black uppercase tracking-wide ${V?"bg-green-50 text-green-800 border-green-200":q?"bg-orange-50 text-orange-800 border-orange-200":"bg-red-50 text-red-800 border-red-200"}`,children:[V?"\u2714":q?"\u26A0":"\u2716"," ",$]}),ue=({children:V})=>(0,o.jsx)("h3",{className:"text-[10px] font-black text-slate-800 uppercase mb-2 tracking-tight border-b border-slate-200 pb-1",children:V}),Pe=({items:V})=>(0,o.jsxs)("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-3",children:[(0,o.jsx)("div",{className:"text-[7px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"L\xE9gende"}),(0,o.jsx)("ul",{className:"space-y-1",children:V.map((q,$)=>(0,o.jsxs)("li",{className:"text-[8px] text-slate-600 leading-tight",children:[(0,o.jsx)("span",{className:"font-black",children:q.k})," : ",q.v]},$))})]}),Ne=({title:V})=>(0,o.jsxs)("header",{className:"flex justify-between items-end mb-6 border-b border-slate-200 pb-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-8 h-8",children:(0,o.jsxs)("svg",{viewBox:"0 0 100 100",children:[(0,o.jsx)("path",{d:"M50 5 L90 25 L90 75 L50 95 L10 75 L10 25 Z",fill:"#eab308"}),(0,o.jsx)("path",{d:"M50 5 L90 25 L50 45 L10 25 Z",fill:"#84cc16"}),(0,o.jsx)("path",{d:"M50 45 L90 25 L90 75 L50 95 Z",fill:"#db2777"})]})}),(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsx)("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:V}),(0,o.jsx)("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:"Richardson Solaire v3.0"})]})]}),(0,o.jsx)("div",{className:"text-right",children:(0,o.jsx)("span",{className:"text-sm font-bold text-slate-700",children:e.name})})]}),Ke=({page:V})=>(0,o.jsxs)("footer",{className:"mt-auto pt-4 border-t border-slate-100 flex justify-between text-[9px] text-slate-400",children:[(0,o.jsx)("span",{children:"Richardson Solaire - Dossier d'aide au chiffrage - Document non contractuel"}),(0,o.jsxs)("span",{children:["Page ",V,"/",Fe]})]});return(0,o.jsxs)("div",{id:"pdf-report-source",className:"hidden bg-white text-slate-800 font-sans text-left",children:[(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] bg-white relative flex flex-col overflow-hidden",children:[(0,o.jsxs)("div",{className:"h-[60%] relative",children:[(0,o.jsx)("img",{src:"https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?q=80&w=1200&auto=format&fit=crop",className:"w-full h-full object-cover",alt:"Solar Field"}),(0,o.jsx)("div",{className:"absolute top-12 left-12",children:(0,o.jsx)("span",{className:"text-white font-black tracking-widest text-sm uppercase",children:"RICHARDSON"})}),(0,o.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center p-16",children:[(0,o.jsx)("h1",{className:"text-[64px] font-black text-white leading-none drop-shadow-2xl",children:"Dossier Technique"}),(0,o.jsx)("h2",{className:"text-[64px] font-black text-yellow-400 leading-none drop-shadow-2xl mt-2",children:"Photovolta\xEFque"}),(0,o.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,o.jsx)("div",{className:"w-1.5 h-10 bg-orange-500"}),(0,o.jsx)("p",{className:"text-white/90 text-xl font-medium tracking-tight",children:"Etude d'aide au dimensionnement et au chiffrage"})]})]})]}),(0,o.jsxs)("div",{className:"flex-1 p-20 flex justify-between items-start relative",children:[(0,o.jsxs)("div",{className:"flex gap-8 items-stretch",children:[(0,o.jsx)("div",{className:"w-1.5 bg-slate-900"}),(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-2",children:"PROJET"}),(0,o.jsx)("h3",{className:"text-3xl font-black text-slate-800 tracking-tight",children:e.name||"Nouveau Projet"}),(0,o.jsxs)("p",{className:"text-slate-500 font-bold text-lg mt-1",children:[e.postalCode," ",e.city]})]}),(0,o.jsxs)("div",{className:"flex gap-12",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"PUISSANCE INSTALL\xC9E"}),(0,o.jsxs)("span",{className:"text-2xl font-black text-slate-800",children:[v," kWc"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest block mb-1",children:"DATE"}),(0,o.jsx)("span",{className:"text-2xl font-black text-slate-800",children:Ue})]})]})]})]}),(0,o.jsx)("div",{className:"absolute bottom-10 left-20 right-20",children:(0,o.jsxs)("div",{className:"border-t border-slate-200 pt-3 text-[10px] text-slate-600 leading-snug",children:[(0,o.jsx)("div",{className:"font-black text-slate-700 uppercase tracking-widest text-[9px] mb-1",children:"Condition de validit\xE9 de l'\xE9tude"}),(0,o.jsxs)("div",{children:["Cette \xE9tude est r\xE9alis\xE9e pour une puissance install\xE9e de ",(0,o.jsxs)("span",{className:"font-black",children:[v," kWc"]}),". La faisabilit\xE9 est conditionn\xE9e \xE0 une puissance souscrite au point de livraison compatible.",ge.recommendedKva?(0,o.jsxs)(o.Fragment,{children:[" Abonnement minimal conseill\xE9 : ",(0,o.jsxs)("span",{className:"font-black",children:[ge.recommendedKva," kVA"]})," (",ge.phase==="Mono"?"mono":"tri",")."]}):null]}),(0,o.jsxs)("div",{className:"mt-1",children:[ge.subscribedKva==null?(0,o.jsx)("span",{className:"font-bold",children:"Puissance souscrite non renseign\xE9e (AGCP). \xC0 v\xE9rifier aupr\xE8s du fournisseur/gestionnaire de r\xE9seau."}):ge.isOk?(0,o.jsxs)("span",{className:"font-bold text-green-700",children:["Abonnement renseign\xE9 : ",ge.subscribedKva," kVA \u2014 compatible."]}):(0,o.jsxs)("span",{className:"font-bold text-red-700",children:["Abonnement renseign\xE9 : ",ge.subscribedKva," kVA \u2014 \xE0 faire \xE9voluer."]}),(0,o.jsx)("span",{className:"text-slate-500",children:" Limites usuelles : 12 kVA max en monophas\xE9, 36 kVA max en triphas\xE9, sous r\xE9serve de compatibilit\xE9 du site/r\xE9seau."})]})]})})]})]}),e.fields.map((V,q)=>(0,o.jsxs)(qg.default.Fragment,{children:[(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[(0,o.jsx)(Ne,{title:`Vue d'ensemble - ${V.name}`}),(0,o.jsx)("div",{className:"mt-4 mb-10 text-left",children:(0,o.jsxs)("h3",{className:"text-2xl font-black text-slate-800",children:["Configuration - ",V.name]})}),(0,o.jsxs)("div",{className:"grid grid-cols-12 gap-12",children:[(0,o.jsx)("div",{className:"col-span-6",children:(0,o.jsx)("div",{className:"bg-orange-50/50 rounded-3xl p-10 border border-orange-100 shadow-sm",children:(0,o.jsx)(Zr,{roof:V.roof,panels:V.panels,bare:!0,maxDimension:320})})}),(0,o.jsx)("div",{className:"col-span-6 space-y-10",children:(0,o.jsxs)("section",{children:[(0,o.jsx)("h4",{className:"text-[11px] font-black text-orange-500 uppercase tracking-widest border-b-2 border-orange-500 w-fit mb-5",children:"Sp\xE9cifications"}),(0,o.jsx)("table",{className:"w-full text-sm",children:(0,o.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"py-2.5 text-slate-400",children:"Module"}),(0,o.jsx)("td",{className:"py-2.5 font-bold text-right",children:V.panels.model.name})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"py-2.5 text-slate-400",children:"Quantit\xE9 (ce champ)"}),(0,o.jsxs)("td",{className:"py-2.5 font-bold text-right",children:[Ft(V.panels)," panneaux"]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"py-2.5 text-slate-400",children:"Puissance Champ"}),(0,o.jsxs)("td",{className:"py-2.5 font-bold text-right",children:[(Ft(V.panels)*V.panels.model.power/1e3).toFixed(2)," kWc"]})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"py-2.5 text-slate-400",children:"Orientation"}),(0,o.jsx)("td",{className:"py-2.5 font-bold text-right",children:V.panels.orientation})]})]})})]})})]}),(0,o.jsx)(Ke,{page:1+q*2+1})]}),(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[(0,o.jsx)(Ne,{title:`Plan de Calpinage - ${V.name}`}),(0,o.jsx)("div",{className:"flex-1 bg-slate-50 border border-slate-200 rounded-3xl p-12 flex items-center justify-center overflow-hidden shadow-inner my-6",children:(0,o.jsx)(zg,{roof:V.roof,panels:V.panels,system:e.system,railOrientation:V.railOrientation})}),(0,o.jsx)(Ke,{page:1+q*2+2})]})]},V.id)),a.includeDatasheets&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[(0,o.jsx)(Ne,{title:"Analyse \xC9lectrique - Cot\xE9 DC"}),(0,o.jsxs)("div",{className:"flex items-end justify-between gap-4 mb-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-[20px] font-black text-slate-900 leading-tight",children:"Audit \xE9lectrique DC (g\xE9n\xE9rateur PV)"}),(0,o.jsx)("p",{className:"text-slate-500 text-[9px] font-bold uppercase mt-3",children:"Guide UTE C15-712-1 \u2022 Voc corrig\xE9e au froid \u2022 Isc \xD7 1,25 \u2022 chute de tension DC par MPPT"})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("div",{className:"text-[8px] text-slate-500 font-black uppercase",children:"MPPT utilis\xE9s"}),(0,o.jsx)("div",{className:"text-[18px] font-black text-slate-900",children:_})]})]}),(0,o.jsxs)("section",{className:"mb-4",children:[(0,o.jsx)(ue,{children:"Tableau DC \u2013 Synth\xE8se MPPT"}),M?(0,o.jsx)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50 text-[9px] text-slate-700",children:"Syst\xE8me micro-onduleurs : pas de liaisons DC longues par MPPT \xE0 dimensionner (c\xE2blage DC interne aux micro-onduleurs). Cette page DC est donc non applicable."}):(0,o.jsx)("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:(0,o.jsxs)("table",{className:"w-full text-[9px]",children:[(0,o.jsx)("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-3 text-left",children:"MPPT"}),(0,o.jsx)("th",{className:"p-3 text-left",children:"Fonction"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"L (m)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"Section"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"I (A)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"\u0394U (%)"}),(0,o.jsx)("th",{className:"p-3 text-center",children:"Statut"})]})}),(0,o.jsxs)("tbody",{className:"divide-y divide-slate-200",children:[P.map((V,q)=>{let $=D.find(Ut=>Number(Ut.mpptIndex)===Number(V.mpptIndex)),Oe=Math.max(1,Math.round(Number($?.parallelStrings??1)||1)),be=Number(V.dup||0),$e=be>3?(0,o.jsx)(Te,{label:">3%"}):be>1?(0,o.jsx)(Te,{warn:!0,label:">1%"}):(0,o.jsx)(Te,{ok:!0,label:"OK"}),xt=be>3?"text-red-700":be>1?"text-orange-700":"text-green-700";return(0,o.jsxs)("tr",{className:q%2===0?"bg-white":"bg-slate-50",children:[(0,o.jsxs)("td",{className:"p-3 font-black",children:[V.mpptIndex,Oe>1&&(0,o.jsxs)("span",{className:"ml-2 inline-block px-2 py-0.5 rounded bg-slate-100 border border-slate-200 text-[8px] font-black",children:["x",Oe," //"]})]}),(0,o.jsx)("td",{className:"p-3 text-slate-700 font-bold",children:"Cha\xEEne PV \u2192 onduleur"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Number(V.L||0).toFixed(0)}),(0,o.jsxs)("td",{className:"p-3 text-right",children:[(0,o.jsx)("span",{className:"font-mono font-black",children:Number(V.S||0).toFixed(0)}),(0,o.jsx)("span",{className:"ml-1",children:"mm\xB2"}),V.forcedS!=null&&(0,o.jsx)("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc\xE9"})]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Number(V.I||0).toFixed(2)}),(0,o.jsx)("td",{className:`p-3 text-right font-black ${xt}`,children:be.toFixed(2)}),(0,o.jsx)("td",{className:"p-3 text-center",children:$e})]},q)}),!P.length&&(0,o.jsx)("tr",{className:"bg-white",children:(0,o.jsx)("td",{className:"p-3 text-slate-500",colSpan:7,children:"Aucun MPPT/liaison DC configur\xE9."})})]})]})})]}),(0,o.jsxs)("section",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"Chute de tension DC"}),(0,o.jsxs)("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("b",{children:"Seuils :"})," \u2264 1% recommand\xE9 \u2022 1\u20133% tol\xE9r\xE9 \u2022 > 3% non conforme (blocage export)."]}),(0,o.jsxs)("div",{className:"mt-2 font-mono text-[8px] text-slate-700",children:["\u0394U(V) = (2 \xD7 L \xD7 I \xD7 \u03C1) / S",(0,o.jsx)("br",{}),"\u0394U(%) = (\u0394U / Vmp_chaud) \xD7 100"]})]})]}),(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"UTE C 15-712-1 \u2013 V\xE9rifs g\xE9n\xE9rateur"}),(0,o.jsxs)("div",{className:"text-[9px] text-slate-700 leading-relaxed space-y-2",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-black text-[8px] uppercase text-slate-600",children:"Voc corrig\xE9e au froid"}),(0,o.jsxs)("div",{children:["Voc(Tmin) = ",(0,o.jsxs)("b",{children:[b.toFixed(1)," V"]})," \u2022 limite onduleur : ",(0,o.jsxs)("b",{children:[T," V"]}),"."]}),(()=>{let V=T>0?b/T:0;return b>T?(0,o.jsx)("div",{className:"mt-1 text-red-700 font-black",children:"\u274C Surtension : r\xE9duire le nombre de modules en s\xE9rie (export bloqu\xE9)."}):V>=.95?(0,o.jsxs)("div",{className:"mt-1 text-orange-700 font-black",children:["\u26A0\uFE0F Proche limite (",(V*100).toFixed(0),"% de Vmax) : pr\xE9voir marge, v\xE9rifier le Tmin retenu."]}):null})()]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-black text-[8px] uppercase text-slate-600",children:'Vmp "chaud" et plage MPPT'}),(0,o.jsxs)("div",{children:["Vmp_chaud = ",(0,o.jsxs)("b",{children:[N.toFixed(1)," V"]})," \u2022 limite basse MPPT : ",(0,o.jsxs)("b",{children:[u," V"]}),"."]}),(()=>{if(N<u)return(0,o.jsx)("div",{className:"mt-1 text-red-700 font-black",children:"\u274C Hors plage MPPT : risque de d\xE9crochage en \xE9t\xE9 (export bloqu\xE9)."});let q=u>0?N/u:0;return q<=1.05?(0,o.jsxs)("div",{className:"mt-1 text-orange-700 font-black",children:["\u26A0\uFE0F Proche limite (",(q*100).toFixed(0),'% de Vmin) : pr\xE9voir marge, v\xE9rifier la temp\xE9rature "chaude" retenue.']}):null})()]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-black text-[8px] uppercase text-slate-600",children:"Isc de calcul"}),(0,o.jsxs)("div",{children:["Isc_calc = Isc_STC \xD7 1,25 \u2192 ",(0,o.jsxs)("b",{children:[(n?.details?.iscCalculation||0).toFixed(2)," A"]}),"."]})]})]})]})]}),(0,o.jsxs)("section",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"L\xE9gende & symboles"}),(0,o.jsx)("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:(0,o.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"L (m)"})," : longueur aller du c\xE2ble (aller-retour int\xE9gr\xE9 via \xD72)."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"S (mm\xB2)"})," : section du c\xE2ble cuivre."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"I (A)"})," : courant de calcul (Isc \xD7 1,25)."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"\u03C1"})," : r\xE9sistivit\xE9 cuivre (hypoth\xE8se 0,023 \u03A9\xB7mm\xB2/m)."]})]})})]}),!Ye&&(0,o.jsx)("section",{className:"mt-auto",children:(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(ue,{children:"Protections DC"}),(0,o.jsx)("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:(0,o.jsxs)("table",{className:"w-full text-[8px]",children:[(0,o.jsx)("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-2 text-left",children:"\xC9l\xE9ment"}),(0,o.jsx)("th",{className:"p-2 text-left",children:"Crit\xE8re"}),(0,o.jsx)("th",{className:"p-2 text-center",children:"Verdict"})]})}),(0,o.jsxs)("tbody",{className:"divide-y divide-slate-200",children:[(0,o.jsxs)("tr",{className:"bg-white",children:[(0,o.jsx)("td",{className:"p-2 font-bold",children:"Sectionneur DC"}),(0,o.jsxs)("td",{className:"p-2",children:["In \u2265 Isc_calc (",(n?.details?.iscCalculation||0).toFixed(2),"A) \u2022 Un \u2265 Uoc_max (",b.toFixed(1),"V)"]}),(0,o.jsx)("td",{className:"p-2 text-center text-green-700 font-black",children:"VALIDE"})]}),(0,o.jsxs)("tr",{className:"bg-slate-50",children:[(0,o.jsx)("td",{className:"p-2 font-bold",children:"Parafoudre DC (T2)"}),(0,o.jsx)("td",{className:"p-2",children:"Protection surtensions (15-712-1)"}),(0,o.jsx)("td",{className:"p-2 text-center text-green-700 font-black",children:"INCLUS"})]}),Ge&&(0,o.jsxs)("tr",{className:"bg-white",children:[(0,o.jsx)("td",{className:"p-2 font-bold",children:"Fusibles gPV"}),(0,o.jsx)("td",{className:"p-2",children:"Requis si > 2 strings // sur un m\xEAme MPPT (p\xE9dagogique)"}),(0,o.jsx)("td",{className:"p-2 text-center text-orange-700 font-black",children:"\xC0 PR\xC9VOIR"})]})]})]})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(ue,{children:"M\xE9thodologie & symboles"}),(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[(0,o.jsxs)("div",{className:"font-mono text-[6.5px] text-slate-600 leading-[1.35]",children:[(0,o.jsx)("div",{className:"font-black text-[7px] uppercase text-slate-700 mb-1",children:"Tension au froid"}),"Uoc(Tmin) = Uoc_stc \xD7 [1 + (k_voc/100) \xD7 (Tmin - 25)] \xD7 N",(0,o.jsx)("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-700 mb-1",children:"Courant de calcul"}),"Isc_calc = Isc_stc \xD7 1.25",(0,o.jsx)("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-700 mb-1",children:"Chute de tension DC"}),"\u0394U(V) = (2 \xD7 L \xD7 I \xD7 \u03C1) / S \u2022 \u0394U(%) = \u0394U / Vmp_chaud \xD7 100"]}),(0,o.jsx)("div",{className:"mt-2 text-[7px] text-slate-600",children:"Symboles : L(m)=longueur aller \u2022 S(mm\xB2)=section \u2022 I(A)=courant \u2022 \u03C1\u22480.023 (cuivre, hypoth\xE8se chaude) \u2022 Vmp_chaud=tension de cha\xEEne en conditions chaudes."})]})]})]})}),(0,o.jsx)(Ke,{page:pe})]}),Ye&&(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[(0,o.jsx)(Ne,{title:"Analyse \xC9lectrique - Cot\xE9 DC (suite)"}),(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h1",{className:"text-[18px] font-black text-slate-900",children:"Suite DC : protections & m\xE9thodologie"}),(0,o.jsx)("div",{className:"text-[8px] text-slate-500 font-bold uppercase",children:"Page d\xE9di\xE9e pour lisibilit\xE9"})]}),(0,o.jsxs)("section",{className:"mb-4",children:[(0,o.jsx)(ue,{children:"Protections DC"}),(0,o.jsx)("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:(0,o.jsxs)("table",{className:"w-full text-[9px]",children:[(0,o.jsx)("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-3 text-left",children:"\xC9l\xE9ment"}),(0,o.jsx)("th",{className:"p-3 text-left",children:"Crit\xE8re"}),(0,o.jsx)("th",{className:"p-3 text-center",children:"Verdict"})]})}),(0,o.jsxs)("tbody",{className:"divide-y divide-slate-200",children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"p-3 font-bold",children:"Sectionneur DC"}),(0,o.jsxs)("td",{className:"p-3",children:["In \u2265 Isc_calc (",(n?.details?.iscCalculation||0).toFixed(2),"A) \u2022 Un \u2265 Uoc_max (",b.toFixed(1),"V)"]}),(0,o.jsx)("td",{className:"p-3 text-center text-green-700 font-black",children:"VALIDE"})]}),(0,o.jsxs)("tr",{className:"bg-slate-50",children:[(0,o.jsx)("td",{className:"p-3 font-bold",children:"Parafoudre DC (T2)"}),(0,o.jsx)("td",{className:"p-3",children:"Protection surtensions (15-712-1)"}),(0,o.jsx)("td",{className:"p-3 text-center text-green-700 font-black",children:"INCLUS"})]}),Ge&&(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"p-3 font-bold",children:"Fusibles gPV"}),(0,o.jsx)("td",{className:"p-3",children:"Requis si > 2 strings // sur un m\xEAme MPPT (p\xE9dagogique)"}),(0,o.jsx)("td",{className:"p-3 text-center text-orange-700 font-black",children:"\xC0 PR\xC9VOIR"})]})]})]})})]}),(0,o.jsxs)("section",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"Formules utilis\xE9es"}),(0,o.jsxs)("div",{className:"font-mono text-[7px] text-slate-700 leading-[1.4]",children:[(0,o.jsx)("div",{className:"font-black text-[7px] uppercase text-slate-600 mb-1",children:"Voc corrig\xE9e au froid"}),"Uoc(Tmin) = Uoc_stc \xD7 [1 + (k_voc/100) \xD7 (Tmin - 25)] \xD7 N",(0,o.jsx)("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-600 mb-1",children:"Isc de calcul"}),"Isc_calc = Isc_stc \xD7 1.25",(0,o.jsx)("div",{className:"mt-2 font-black text-[7px] uppercase text-slate-600 mb-1",children:"Chute DC (par MPPT)"}),"\u0394U(V) = (2 \xD7 L \xD7 I \xD7 \u03C1) / S",(0,o.jsx)("br",{}),"\u0394U(%) = (\u0394U / Vmp_chaud) \xD7 100"]})]}),(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"Symboles & rep\xE8res"}),(0,o.jsxs)("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:[(0,o.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"L (m)"})," : longueur aller du c\xE2ble (la formule int\xE8gre l'aller-retour via \xD72)."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"S (mm\xB2)"})," : section du c\xE2ble cuivre."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"I (A)"})," : courant de calcul (Isc \xD7 1,25)."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"\u0394U (V)"})," : chute de tension en volts."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"\u0394U (%)"})," : chute rapport\xE9e \xE0 Vmp \xAB chaud \xBB de la cha\xEEne."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"\u03C1"})," : r\xE9sistivit\xE9 cuivre (hypoth\xE8se 0,023 \u03A9\xB7mm\xB2/m)."]})]}),(0,o.jsx)("div",{className:"mt-3 text-[8px] text-slate-600",children:"Rep\xE8re : en pratique, viser \u2264 1% est courant ; si > 3% il est recommand\xE9 d'augmenter la section ou r\xE9duire la longueur."})]})]})]}),(0,o.jsx)(Ke,{page:_e})]})]}),(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[(0,o.jsx)(Ne,{title:"Analyse \xC9lectrique 2/2 - Cot\xE9 AC"}),(0,o.jsx)("div",{className:"flex items-end justify-between gap-4 mb-3",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-[20px] font-black text-slate-900 leading-tight",children:"Audit \xE9lectrique AC (liaison tableau)"}),(0,o.jsx)("p",{className:"text-slate-500 text-[9px] font-bold uppercase mt-3",children:`NFC 15-100 \u2022 chutes de tension AC \u2022 protections de t\xEAte${K?" \u2022 cumul \u201Cproduction\u201D (micro-onduleurs)":""}`})]})}),(()=>{let V=[6,10,16,20,25,32,40,50,63,80,100,125],q=Number(n?.details?.nominalAcCurrent||0),$=Number(n?.details?.recommendedBreakerTheo??(q?q*1.25:0)),Oe=Qe=>Math.abs(Qe-Math.round(Qe))<1e-6?String(Math.round(Qe)):Qe.toFixed(1),be=$,$e=V.find(Qe=>Qe>=be)??be,xt=Number(e?.inverterConfig?.agcpValue||0),Ut=xt>0?tn(xt,!!S):null,Va=Ut??(typeof h=="number"&&h>0?h:$e),qa=Ut?`AGCP saisi ${xt} A \u2192 normalis\xE9 ${Ut} A`:typeof h=="number"&&h>0?`coffret AC ${h} A`:null,Zt=q,Kt=$,Yi=V.find(Qe=>Qe>=Kt)??Kt,ul=typeof m=="number"&&m>0?m:Yi,ac=e?.acCableSectionMm2!=null,Pl=e?.ac1CableSectionMm2!=null,nc=cl(i,Va),lc=s&&typeof c=="number"?cl(c,ul):!1;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("section",{className:"mb-3",children:[(0,o.jsx)(ue,{children:"Tron\xE7ons AC \u2013 synth\xE8se"}),(0,o.jsx)("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:(0,o.jsxs)("table",{className:"w-full text-[9px]",children:[(0,o.jsx)("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-3 text-left",children:"Tron\xE7on"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"L (m)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"Section"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"Disj mini (th\xE9o)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"Disj retenu"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"\u0394U (%)"}),(0,o.jsx)("th",{className:"p-3 text-center",children:"Statut"})]})}),(0,o.jsxs)("tbody",{className:"divide-y divide-slate-200",children:[s&&typeof c=="number"&&typeof r=="number"&&(0,o.jsxs)("tr",{className:"bg-white",children:[(0,o.jsxs)("td",{className:"p-3",children:[(0,o.jsx)("div",{className:"font-black text-slate-900",children:"AC1 \u2022 Onduleur \u2192 Coffret AC"}),(0,o.jsx)("div",{className:"text-[7px] text-slate-500",children:"Liaison interne \u201Cproduction\u201D (c\xF4t\xE9 PV). Dimensionn\xE9e sur Imax AC de l\u2019onduleur."})]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:e.distanceInverterToAcCoffret||0}),(0,o.jsxs)("td",{className:"p-3 text-right",children:[(0,o.jsx)("span",{className:"font-mono font-black",children:c}),(0,o.jsx)("span",{className:"ml-1",children:"mm\xB2"}),Pl&&(0,o.jsx)("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc\xE9"})]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Kt?Oe(Kt):"-"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:ul||"-"}),(0,o.jsx)("td",{className:`p-3 text-right font-black ${r>3?"text-red-700":r>1?"text-orange-700":"text-green-700"}`,children:r.toFixed(2)}),(0,o.jsx)("td",{className:"p-3 text-center",children:lc?(0,o.jsx)(Te,{label:"NON conforme"}):r>3?(0,o.jsx)(Te,{label:">3%"}):r>1?(0,o.jsx)(Te,{warn:!0,label:">1%"}):(0,o.jsx)(Te,{ok:!0,label:"OK"})})]}),(0,o.jsxs)("tr",{className:s?"bg-slate-50":"bg-white",children:[(0,o.jsxs)("td",{className:"p-3",children:[(0,o.jsx)("div",{className:"font-black text-slate-900",children:"AC2 \u2022 Coffret AC \u2192 Tableau"}),(0,o.jsx)("div",{className:"text-[7px] text-slate-500",children:"Liaison vers point de raccordement. R\xE9f. : UTE C 15-712-1 (viser ~1%) \u2022 NF C 15-100 (limites g\xE9n\xE9rales)."})]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:e.distanceToPanel}),(0,o.jsxs)("td",{className:"p-3 text-right",children:[(0,o.jsx)("span",{className:"font-mono font-black",children:i}),(0,o.jsx)("span",{className:"ml-1",children:"mm\xB2"}),ac&&(0,o.jsx)("span",{className:"ml-1 text-[7px] font-black text-indigo-700",children:"forc\xE9"})]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:be?Oe(be):"-"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Va||"-"}),(0,o.jsx)("td",{className:`p-3 text-right font-black ${l>3?"text-red-700":l>1?"text-orange-700":"text-green-700"}`,children:l.toFixed(2)}),(0,o.jsx)("td",{className:"p-3 text-center",children:nc?(0,o.jsx)(Te,{label:"NON conforme"}):l>3?(0,o.jsx)(Te,{label:">3%"}):l>1?(0,o.jsx)(Te,{warn:!0,label:">1%"}):(0,o.jsx)(Te,{ok:!0,label:"OK"})})]})]})]})}),(0,o.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-3",children:[(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[(0,o.jsx)("div",{className:"text-[7px] font-black uppercase text-slate-500",children:"Protection AC \u2013 rappel"}),(0,o.jsxs)("div",{className:"text-[8px] text-slate-700 leading-snug space-y-1",children:[s&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-black",children:"AC1"})," \u2014 Base de calcul : ",(0,o.jsx)("b",{children:"Imax AC onduleur"}),Zt?(0,o.jsxs)(o.Fragment,{children:[" = ",(0,o.jsxs)("b",{children:[Zt.toFixed(1)," A"]})]}):(0,o.jsx)(o.Fragment,{children:" (donn\xE9e onduleur)"}),". Mini th\xE9orique : ",(0,o.jsxs)("b",{children:[Oe(Kt)," A"]}),(0,o.jsx)("span",{className:"text-slate-500",children:" (In_min = 1,25 \xD7 Imax)"})," \u2022 calibre commercial sup\xE9rieur : ",(0,o.jsxs)("b",{children:[Yi," A"]})," \u2022 retenu : ",(0,o.jsxs)("b",{children:[ul," A"]}),"."]}),(0,o.jsxs)("div",{className:"text-[7px] text-slate-500",children:["Rep\xE8re : si Imax AC n\u2019est pas fourni par la notice, on peut l\u2019estimer via la puissance AC max : I \u2248 S",(0,o.jsx)("sub",{children:"AC"}),"/230V (mono) ou I \u2248 S",(0,o.jsx)("sub",{children:"AC"}),"/(\u221A3\xD7400V) (tri)."]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"font-black",children:"AC2"})," \u2014 Base de calcul : ",(0,o.jsx)("b",{children:"Imax AC \u201Cproduction\u201D"}),ac2Imax?(0,o.jsxs)(o.Fragment,{children:[" = ",(0,o.jsxs)("b",{children:[ac2Imax.toFixed(1)," A"]})]}):(0,o.jsx)(o.Fragment,{children:" (courant nominal max)"}),". Mini th\xE9orique : ",(0,o.jsxs)("b",{children:[Oe(be)," A"]}),(0,o.jsx)("span",{className:"text-slate-500",children:" (In_min = 1,25 \xD7 Imax)"})," \u2022 calibre commercial sup\xE9rieur : ",(0,o.jsxs)("b",{children:[$e," A"]})," \u2022 retenu : ",(0,o.jsxs)("b",{children:[Va," A"]}),qa?(0,o.jsxs)(o.Fragment,{children:[" (",qa,")"]}):null,"."]}),(0,o.jsx)("div",{className:"text-[7px] text-slate-500",children:"Note : en onduleur centralis\xE9, le courant \u201Cproduction\u201D traversant AC2 est celui de l\u2019onduleur (m\xEAme base que AC1). Le calibre retenu peut \xEAtre impos\xE9 par l\u2019AGCP / coffret."})]}),(0,o.jsxs)("div",{className:"text-[7px] text-slate-500",children:["R\xE8gle : ",(0,o.jsx)("b",{children:"In_min = 1,25 \xD7 Imax AC"})," (NF C 15-100 / UTE C 15-712-1). Le calibre retenu peut \xEAtre ",(0,o.jsx)("b",{children:"impos\xE9"})," par l\u2019AGCP ou le coffret AC (prioritaire sur le calibre \u201Ccommercial sup\xE9rieur\u201D)."]})]})]}),(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-3 bg-slate-50",children:[(0,o.jsx)("div",{className:"text-[7px] font-black uppercase text-slate-500",children:"Chute de tension \u2013 rep\xE8re"}),(0,o.jsxs)("div",{className:"text-[8px] text-slate-700 leading-snug",children:["Bonnes pratiques : viser ",(0,o.jsx)("b",{children:"\u2264 1%"}),". Tol\xE9r\xE9 : ",(0,o.jsx)("b",{children:"1\u20133%"}),". Au-del\xE0 de ",(0,o.jsx)("b",{children:"3%"})," : augmenter la section / r\xE9duire la longueur.",K?(0,o.jsx)(o.Fragment,{children:" Cumul \u201Cproduction\u201D = pire branche + AC2."}):null]})]})]})]}),K&&g?.branches&&g.branches.length>0&&(0,o.jsxs)("section",{className:"mb-3",children:[(0,o.jsx)(ue,{children:"Branches micro-onduleurs (chutes AC)"}),(0,o.jsx)("div",{className:"border border-slate-200 rounded-2xl overflow-hidden",children:(0,o.jsxs)("table",{className:"w-full text-[9px]",children:[(0,o.jsx)("thead",{className:"bg-slate-50 text-slate-600 font-black uppercase",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"p-3 text-left",children:"Branche"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"# micros"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"L (m)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"S (mm\xB2)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"I (A)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"\u0394U (V)"}),(0,o.jsx)("th",{className:"p-3 text-right",children:"\u0394U (%)"}),(0,o.jsx)("th",{className:"p-3 text-center",children:"Statut"})]})}),(0,o.jsx)("tbody",{className:"divide-y divide-slate-200",children:g.branches.map((Qe,lo)=>{let La=Number(Qe.dropPercent??Qe.duPercent??0),xa=La>3?"text-red-700":La>1?"text-orange-700":"text-green-700";return(0,o.jsxs)("tr",{className:lo%2===0?"bg-white":"bg-slate-50",children:[(0,o.jsxs)("td",{className:"p-3 font-black",children:["Branche ",Qe.branchIndex??lo+1]}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Qe.micros??Qe.microCount??"-"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Qe.lengthM??Qe.length??"-"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Qe.sectionMm2??Qe.section??"-"}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Number(Qe.currentA??Qe.current??0).toFixed(1)}),(0,o.jsx)("td",{className:"p-3 text-right font-mono",children:Number(Qe.dropV??Qe.duV??0).toFixed(1)}),(0,o.jsx)("td",{className:`p-3 text-right font-black ${xa}`,children:La.toFixed(2)}),(0,o.jsx)("td",{className:"p-3 text-center",children:La>3?(0,o.jsx)(Te,{label:">3%"}):La>1?(0,o.jsx)(Te,{warn:!0,label:">1%"}):(0,o.jsx)(Te,{ok:!0,label:"OK"})})]},lo)})})]})}),(0,o.jsxs)("div",{className:"mt-1 text-[7px] text-slate-500",children:["Chute \u201Cproduction\u201D cumul\xE9e : ",(0,o.jsxs)("b",{children:[me.toFixed(2),"%"]})," (pire branche + AC2)."]})]}),(0,o.jsxs)("section",{className:"mt-auto grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"Formules utilis\xE9es"}),(0,o.jsxs)("div",{className:"font-mono text-[7px] text-slate-700 leading-[1.4]",children:["Imax AC = P_ac / U_r\xE9seau",(0,o.jsx)("br",{}),"In_min = 1,25 \xD7 Imax AC",(0,o.jsx)("br",{}),"\u0394U(%) = (L \xD7 I \xD7 \u03C1) / (S \xD7 U) \xD7 100",(0,o.jsx)("div",{className:"mt-2 text-[7px] text-slate-600",children:"\u03C1 cuivre \u2248 0,023 \u03A9\xB7mm\xB2/m (hypoth\xE8se chaude)."})]})]}),(0,o.jsxs)("div",{className:"border border-slate-200 rounded-xl p-4 bg-slate-50",children:[(0,o.jsx)(ue,{children:"Symboles"}),(0,o.jsx)("div",{className:"text-[9px] text-slate-700 leading-relaxed",children:(0,o.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"L (m)"})," : distance coffret AC \u2192 point de raccordement (AC2) ou onduleur \u2192 coffret (AC1)."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"S (mm\xB2)"})," : section c\xE2ble cuivre."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"I (A)"})," : courant nominal max en AC."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"\u0394U (%)"})," : chute de tension."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("b",{children:"In"})," : calibre disjoncteur."]})]})})]})]})]})})(),(0,o.jsx)(Ke,{page:Q})]}),(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white overflow-hidden text-left",children:[(0,o.jsx)(Ne,{title:"Synth\xE8se Consuel-ready"}),(0,o.jsx)("section",{className:"flex-1",children:(0,o.jsxs)("div",{className:"bg-slate-900 text-white rounded-3xl p-8 relative overflow-hidden shadow-2xl",children:[(0,o.jsx)("div",{className:"absolute top-6 right-8 text-xs font-black uppercase tracking-[0.3em] opacity-20",children:"Synth\xE8se Administrative"}),(0,o.jsxs)("h3",{className:"text-xl font-black mb-6 uppercase tracking-tight flex items-center gap-3",children:[(0,o.jsx)("span",{className:"w-1.5 h-6 bg-orange-500"}),' Donn\xE9es "Consuel-ready"']}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Puissance PV totale install\xE9e"}),(0,o.jsxs)("span",{className:"text-lg font-bold",children:[v," kWc"]})]}),(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Puissance maximale de l'onduleur"}),(0,o.jsxs)("span",{className:"text-lg font-bold",children:[(n?.details?.maxAcPower/1e3).toFixed(2)," kVA"]})]}),(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Tension de service DC max (Uoc_max)"}),(0,o.jsxs)("span",{className:"text-lg font-bold",children:[b," V"]})]})]}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Courant de court-circuit max corrig\xE9 (Isc x 1.25)"}),(0,o.jsxs)("span",{className:"text-lg font-bold",children:[n?.details?.iscCalculation," A"]})]}),(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Intensit\xE9 maximale AC par phase"}),(0,o.jsxs)("span",{className:"text-lg font-bold",children:[n?.details?.nominalAcCurrent," A"]})]}),(()=>{let V=Number(n?.details?.recommendedBreaker||0),q=[6,10,16,20,25,32,40,50,63,80,100,125],$=Number(n?.details?.nominalAcCurrent||n?.details?.maxAcCurrent||0),Oe=$?Math.round($*1.25):Number(n?.details?.recommendedBreaker||0),be=q.find(Va=>Va>=V)??null,$e=Number(e?.inverterConfig?.agcpValue||0),Ut=($e>0?tn($e,!!S):null)??(typeof h=="number"&&h>0?h:be??V);return(0,o.jsxs)("div",{className:"border-b border-slate-800 pb-2",children:[(0,o.jsx)("label",{className:"block text-[8px] text-slate-500 font-black uppercase",children:"Protection de t\xEAte (Calibre disjoncteur retenu)"}),(0,o.jsxs)("div",{className:"flex items-end justify-between gap-4",children:[(0,o.jsxs)("span",{className:"text-lg font-bold",children:[Ut," A"]}),V>0?(0,o.jsxs)("span",{className:"text-[10px] text-slate-400 italic",children:["Mini th\xE9orique : ",V," A (1,25 \xD7 Imax AC)"]}):null]})]})})()]})]}),(0,o.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-800",children:[(0,o.jsx)("p",{className:"text-[10px] text-slate-400 leading-relaxed italic",children:"* Note technique : Cette synth\xE8se facilite le remplissage des attestations de conformit\xE9 (Dossiers Techniques SC 144A/B). Elle ne dispense pas l'installateur d'une v\xE9rification sur site des calibres et longueurs r\xE9elles."}),(0,o.jsx)("p",{className:"mt-2 text-[10px] text-slate-400 leading-relaxed italic",children:(()=>{let V=Number(n?.details?.recommendedBreaker||0);if(!V)return null;let q=[6,10,16,20,25,32,40,50,63,80,100,125],$=Number(n?.details?.nominalAcCurrent||n?.details?.maxAcCurrent||0),Oe=$?Math.round($*1.25):Number(n?.details?.recommendedBreaker||0),be=q.find(Zt=>Zt>=V)??null,$e=Number(e?.inverterConfig?.agcpValue||0),xt=$e>0?tn($e,!!S):null,Ut=xt??(typeof h=="number"&&h>0?h:be??V),Va=q.includes(V),qa=xt?`AGCP saisi ${$e} A \u2192 normalis\xE9 ${xt} A`:typeof h=="number"&&h>0?`coffret AC ${h} A`:null;return Va?(0,o.jsxs)(o.Fragment,{children:["* Note technique \u2013 calibre : mini th\xE9orique ",V," A (1,25 \xD7 Imax AC). Calibre retenu : ",Ut," A",qa?` (${qa})`:"","."]}):(0,o.jsxs)(o.Fragment,{children:["* Note technique \u2013 calibre normalis\xE9 : calibre minimal th\xE9orique ",V," A (1,25 \xD7 Imax AC). Calibre commercial sup\xE9rieur : ",be??V," A. Calibre retenu : ",Ut," A",qa?` (${qa})`:"","."]})})()})]})]})}),(0,o.jsx)(Ke,{page:ve})]}),(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white",children:[(0,o.jsx)(Ne,{title:"Sch\xE9ma \xE9lectrique de principe"}),(0,o.jsx)("div",{className:"flex-1 border border-slate-100 rounded-3xl overflow-hidden bg-white shadow-sm p-4 my-6",children:(0,o.jsx)(Fg,{project:e,materials:t})}),(0,o.jsx)(Ke,{page:we})]}),ce.map((V,q)=>(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[(0,o.jsx)(Ne,{title:`Liste mat\xE9riel globale ${Re>1?`(${q+1}/${Re})`:""}`}),(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsxs)("table",{className:"w-full text-[11px] border-collapse",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"bg-slate-800 text-white font-black text-[9px] tracking-widest uppercase",children:[(0,o.jsx)("th",{className:"p-4 text-left rounded-tl-xl",children:"REF."}),(0,o.jsx)("th",{className:"p-4 text-left",children:"DESCRIPTION"}),(0,o.jsx)("th",{className:"p-4 text-center",children:"QTE"}),(0,o.jsx)("th",{className:"p-4 text-right rounded-tr-xl",children:"CODE RICH."})]})}),(0,o.jsx)("tbody",{className:"divide-y divide-slate-100 border-x border-slate-100",children:V.map(($,Oe)=>{if($.type==="header")return(0,o.jsx)("tr",{className:"bg-slate-200 border-y border-slate-300",children:(0,o.jsx)("td",{colSpan:4,className:"px-4 py-2 font-black text-slate-700 uppercase tracking-widest text-[10px]",children:$.title})},`header-${$.title}`);if($.type==="subheader")return(0,o.jsx)("tr",{className:"bg-green-50 border-y border-green-100",children:(0,o.jsx)("td",{colSpan:4,className:"px-4 py-1.5 font-bold text-green-800 uppercase tracking-wide text-[9px]",children:$.title})},`subheader-${$.title}`);if($.type==="warning")return(0,o.jsx)("tr",{className:"bg-red-50 border-b border-red-200",children:(0,o.jsx)("td",{colSpan:4,className:"p-2 text-[8px] font-bold text-red-600 text-center leading-tight",children:$.text})},`warn-${Oe}`);let be=$.material;return(0,o.jsxs)("tr",{className:Oe%2===0?"bg-white":"bg-slate-100",children:[(0,o.jsx)("td",{className:"p-4 font-black text-slate-800",children:be.id}),(0,o.jsx)("td",{className:"p-4",children:(0,o.jsx)("div",{className:"text-slate-500 font-medium",children:be.description})}),(0,o.jsx)("td",{className:"p-4 text-center font-black text-slate-800 text-base",children:be.quantity}),(0,o.jsx)("td",{className:"p-4 text-right font-mono font-bold text-slate-400 text-[10px]",children:be.price||"-"})]},be.id)})})]})}),(0,o.jsx)(Ke,{page:Fe-Re+q-(je?2:0)-(xe?1:0)})]},q)),je&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[(0,o.jsx)(Ne,{title:"Documentation Technique - Structure & Modules"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-8 mt-4 flex-1 content-start",children:[(0,o.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,o.jsxs)("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["1. Structure ",H.structure.brand]}),(0,o.jsxs)("div",{className:"space-y-3",children:[H.structure.manuals.map((V,q)=>(0,o.jsx)(an,{title:"Notice de Montage (PDF)",url:V,icon:"\u{1F527}"},q)),H.structure.videos.map((V,q)=>(0,o.jsx)(an,{title:`Vid\xE9o : ${V.title}`,url:V.url,icon:"\u25B6\uFE0F"},q))]})]}),(0,o.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,o.jsxs)("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["2. Panneaux ",H.panel.name]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)(an,{title:"Fiche Technique (PDF)",url:H.panel.datasheet}),(0,o.jsx)(an,{title:"Manuel d'Installation (PDF)",url:H.panel.manual,icon:"\u{1F4D6}"})]})]})]}),(0,o.jsx)(Ke,{page:Fe-(je?1:0)-(xe?1:0)})]}),(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[(0,o.jsx)(Ne,{title:"Documentation Technique - \xC9nergie & Administratif"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-8 mt-4 flex-1 content-start",children:[(0,o.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,o.jsxs)("h3",{className:"text-sm font-black text-slate-800 uppercase border-b-2 border-slate-800 pb-2 mb-4",children:["3. Onduleur ",H.inverter.brand]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)(an,{title:"Fiche Technique",url:H.inverter.datasheet}),(0,o.jsx)(an,{title:"Manuel Utilisateur",url:H.inverter.manual,icon:"\u{1F4D6}"}),H.inverter.foxCommissioningUrl&&(0,o.jsx)(an,{title:"Mise en service (Cloud)",url:H.inverter.foxCommissioningUrl,icon:"\u2601\uFE0F"})]})]}),(0,o.jsxs)("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[(0,o.jsx)("h3",{className:"text-sm font-black text-blue-900 uppercase border-b-2 border-blue-900 pb-2 mb-4",children:"4. D\xE9marches & Consuel"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)(an,{title:"Portail CONSUEL (Demande en ligne)",url:"https://www.consuel.com/",icon:"\u{1F310}"}),(0,o.jsx)(an,{title:"Dossier Technique SC 144A (Vente Surplus)",url:"https://www.consuel.com/dossiers-techniques/",icon:"\u{1F4C4}"}),(0,o.jsx)(an,{title:"Dossier Technique SC 144B (Autoconso Totale/Batterie)",url:"https://www.consuel.com/dossiers-techniques/",icon:"\u{1F4C4}"})]})]})]}),(0,o.jsx)(Ke,{page:Fe-(xe?1:0)})]})]}),xe&&(0,o.jsxs)("div",{className:"pdf-page w-[210mm] h-[297mm] p-[15mm] flex flex-col bg-white text-left",children:[(0,o.jsx)(Ne,{title:"Rappel et R\xE8glementation"}),(0,o.jsxs)("div",{className:"mt-8 flex-1",children:[(0,o.jsx)("h2",{className:"text-3xl font-black text-slate-800 mb-2",children:"Cadre Normatif"}),(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-3xl p-10 relative overflow-hidden shadow-sm",children:[(0,o.jsx)("h3",{className:"text-xl font-black text-blue-900 mb-6 uppercase tracking-tight",children:"Attestation de Conformit\xE9 CONSUEL"}),(0,o.jsx)("p",{className:"text-sm text-blue-800 font-medium leading-relaxed mb-8 max-w-xl",children:"Pour toute installation de production d'\xE9nergie \xE9lectrique (photovolta\xEFque) avec ou sans dispositif de stockage, la conformit\xE9 aux normes en vigueur est obligatoire."}),(0,o.jsx)("a",{href:"https://actualites.consuel.com/wp-content/uploads/2025/07/NL12-ART-AUTOCONSO-JUILLET25-v12.pdf",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-black text-sm uppercase tracking-widest shadow-md transition-transform active:scale-95",children:"Consulter la note officielle"})]})]}),(0,o.jsx)(Ke,{page:Fe})]})]})},Gg=G2;var O=ae(De(),1),Js={},Yg=e=>(Js[e]||(Js[e]=new Promise((t,a)=>{let n=document.createElement("script");n.src=e,n.async=!0,n.onload=()=>t(),n.onerror=()=>{delete Js[e],a(new Error(`Le script ${e} n'a pas pu \xEAtre charg\xE9.`))},document.head.appendChild(n)})),Js[e]),Y2=async()=>{if(!(typeof window.html2canvas=="function"&&typeof window.jspdf<"u"))try{await Promise.all([Yg("https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"),Yg("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js")]);let e=0;for(;(typeof window.html2canvas!="function"||typeof window.jspdf>"u")&&e<50;)await new Promise(t=>setTimeout(t,100)),e++}catch{throw new Error("Les librairies PDF n'ont pas pu \xEAtre charg\xE9es.")}},j2=({materials:e,project:t,onUpdate:a,report:n,voltageDrop:l,acSection:i,showAc1:s,ac1VoltageDrop:r,ac1Section:c,ac1BreakerA:m,microBranchesReport:g})=>{let[C,v]=(0,qt.useState)(e),[h,S]=(0,qt.useState)(!1),[w,R]=(0,qt.useState)("Exporter en PDF"),[f,b]=(0,qt.useState)(!1),[N,A]=(0,qt.useState)({includeDatasheets:!0,includeGuides:!0,includeRegulations:!0});(0,qt.useEffect)(()=>{v(e)},[e]);let T=(k,H)=>{let te=C.map(ce=>ce.id===k?{...ce,price:H}:ce);v(te),a(te)},u=(0,qt.useMemo)(()=>Fr(C),[C]),M=(0,qt.useCallback)(async()=>{if(h)return;let k=document.getElementById("pdf-report-source");if(!k)return;S(!0),R("Pr\xE9paration...");let H=window.scrollY;window.scrollTo(0,0);let te=k.cloneNode(!0);te.id="pdf-report-clone",te.classList.remove("hidden"),te.style.display="block",te.style.position="absolute",te.style.left="-10000px",te.style.top="0",te.style.width="210mm",document.body.appendChild(te),await new Promise(ce=>setTimeout(ce,3e3));try{await Y2();let{jsPDF:ce}=window.jspdf,Re=new ce({orientation:"p",unit:"mm",format:"a4",compress:!0}),je=Re.internal.pageSize.getWidth(),xe=Re.internal.pageSize.getHeight(),z=te.querySelectorAll(".pdf-page");for(let se=0;se<z.length;se++){R(`G\xE9n\xE9ration Page ${se+1}/${z.length}...`);let pe=z[se],_e=await window.html2canvas(pe,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff",scrollY:0});se>0&&Re.addPage();let Q=_e.toDataURL("image/jpeg",.9);Re.addImage(Q,"JPEG",0,0,je,xe);let ve=pe.getBoundingClientRect(),we=je/ve.width,Ce=xe/ve.height;pe.querySelectorAll("a").forEach(Te=>{let ue=Te.getAttribute("href");if(ue&&ue!=="#"&&ue.startsWith("http")){let Pe=Te.getBoundingClientRect(),Ne=(Pe.left-ve.left)*we,Ke=(Pe.top-ve.top)*Ce,V=Pe.width*we,q=Pe.height*Ce;Re.link(Ne,Ke,V,q,{url:ue})}})}Re.save(`Dossier_Technique_${t.name.replace(/\s/g,"_")||"Solaire"}.pdf`)}catch(ce){console.error("Erreur d'export PDF:",ce),alert("Une erreur est survenue lors de la g\xE9n\xE9ration du PDF interactif.")}finally{document.getElementById("pdf-report-clone")?.remove(),window.scrollTo(0,H),S(!1),R("Exporter en PDF")}},[t,h]),D=n?.isCompatible??!1,_=(g?.errors||[]).filter(Boolean),P=_.length===0,ne=(()=>{let k=typeof l=="number"?l<=3:!0,H=s&&typeof r=="number"?r<=3:!0;return k&&H})(),re=t?.inverterConfig?.phase==="Tri",Ie=n?.acBreakerMin??n?.details?.recommendedBreaker??null,Ee=(()=>{let k=Number(t?.inverterConfig?.agcpValue||0);return k>0?tn(k,!!re)??On(k,!!re):typeof selectedAcCoffretA=="number"&&selectedAcCoffretA>0?selectedAcCoffretA:typeof Ie=="number"&&Ie>0?On(Ie,!!re):null})(),Ge=s&&typeof m=="number"&&m>0?m:null,Ye=(()=>{let k=Ee&&typeof i=="number"?!cl(i,Ee):!0,H=s&&Ge&&typeof c=="number"?!cl(c,Ge):!0;return k&&H})(),K=Ee&&typeof i=="number"?gg(i,Ee):!1,j=(()=>{let k=[],H=n?.details?.stringsAnalysis||[];if(!Array.isArray(H)||H.length===0)return{ok:!0,reasons:k};let te=.023,ce=[2.5,6,10,16],Re=t?.inverterConfig?.dcCablingRuns||[],je=(xe,z,se)=>{let pe=6;if(xe>0&&z>0&&se>0)for(let _e of ce.filter(Q=>Q>=6)){let Q=2*xe*z*te/(_e||1);if((se>0?Q/se*100:0)<=3){pe=_e;break}pe=_e}return pe};for(let xe of H){let z=Number(xe?.mpptIndex||0);if(!z)continue;let se=Re.find(ue=>Number(ue.mpptIndex)===z),pe=Number(se?.lengthM||0);if(!pe||pe<=0){k.push(`Liaison DC MPPT ${z} : longueur manquante (\xE0 renseigner).`);continue}let _e=Number(xe?.iscCalculation||0),Q=Number(xe?.vmpHot||0)||1,ve=se?.sectionMm2==null?null:Number(se?.sectionMm2),we=je(pe,_e,Q),Ce=ve??we,Te=2*pe*_e*te/(Ce||1)/Q*100;if(Te>3&&k.push(`Liaison DC MPPT ${z} : chute de tension trop \xE9lev\xE9e (\u0394U=${Te.toFixed(2)}% > 3%). Augmenter la section ou r\xE9duire la longueur.`),_e>0&&Ce&&Hr(Ce,_e)){let ue=$s(Ce),Pe=Qs(_e,ce);k.push(`Liaison DC MPPT ${z} : section ${Ce} mm\xB2 trop faible pour I=${_e.toFixed(1)} A (max conseill\xE9 ~${ue} A). Recommand\xE9 \u2265 ${Pe} mm\xB2.`)}}return{ok:k.length===0,reasons:k}})(),me=!s||typeof c=="number"&&typeof i=="number"&&i>=c,Ue=D&&P&&ne&&Ye&&j.ok&&me,ge=(k,H)=>(0,O.jsxs)(qt.default.Fragment,{children:[(0,O.jsxs)("tr",{className:`border-b border-slate-100 hover:bg-slate-50 ${H%2===0?"bg-white":"bg-slate-100"}`,children:[(0,O.jsx)("td",{className:"px-6 py-2 font-medium text-slate-900",children:k.datasheetUrl?(0,O.jsxs)("a",{href:k.datasheetUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline hover:text-blue-800 transition-colors flex items-center gap-1 group",title:"Voir la fiche technique",children:[k.id,(0,O.jsx)("span",{className:"opacity-0 group-hover:opacity-100 text-[10px]",children:"\u2197"})]}):k.id}),(0,O.jsxs)("td",{className:"px-6 py-2",children:[k.datasheetUrl?(0,O.jsx)("a",{href:k.datasheetUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 hover:underline block transition-colors",title:"Voir la fiche technique",children:k.description}):(0,O.jsx)("div",{children:k.description}),(()=>{let te=(k.description||"").toLowerCase(),ce=(te.includes("coffret")||te.includes("cofac"))&&!te.includes("coffret dc")&&(te.includes("type f")||te.includes("type b")),Re=!t.inverterConfig.agcpValue||t.inverterConfig.agcpValue<=0;return!ce||!Re?null:(0,O.jsx)("div",{className:"text-[10px] text-red-600 font-bold mt-1 italic leading-tight",children:"Disjoncteur non livr\xE9 dans les coffrets AC \xE0 calibrer et a ajouter en fonction de l'AGCP client"})})(),(()=>{let te=(k.description||"").toLowerCase();if(!((te.includes("coffret")||te.includes("cofac"))&&!te.includes("coffret dc")&&(te.includes("type f")||te.includes("type b"))))return null;let Re=Number(n?.details?.recommendedBreaker||0),je=[6,10,16,20,25,32,40,50,63,80,100,125],xe=je.find(z=>z>=Re);return!Re||je.includes(Re)?null:(0,O.jsxs)("div",{className:"text-[10px] text-slate-600 font-bold mt-1 italic leading-tight",children:["Note technique : calibre minimal th\xE9orique calcul\xE9 = ",Re," A (1,25 \xD7 Imax AC). En l\u2019absence de calibre commercial, le calibre normalis\xE9 retenu est ",xe??Re," A."]})})()]}),(0,O.jsx)("td",{className:"px-6 py-2 text-center font-bold text-slate-700",children:k.quantity}),(0,O.jsx)("td",{className:"px-6 py-2 text-right",children:(0,O.jsx)("input",{type:"text",value:k.price||"",onChange:te=>T(k.id,te.target.value),className:"w-24 text-right p-1 border border-slate-300 rounded bg-white/50 focus:bg-white"})})]}),k.id==="FOX-MICRO-1000"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte",(0,O.jsx)("br",{}),"Jusqu\u2019\xE0 7 micro-onduleurs sur un c\xE2ble \xE9quivalent 6 mm\xB2 avec un disjoncteur jusqu\u2019\xE0 32 A .\u{1F449} Ces limites tiennent compte de la capacit\xE9 de transport de courant du c\xE2ble et des jonctions. Merci de vous reporter a la fiche technique constructeur"]})}),k.id==="ENP-IQ8MC-72-M-INT"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte (IQ8MC)",(0,O.jsx)("br",{}),"Disjoncteur 20 A monophas\xE9 : nombre max ~11 par branche (C\xE2ble 2.5mm\xB2).",(0,O.jsx)("br",{}),"\u{1F449} Ces limites recommand\xE9es par Enphase tiennent compte de la chute de tension et du courant admissible du c\xE2ble AC.",(0,O.jsx)("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),k.id==="ENP-IQ8HC-72-M-INT"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte (IQ8HC)",(0,O.jsx)("br",{}),"Disjoncteur 20 A monophas\xE9 : nombre max ~9 par branche (C\xE2ble 2.5mm\xB2).",(0,O.jsx)("br",{}),"\u{1F449} Ces limites recommand\xE9es par Enphase tiennent compte de la chute de tension et du courant admissible du c\xE2ble AC.",(0,O.jsx)("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),k.id==="ENP-IQ8P-72-2-INT"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte (IQ8P)",(0,O.jsx)("br",{}),"Disjoncteur 20 A monophas\xE9 : nombre max ~7-8 par branche (C\xE2ble 2.5mm\xB2).",(0,O.jsx)("br",{}),"\u{1F449} Ces limites recommand\xE9es par Enphase tiennent compte de la chute de tension et du courant admissible du c\xE2ble AC.",(0,O.jsx)("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),k.id==="APS-DS3"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte (DS3)",(0,O.jsx)("br",{}),"C\xE2ble AC bus 2.5mm\xB2 (Max ~20A) : 5 unit\xE9s max par branche.",(0,O.jsx)("br",{}),"\u{1F449} Ces limites tiennent compte de la capacit\xE9 du c\xE2ble bus et des chutes de tension.",(0,O.jsx)("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})}),k.id==="APS-DS3-H"&&(0,O.jsx)("tr",{className:"bg-red-50 border-b border-red-100",children:(0,O.jsxs)("td",{colSpan:4,className:"px-6 py-3 text-[11px] text-red-600 font-bold leading-tight",children:["\u26A0\uFE0F Ce qu\u2019il faut aussi prendre en compte (DS3-H)",(0,O.jsx)("br",{}),"C\xE2ble AC bus 2.5mm\xB2 (Max ~20A) : 4 \xE0 5 unit\xE9s max par branche.",(0,O.jsx)("br",{}),"\u{1F449} Ces limites tiennent compte de la capacit\xE9 du c\xE2ble bus et des chutes de tension.",(0,O.jsx)("br",{}),"Merci de vous reporter a la fiche technique constructeur"]})})]},k.id);return(0,O.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md relative",children:[(0,O.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,O.jsx)("h3",{className:"text-lg font-semibold text-slate-700",children:"Liste de Mat\xE9riel Globale"}),(0,O.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,O.jsxs)("button",{onClick:()=>b(!0),disabled:h||!Ue,className:"flex items-center justify-center gap-2 w-[180px] bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm disabled:bg-slate-300 disabled:cursor-not-allowed",children:[h?(0,O.jsx)(Wr,{className:"h-5 w-5 animate-spin"}):(0,O.jsx)(Lg,{className:"h-5 w-5"}),(0,O.jsx)("span",{children:h?w:"Exporter en PDF"})]}),!D&&(0,O.jsx)("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded",children:"\u26A0\uFE0F Export bloqu\xE9 : Configuration non conforme"}),D&&!P&&(0,O.jsx)("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded max-w-[260px] text-right",children:"\u26A0\uFE0F Export bloqu\xE9 : micro-onduleurs \xE0 corriger"}),D&&P&&!me&&(0,O.jsx)("span",{className:"text-[10px] font-bold text-red-500 uppercase bg-red-50 px-2 py-1 rounded max-w-[260px] text-right",children:"\u26A0\uFE0F Export bloqu\xE9 : AC2 doit \xEAtre \u2265 AC1"})]})]}),(0,O.jsx)("div",{className:"overflow-x-auto",children:(0,O.jsxs)("table",{className:"w-full text-sm text-left text-slate-500",children:[(0,O.jsx)("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50 border-b border-slate-200",children:(0,O.jsxs)("tr",{children:[(0,O.jsx)("th",{className:"px-6 py-3",children:"R\xE9f. Fabricant"}),(0,O.jsx)("th",{className:"px-6 py-3",children:"Description"}),(0,O.jsx)("th",{className:"px-6 py-3 text-center",children:"Qt\xE9"}),(0,O.jsx)("th",{className:"px-6 py-3 text-right",children:"Code Rich."})]})}),(0,O.jsx)("tbody",{children:u.map(k=>(0,O.jsxs)(qt.default.Fragment,{children:[(0,O.jsx)("tr",{className:"bg-slate-200 border-y border-slate-300",children:(0,O.jsx)("td",{colSpan:4,className:"px-6 py-2 font-black text-slate-700 uppercase tracking-widest text-xs",children:k.category})}),k.items.map((H,te)=>ge(H,te)),k.subSections?.map(H=>(0,O.jsxs)(qt.default.Fragment,{children:[(0,O.jsx)("tr",{className:"bg-green-50 border-y border-green-100",children:(0,O.jsx)("td",{colSpan:4,className:"px-6 py-1.5 font-bold text-green-800 uppercase tracking-wide text-[10px]",children:H.title})}),H.title&&/borne ve/i.test(H.title)&&t.evCharger?.selected&&(0,O.jsx)("tr",{className:"bg-white border-b border-red-100",children:(0,O.jsx)("td",{colSpan:4,className:"px-6 py-2 text-[11px] text-red-600 font-black",children:t.evCharger.phase==="Tri"?"\u26A0\uFE0F Borne VE TRI : pr\xE9voir c\xE2ble 5G10 mm\xB2.":"\u26A0\uFE0F Borne VE MONO : pr\xE9voir c\xE2ble 3G10 mm\xB2."})}),H.items.map((te,ce)=>ge(te,ce))]},H.title))]},k.category))})]})}),(0,O.jsx)(Gg,{project:t,materials:C,exportOptions:N,report:n,voltageDrop:l,acSection:i,showAc1:s,ac1VoltageDrop:r,ac1Section:c,ac1BreakerA:m,microBranchesReport:g}),f&&(0,O.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,O.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[(0,O.jsx)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:"G\xE9n\xE9ration du Dossier Technique"}),(0,O.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,O.jsxs)("p",{className:"text-sm text-slate-600",children:["Le document comportera les plans de pose, les calculs de conformit\xE9, le sch\xE9ma \xE9lectrique et les ",(0,O.jsx)("b",{children:"liens interactifs"})," vers les notices."]}),(0,O.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[(0,O.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,O.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:N.includeDatasheets,onChange:()=>A(k=>({...k,includeDatasheets:!k.includeDatasheets}))}),(0,O.jsx)("span",{className:"text-sm font-medium text-slate-800",children:"Inclure l'audit \xE9lectrique d\xE9taill\xE9"})]}),(0,O.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,O.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:N.includeGuides,onChange:()=>A(k=>({...k,includeGuides:!k.includeGuides}))}),(0,O.jsx)("span",{className:"text-sm font-medium text-slate-800",children:"Inclure la documentation technique (liens & notices)"})]}),(0,O.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,O.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:N.includeRegulations,onChange:()=>A(k=>({...k,includeRegulations:!k.includeRegulations}))}),(0,O.jsx)("span",{className:"text-sm font-medium text-slate-800",children:'Ajouter la page "Rappel et R\xE8glementation"'})]})]})]}),!ne&&(0,O.jsxs)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[(0,O.jsx)("div",{className:"font-bold mb-1",children:"Export PDF bloqu\xE9 : chute de tension AC trop \xE9lev\xE9e"}),(0,O.jsxs)("div",{children:[s&&typeof r=="number"&&r>3&&(0,O.jsxs)("div",{children:["Tron\xE7on AC1 (onduleur \u2192 coffret AC) : ",(0,O.jsxs)("b",{children:[r.toFixed(2),"%"]})]}),typeof l=="number"&&l>3&&(0,O.jsxs)("div",{children:["Tron\xE7on AC2 (coffret AC \u2192 point de raccordement) : ",(0,O.jsxs)("b",{children:[l.toFixed(2),"%"]})]}),(0,O.jsx)("div",{className:"mt-1",children:"Objectif : \u2264 1% (recommand\xE9). Limite : \u2264 3% (tol\xE9r\xE9). Au-del\xE0, revoir la section et/ou la longueur."})]})]}),!P&&(0,O.jsxs)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[(0,O.jsx)("div",{className:"font-bold mb-1",children:"Export PDF bloqu\xE9 : configuration micro-onduleurs \xE0 corriger"}),(0,O.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:_.slice(0,5).map((k,H)=>(0,O.jsx)("li",{children:k},H))}),_.length>5&&(0,O.jsxs)("div",{className:"mt-2 italic",children:["\u2026et ",_.length-5," autre(s) point(s)."]})]}),!j.ok&&(0,O.jsxs)("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 rounded-lg p-3 text-xs",children:[(0,O.jsx)("div",{className:"font-bold mb-1",children:"Export PDF bloqu\xE9 : liaison DC (MPPT) \xE0 corriger"}),(0,O.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:j.reasons.slice(0,5).map((k,H)=>(0,O.jsx)("li",{children:k},H))}),j.reasons.length>5&&(0,O.jsxs)("div",{className:"mt-2 italic",children:["\u2026et ",j.reasons.length-5," autre(s) point(s)."]})]}),!Ye&&(0,O.jsxs)("div",{className:"mb-3 p-3 rounded-lg border border-red-200 bg-red-50 text-red-800 text-sm",children:[(0,O.jsx)("div",{className:"font-bold",children:"Export PDF bloqu\xE9 : protection/section AC non conforme"}),(0,O.jsxs)("div",{className:"mt-1 text-xs",children:[Ge&&s&&typeof c=="number"&&cl(c,Ge)&&(0,O.jsxs)("div",{children:["AC1 (onduleur \u2192 coffret) : In=",(0,O.jsxs)("b",{children:[Ge,"A"]})," incompatible avec ",(0,O.jsxs)("b",{children:[c,"mm\xB2"]}),"."]}),Ee&&typeof i=="number"&&cl(i,Ee)&&(0,O.jsxs)("div",{children:["AC2 (coffret \u2192 tableau) : In=",(0,O.jsxs)("b",{children:[Ee,"A"]})," incompatible avec ",(0,O.jsxs)("b",{children:[i,"mm\xB2"]}),"."]}),(0,O.jsx)("div",{className:"mt-1",children:"Augmente la section (ex : 16 mm\xB2 pour 63 A) ou ajuste la protection."})]})]}),!me&&(0,O.jsxs)("div",{className:"mb-3 p-3 rounded-lg border border-red-200 bg-red-50 text-red-800 text-sm",children:[(0,O.jsx)("div",{className:"font-bold",children:"Export PDF bloqu\xE9 : incoh\xE9rence sections AC"}),(0,O.jsxs)("div",{className:"mt-1 text-xs",children:["AC2 (coffret \u2192 tableau) doit \xEAtre ",(0,O.jsx)("b",{children:"\u2265"})," AC1 (onduleur \u2192 coffret) en onduleur centralis\xE9.",(0,O.jsxs)("div",{className:"mt-1",children:["Valeurs actuelles : AC1 = ",(0,O.jsxs)("b",{children:[c," mm\xB2"]})," \u2022 AC2 = ",(0,O.jsxs)("b",{children:[i," mm\xB2"]}),"."]})]})]}),(0,O.jsxs)("div",{className:"flex gap-3",children:[(0,O.jsx)("button",{onClick:()=>b(!1),className:"flex-1 py-2.5 bg-slate-100 rounded-lg font-bold text-slate-600",children:"Annuler"}),(0,O.jsx)("button",{disabled:!Ue,onClick:()=>{b(!1),M()},className:"flex-1 py-2.5 bg-blue-600 text-white rounded-lg font-bold shadow-lg shadow-blue-200 disabled:bg-slate-300 disabled:text-slate-600 disabled:shadow-none disabled:cursor-not-allowed",children:"G\xE9n\xE9rer le PDF"})]})]})})]})},jg=j2;var ka=ae(Ot(),1);var Ii=ae(Ot(),1),L=ae(De(),1),X2=({component:e,onSave:t,onCancel:a})=>{let[n,l]=(0,Ii.useState)({}),[i,s]=(0,Ii.useState)({}),[r,c]=(0,Ii.useState)("other");if((0,Ii.useEffect)(()=>{e?(l(e),e.electrical?s(e.electrical):s({}),e.id?.includes("ENP")||e.id?.includes("APS")||e.id?.includes("FOX")||e.electrical?.maxInputVoltage?c("inverter"):(e.width&&e.width>800||e.electrical?.voc,c("panel"))):(l({unit:"piece",price:""}),s({}),c("panel"))},[e]),!e)return null;let m=S=>{let{name:w,value:R}=S.target,f=["length","width","height","power"];l(b=>({...b,[w]:f.includes(w)?parseFloat(R)||0:R}))},g=S=>{let{name:w,value:R}=S.target;s(f=>({...f,[w]:parseFloat(R)||0}))},C=S=>{if(S.preventDefault(),n.id&&n.description&&n.unit){let w={...n};Object.keys(i).length>0&&(w.electrical=i),t(w)}else alert("Veuillez remplir les champs R\xE9f\xE9rence, Description et Unit\xE9.")},v=r==="panel",h=r==="inverter";return(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,L.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4 max-h-[90vh] overflow-y-auto",children:(0,L.jsxs)("form",{onSubmit:C,children:[(0,L.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,L.jsx)("h3",{className:"text-lg font-semibold",children:"\xC9diter le composant"}),(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)("label",{className:"text-xs font-bold text-slate-500",children:"Type :"}),(0,L.jsxs)("select",{value:r,onChange:S=>c(S.target.value),className:"p-1 border rounded text-xs bg-slate-100 font-bold text-blue-700 focus:ring-2 focus:ring-blue-500",children:[(0,L.jsx)("option",{value:"panel",children:"Panneau PV"}),(0,L.jsx)("option",{value:"inverter",children:"Onduleur / Micro"}),(0,L.jsx)("option",{value:"other",children:"Autre (Rail/Acc.)"})]})]})]}),(0,L.jsxs)("div",{className:"p-4 space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"R\xE9f\xE9rence (ID)"}),(0,L.jsx)("input",{type:"text",name:"id",value:n.id||"",onChange:m,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Description"}),(0,L.jsx)("input",{type:"text",name:"description",value:n.description||"",onChange:m,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500",required:!0})]}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Unit\xE9"}),(0,L.jsxs)("select",{name:"unit",value:n.unit||"piece",onChange:m,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500 bg-white",children:[(0,L.jsx)("option",{value:"piece",children:"pi\xE8ce"}),(0,L.jsx)("option",{value:"m",children:"m"}),(0,L.jsx)("option",{value:"unite",children:"unit\xE9"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Code Richardson"}),(0,L.jsx)("input",{type:"text",name:"price",value:n.price||"",onChange:m,className:"mt-1 w-full p-2 border border-slate-300 rounded-md transition-all duration-150 focus:ring-2 focus:ring-blue-300 focus:border-blue-500"})]})]}),(0,L.jsxs)("div",{className:"border-t pt-4 mt-2",children:[(0,L.jsx)("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Dimensions & Puissance (Physique)"}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Longueur (mm)"}),(0,L.jsx)("input",{type:"number",name:"length",value:n.length||"",onChange:m,className:"w-full p-2 border rounded",placeholder:"Ex: Rail"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Largeur (mm)"}),(0,L.jsx)("input",{type:"number",name:"width",value:n.width||"",onChange:m,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Hauteur (mm)"}),(0,L.jsx)("input",{type:"number",name:"height",value:n.height||"",onChange:m,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Puissance (Wc/VA)"}),(0,L.jsx)("input",{type:"number",name:"power",value:n.power||"",onChange:m,className:"w-full p-2 border rounded",placeholder:"Ex: Panneau/Onduleur"})]})]})]}),(v||h)&&(0,L.jsxs)("div",{className:"border-t pt-4 mt-2 bg-yellow-50 -mx-4 px-4 pb-4",children:[(0,L.jsxs)("h4",{className:"text-xs font-bold text-yellow-700 uppercase mb-2",children:["Donn\xE9es \xC9lectriques (",v?"Panneau":"Onduleur",")"]}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Voc (V) / Max Input V"}),(0,L.jsx)("input",{type:"number",step:"0.01",name:v?"voc":"maxInputVoltage",value:v?i.voc||"":i.maxInputVoltage||"",onChange:g,className:"w-full p-1 border rounded text-sm font-mono"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Isc (A) / Max Input I"}),(0,L.jsx)("input",{type:"number",step:"0.01",name:v?"isc":"maxInputCurrent",value:v?i.isc||"":i.maxInputCurrent||"",onChange:g,className:"w-full p-1 border rounded text-sm font-mono"})]}),v&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Vmp (V)"}),(0,L.jsx)("input",{type:"number",step:"0.01",name:"vmp",value:i.vmp||"",onChange:g,className:"w-full p-1 border rounded text-sm font-mono"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Imp (A)"}),(0,L.jsx)("input",{type:"number",step:"0.01",name:"imp",value:i.imp||"",onChange:g,className:"w-full p-1 border rounded text-sm font-mono"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Coeff Voc (%/\xB0C)"}),(0,L.jsx)("input",{type:"number",step:"0.01",name:"tempCoeffVoc",value:i.tempCoeffVoc||"",onChange:g,className:"w-full p-1 border rounded text-sm font-mono",placeholder:"-0.26"})]})]}),h&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Min MPPT (V)"}),(0,L.jsx)("input",{type:"number",step:"0.1",name:"minMpptVoltage",value:i.minMpptVoltage||"",onChange:g,className:"w-full p-1 border rounded text-sm"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Max MPPT (V)"}),(0,L.jsx)("input",{type:"number",step:"0.1",name:"maxMpptVoltage",value:i.maxMpptVoltage||"",onChange:g,className:"w-full p-1 border rounded text-sm"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"Max AC Power (VA)"}),(0,L.jsx)("input",{type:"number",name:"maxAcPower",value:i.maxAcPower||"",onChange:g,className:"w-full p-1 border rounded text-sm"})]})]})]})]}),(0,L.jsxs)("div",{className:"border-t pt-4 mt-2 space-y-3",children:[(0,L.jsx)("h4",{className:"text-xs font-bold text-blue-500 uppercase mb-1",children:"Liens & Documentations"}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"URL Fiche Technique (Datasheet PDF)"}),(0,L.jsx)("input",{type:"text",name:"datasheetUrl",value:n.datasheetUrl||"",onChange:m,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"URL Manuel d'installation (PDF)"}),(0,L.jsx)("input",{type:"text",name:"manualUrl",value:n.manualUrl||"",onChange:m,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"URL Vid\xE9o de support (YouTube)"}),(0,L.jsx)("input",{type:"text",name:"videoUrl",value:n.videoUrl||"",onChange:m,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://youtube.com/..."})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs font-medium text-slate-600",children:"URL Image du produit"}),(0,L.jsx)("input",{type:"text",name:"imageUrl",value:n.imageUrl||"",onChange:m,className:"w-full p-2 border rounded text-xs font-mono bg-slate-50",placeholder:"https://..."})]})]})]}),(0,L.jsxs)("div",{className:"p-4 bg-slate-50 border-t flex justify-end gap-2",children:[(0,L.jsx)("button",{type:"button",onClick:a,className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-md hover:bg-slate-300",children:"Annuler"}),(0,L.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 font-bold",children:"Sauvegarder"})]})]})})})},Jr=X2;var qi=ae(Ot(),1);var Zg=e=>new Promise((t,a)=>{if(document.querySelector(`script[src="${e}"]`)){t();return}let n=document.createElement("script");n.src=e,n.async=!0,n.onload=()=>t(),n.onerror=()=>a(new Error(`Failed to load ${e}`)),document.head.appendChild(n)}),Kg=async e=>{await Zg("https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js");let t=window.pdfjsLib;t.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";let a=await e.arrayBuffer(),n=await t.getDocument({data:a}).promise,l="",i=Math.min(n.numPages,3);for(let s=1;s<=i;s++){let c=await(await n.getPage(s)).getTextContent(),m=-1,g="";for(let C of c.items)m!==-1&&Math.abs(C.transform[5]-m)>5&&(g+=`
`),g+=C.str+" ",m=C.transform[5];l+=g+`
`}return l},Qg=async e=>{await Zg("https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js");let t=window.Tesseract,{data:{text:a}}=await t.recognize(e,"eng+fra",{logger:n=>console.debug(n)});return a},Xg=e=>{let t=/\b\d{1,4}(?:[.,]\d{1,2})?\b/g,a=e.match(t);return a?a.map(n=>parseFloat(n.replace(",","."))).filter(n=>!isNaN(n)):[]},$g=e=>{let t=e.split(`
`).map(S=>S.trim()).filter(S=>S.length>0),a=e.replace(/\s+/g," ").replace(/O/g,"0").replace(/o/g,"0"),n={unit:"piece",electrical:{}},i=/micro[- ]?inverter|micro[- ]?onduleur|iq8|ds3/i.test(a)||/inverter|onduleur|mppt|hybrid/i.test(a),s=!i&&(/module|panneau|photovoltaic|cell|solar|bifacial/i.test(a)||/Voc/i.test(a)),r=/(\d{3,4})\s*[xX*]\s*(\d{3,4})(?:\s*[xX*]\s*(\d{2,3}))?/,c=a.match(r);if(c){let S=[parseFloat(c[1]),parseFloat(c[2])];s?(n.height=Math.max(...S),n.width=Math.min(...S)):(n.width=S[0],n.height=S[1])}let m=/([A-Z0-9]{2,}-[A-Z0-9-]{3,})/i,g=a.match(m),C=g?g[1]:s?"Panneau":"Onduleur",v=0,h=!1;for(let S of t)if(/(Pmax|Power|Puissance|Nominale|Pnom)/i.test(S)&&!h){let w=Xg(S),R=w.filter(f=>f>200&&f<800);if(R.length>0){let f=Math.max(...R);n.power=f,v=w.indexOf(f),h=!0,C&&!C.includes(f.toString())&&(C+=`-${f}`)}}if(!n.power){let S=a.match(/(?:Pmax|Power|Puissance)[^0-9]*(\d{3})/i);S&&(n.power=parseFloat(S[1]))}if(s){let S=n.electrical,w=(R,f,b)=>{for(let N of t)if(R.test(N)){let A=Xg(N);if(A.length>0){if(h&&A.length>v){let u=A[v];if(u>=f&&u<=b)return u}let T=A.find(u=>u>=f&&u<=b);if(T)return T}}};S.voc=w(/Voc|Ouvert|Open/i,20,60)||0,S.vmp=w(/Vmp|Vmpp|Pmax.*?Voltage|Tension.*?Maximale/i,20,50)||0,S.isc=w(/Isc|Court|Short/i,8,20)||0,S.imp=w(/Imp|Impp|Pmax.*?Current|Courant.*?Maximal/i,8,20)||0;for(let R of t)if(/(Temp|Coeff).*?Voc/i.test(R)){let f=R.match(/-0[.,]\d{2,3}/);if(f){S.tempCoeffVoc=parseFloat(f[0].replace(",","."));break}}}else if(i){let S=n.electrical,w=a.match(/(?:Max.*?Input.*?Voltage|Tension.*?Entre.*?Max)[^0-9]*(\d{2,4})/i);w&&(S.maxInputVoltage=parseFloat(w[1]));let R=a.match(/(?:MPPT|Plage)[^0-9]*(\d{2,3})\s*[-~to]\s*(\d{2,4})/i);R&&(S.minMpptVoltage=parseFloat(R[1]),S.maxMpptVoltage=parseFloat(R[2]));let f=a.match(/(?:Max.*?Input.*?Current|Courant.*?Entre.*?Max)[^0-9]*(\d{1,3}(?:[.,]\d)?)/i);f&&(S.maxInputCurrent=parseFloat(f[1].replace(",","."))),S.maxAcPower=n.power||0}return n.id=C,n.description=`${s?"Panneau":"Onduleur"} ${C} ${n.power?n.power+"W":""}`,n};var ht=ae(De(),1),Z2=({onImport:e,onClose:t})=>{let[a,n]=(0,qi.useState)(!1),[l,i]=(0,qi.useState)(""),[s,r]=(0,qi.useState)(null),c=(0,qi.useRef)(null),m=async v=>{n(!0),i("Analyse du fichier en cours...");try{let h="";if(v.type==="application/pdf")i("Lecture du PDF (Extraction texte)..."),h=await Kg(v);else if(v.type.startsWith("image/"))i("Lecture de l'image (OCR Tesseract)..."),h=await Qg(v);else throw new Error("Format non support\xE9. Utilisez PDF, JPG ou PNG.");i("Analyse intelligente des donn\xE9es...");let S=$g(h);S.id||(S.id=`NEW-${Math.floor(Math.random()*1e4)}`),S.datasheetUrl="",r(S)}catch(h){console.error(h),alert(`Erreur d'analyse: ${h instanceof Error?h.message:"Inconnue"}`)}finally{n(!1)}};return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 backdrop-blur-sm",children:s?(0,ht.jsx)(Jr,{component:s,onSave:v=>{e(v),t()},onCancel:()=>r(null)}):(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full relative",children:[(0,ht.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:(0,ht.jsx)(_a,{className:"w-6 h-6"})}),(0,ht.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Import Intelligent (OCR)"}),(0,ht.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"D\xE9posez une fiche technique (PDF ou Image) pour extraire automatiquement les caract\xE9ristiques."}),(0,ht.jsxs)("div",{onDrop:v=>{v.preventDefault(),v.dataTransfer.files&&v.dataTransfer.files[0]&&m(v.dataTransfer.files[0])},onDragOver:v=>v.preventDefault(),onClick:()=>{c.current?.click()},className:`border-2 border-dashed rounded-xl h-48 flex flex-col items-center justify-center cursor-pointer transition-colors ${a?"border-blue-400 bg-blue-50":"border-slate-300 hover:border-blue-500 hover:bg-slate-50"}`,children:[a?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Wr,{className:"w-10 h-10 text-blue-600 mb-3"}),(0,ht.jsx)("p",{className:"text-sm font-semibold text-blue-700 animate-pulse",children:l})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Fi,{className:"w-12 h-12 text-slate-300 mb-2"}),(0,ht.jsx)("p",{className:"text-sm font-bold text-slate-600",children:"Cliquez ou D\xE9posez un fichier ici"}),(0,ht.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"PDF, JPG, PNG accept\xE9s"})]}),(0,ht.jsx)("input",{type:"file",ref:c,className:"hidden",accept:".pdf,image/*",onChange:v=>v.target.files&&v.target.files[0]&&m(v.target.files[0])})]}),(0,ht.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 text-yellow-800 text-xs rounded border border-yellow-200",children:[(0,ht.jsx)("strong",{children:"Note :"})," L'IA analysera le texte pour trouver la Puissance, les Tensions (Voc/Vmp), Courants (Isc) et Dimensions. V\xE9rifiez toujours les donn\xE9es avant validation."]})]})})},Wg=Z2;var ha=ae(De(),1),K2=({isOpen:e,onClose:t,onConfirm:a,title:n,message:l})=>e?(0,ha.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ha.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4",children:[(0,ha.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,ha.jsx)("h3",{className:"text-lg font-semibold text-slate-800",children:n}),(0,ha.jsx)("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 p-1 rounded-full hover:bg-slate-200",children:(0,ha.jsx)(_a,{className:"h-5 w-5"})})]}),(0,ha.jsx)("div",{className:"p-6",children:(0,ha.jsx)("p",{className:"text-slate-600",children:l})}),(0,ha.jsxs)("div",{className:"p-4 bg-slate-50 border-t flex justify-end gap-2",children:[(0,ha.jsx)("button",{onClick:t,className:"bg-slate-200 text-slate-800 px-4 py-2 rounded-md hover:bg-slate-300",children:"Annuler"}),(0,ha.jsx)("button",{onClick:a,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Confirmer"})]})]})}):null,e0=K2;var Z=ae(De(),1),Q2=({k2:e,esdec:t,inverters:a,panels:n,boxes:l,cables:i,onUpdateK2:s,onUpdateEsdec:r,onUpdateInverters:c,onUpdatePanels:m,onUpdateBoxes:g,onUpdateCables:C,onExit:v})=>{let[h,S]=(0,ka.useState)("PANNEAUX"),[w,R]=(0,ka.useState)(null),[f,b]=(0,ka.useState)(!1),[N,A]=(0,ka.useState)(null),[T,u]=(0,ka.useState)(""),[M,D]=(0,ka.useState)(!1),[_,P]=(0,ka.useState)(""),ne=(0,ka.useRef)(null);(0,ka.useEffect)(()=>{let j=localStorage.getItem("richardson_official_pdf_url");j&&P(j)},[]);let Ie=(()=>{switch(h){case"K2":return e;case"ESDEC":return t;case"ONDULEURS":return a;case"PANNEAUX":return n;case"COFFRETS":return l;case"CABLES":return i;default:return n}})(),Ee=async(j,me)=>{u("Sauvegarde...");try{let Ue={K2:"k2",ESDEC:"esdec",ONDULEURS:"inverters",PANNEAUX:"panels",COFFRETS:"boxes",CABLES:"cables"};Ue[me]&&await Eg(Ue[me],j),u("\u2705 Sauvegard\xE9 !")}catch{u("\u274C Erreur")}setTimeout(()=>u(""),2e3)},Ge=()=>{localStorage.setItem("richardson_official_pdf_url",_),u("\u2705 R\xE9glages sauv\xE9s !"),setTimeout(()=>u(""),2e3)},Ye=j=>{let me={...Ie},Ue=Object.keys(me).find(ge=>me[ge].id===w?.id);Ue&&Ue!==j.id&&delete me[Ue],me[j.id]=j,Ee(me,h),R(null)};return(0,Z.jsxs)("div",{className:"container mx-auto px-4 py-8 min-h-screen bg-slate-100 font-sans",children:[(0,Z.jsxs)("div",{className:"bg-slate-900 text-white p-6 rounded-t-xl flex flex-col md:flex-row justify-between items-center shadow-lg gap-4",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-3",children:[(0,Z.jsx)("span",{className:"text-orange-500",children:"\u{1F6E0}"})," Administration"]}),(0,Z.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"G\xE9rez vos mat\xE9riels et vos documents officiels."})]}),(0,Z.jsxs)("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[T&&(0,Z.jsx)("span",{className:"text-sm font-bold text-green-400 animate-pulse mr-2",children:T}),(0,Z.jsx)("button",{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold shadow-lg",children:"Retour au Calculateur"})]})]}),(0,Z.jsxs)("div",{className:"bg-white p-6 rounded-b-xl shadow-md min-h-[600px]",children:[(0,Z.jsx)("div",{className:"flex gap-2 border-b border-slate-200 mb-6 overflow-x-auto pb-2",children:[{id:"PANNEAUX",label:"Panneaux"},{id:"ONDULEURS",label:"Onduleurs"},{id:"K2",label:"Syst\xE8me K2"},{id:"ESDEC",label:"Syst\xE8me ESDEC"},{id:"REGLAGES",label:"\u2699\uFE0F PDF & R\xE9glages"}].map(j=>(0,Z.jsx)("button",{onClick:()=>S(j.id),className:`px-4 py-2 rounded-t-lg font-bold text-sm transition-colors whitespace-nowrap ${h===j.id?"bg-blue-50 text-blue-700 border-b-2 border-blue-600":"text-slate-500 hover:bg-slate-50"}`,children:j.label},j.id))}),h==="REGLAGES"?(0,Z.jsxs)("div",{className:"max-w-2xl space-y-8 animate-scale-in",children:[(0,Z.jsxs)("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200",children:[(0,Z.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,Z.jsx)("span",{className:"text-xl",children:"\u{1F4C4}"})," Configuration du R\xE9f\xE9rentiel PDF Richardson"]}),(0,Z.jsx)("p",{className:"text-sm text-slate-500 mb-4 leading-relaxed",children:"Pour que tous les utilisateurs sur tous les ordinateurs voient le m\xEAme PDF (Carte de vent, normes), h\xE9bergez votre fichier PDF en ligne et collez son URL directe ci-dessous."}),(0,Z.jsxs)("div",{className:"space-y-4",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest block mb-2",children:"URL Directe du PDF (Partage universel)"}),(0,Z.jsx)("input",{type:"url",value:_,onChange:j=>P(j.target.value),placeholder:"https://votre-site.com/normes-richardson.pdf",className:"w-full p-3 border rounded-lg font-mono text-sm bg-white shadow-inner focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,Z.jsx)("button",{onClick:Ge,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2.5 rounded-lg font-bold shadow-md transition-all active:scale-95",children:"Enregistrer l'URL officielle"})]})]}),(0,Z.jsxs)("div",{className:"bg-red-50 p-6 rounded-xl border border-red-100",children:[(0,Z.jsx)("h3",{className:"text-lg font-bold text-red-800 mb-2",children:"Maintenance Syst\xE8me"}),(0,Z.jsx)("p",{className:"text-sm text-red-600/80 mb-6",children:"R\xE9initialiser les bases de donn\xE9es si vous avez fait des erreurs irr\xE9cup\xE9rables."}),(0,Z.jsx)("button",{onClick:()=>D(!0),className:"bg-white border border-red-200 text-red-600 px-4 py-2 rounded font-bold hover:bg-red-600 hover:text-white transition-all text-xs",children:"\u267B\uFE0F R\xE9initialiser tout aux valeurs d'usine"})]})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"flex justify-between items-center mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[(0,Z.jsxs)("div",{className:"text-sm text-slate-600 font-bold uppercase tracking-widest",children:[h," \u2022 ",Object.keys(Ie).length," R\xC9F\xC9RENCES"]}),(0,Z.jsxs)("div",{className:"flex gap-3",children:[(0,Z.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700 font-semibold text-sm shadow-md transition-all",children:[(0,Z.jsx)(Fi,{className:"w-5 h-5 text-orange-400"})," Importer via PDF (OCR)"]}),(0,Z.jsxs)("button",{onClick:()=>R({unit:"piece",price:""}),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-semibold text-sm shadow-md transition-all",children:[(0,Z.jsx)(Kr,{className:"w-5 h-5"})," Ajouter mat\xE9riel"]})]})]}),(0,Z.jsx)("div",{className:"overflow-hidden rounded-xl border border-slate-200 shadow-sm",children:(0,Z.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,Z.jsx)("thead",{className:"bg-slate-800 text-white font-bold text-[10px] uppercase tracking-widest",children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{className:"px-6 py-4",children:"R\xE9f\xE9rence"}),(0,Z.jsx)("th",{className:"px-6 py-4",children:"Description"}),(0,Z.jsx)("th",{className:"px-6 py-4",children:"D\xE9tails"}),(0,Z.jsx)("th",{className:"px-6 py-4 text-right",children:"Code Rich."}),(0,Z.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,Z.jsx)("tbody",{className:"divide-y divide-slate-100",children:Object.values(Ie).map(j=>(0,Z.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[(0,Z.jsx)("td",{className:"px-6 py-3 font-bold text-slate-900",children:j.id}),(0,Z.jsx)("td",{className:"px-6 py-3 text-slate-600",children:j.description}),(0,Z.jsxs)("td",{className:"px-6 py-3 text-xs text-slate-400",children:[j.power?(0,Z.jsxs)("span",{className:"inline-block bg-orange-100 text-orange-800 px-2 py-0.5 rounded mr-2 font-black",children:[j.power," ",h==="PANNEAUX"?"Wc":"VA"]}):null,j.width?(0,Z.jsxs)("span",{children:[j.height,"x",j.width,"mm"]}):null]}),(0,Z.jsx)("td",{className:"px-6 py-3 text-right font-mono font-bold text-slate-800",children:j.price||"-"}),(0,Z.jsxs)("td",{className:"px-6 py-3 text-right flex justify-end gap-3",children:[(0,Z.jsx)("button",{onClick:()=>R(j),className:"text-blue-600 font-bold hover:underline",children:"Modifier"}),(0,Z.jsx)("button",{onClick:()=>A(j.id),className:"text-red-400 hover:text-red-600",children:(0,Z.jsx)(Qr,{className:"w-5 h-5"})})]})]},j.id))})]})})]})]}),w&&(0,Z.jsx)(Jr,{component:w,onSave:Ye,onCancel:()=>R(null)}),f&&(0,Z.jsx)(Wg,{onImport:j=>{Ye(j),b(!1)},onClose:()=>b(!1)}),(0,Z.jsx)(e0,{isOpen:!!N,onClose:()=>A(null),onConfirm:()=>{if(N){let j={...Ie};delete j[N],Ee(j,h),A(null)}},title:"Supprimer mat\xE9riel ?",message:"Cette action est irr\xE9versible."}),(0,Z.jsx)(e0,{isOpen:M,onClose:()=>D(!1),onConfirm:Tg,title:"\u26A0\uFE0F R\xE9initialisation Totale",message:"Vous allez perdre tous vos prix et nouveaux produits. Continuer ?"})]})},Jg=Q2;var Gi=ae(Ot(),1),eo=ae(De(),1),$2=({content:e,children:t,position:a="top",className:n})=>{let[l,i]=(0,Gi.useState)(!1),s=(0,Gi.useId)(),r=()=>i(!0),c=()=>i(!1),m=()=>{switch(a){case"bottom":return{top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"8px"};case"left":return{top:"50%",right:"100%",transform:"translateY(-50%)",marginRight:"8px"};case"right":return{top:"50%",left:"100%",transform:"translateY(-50%)",marginLeft:"8px"};case"top":default:return{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"}}},g=()=>{switch(a){case"bottom":return{bottom:"100%",left:"50%",transform:"translateX(-50%)",borderWidth:"0 6px 6px 6px",borderColor:"transparent transparent #1e293b transparent"};case"left":return{top:"50%",left:"100%",transform:"translateY(-50%)",borderWidth:"6px 0 6px 6px",borderColor:"transparent transparent transparent #1e293b"};case"right":return{top:"50%",right:"100%",transform:"translateY(-50%)",borderWidth:"6px 6px 6px 0",borderColor:"transparent #1e293b transparent transparent"};case"top":default:return{top:"100%",left:"50%",transform:"translateX(-50%)",borderWidth:"6px 6px 0 6px",borderColor:"#1e293b transparent transparent transparent"}}};return(0,eo.jsxs)("div",{className:`relative inline-flex ${n||""}`,onMouseEnter:r,onMouseLeave:c,onFocusCapture:r,onBlurCapture:c,children:[Gi.default.cloneElement(t,{"aria-describedby":l?s:void 0}),l&&(0,eo.jsxs)("div",{id:s,role:"tooltip",className:"absolute z-[150] w-max max-w-xs p-2.5 text-center text-sm font-medium text-white bg-slate-800 rounded-lg shadow-xl",style:m(),children:[e,(0,eo.jsx)("div",{className:"absolute w-0 h-0 border-solid pointer-events-none",style:g()})]})]})},to=$2;var ao=ae(Ot(),1);var dt=ae(De(),1),W2="https://www.dropbox.com/scl/fi/zcv9qg4vxyp6wshhi3ood/Temperature-et-Vent-France.pdf?rlkey=j519tisqqo17vjx7btish244q&st=2smeag3x&raw=1",J2=({onClose:e})=>{let[t,a]=(0,ao.useState)(null),[n,l]=(0,ao.useState)(!1);(0,ao.useEffect)(()=>{let r=localStorage.getItem("richardson_official_pdf_url")||W2;if(r&&r.trim()!==""){a(r),l(!0);return}let c=localStorage.getItem("richardson_referentiel_pdf");if(c)try{let m=atob(c.split(",")[1]),g=new Array(m.length);for(let S=0;S<m.length;S++)g[S]=m.charCodeAt(S);let C=new Uint8Array(g),v=new Blob([C],{type:"application/pdf"}),h=URL.createObjectURL(v);a(h),l(!1)}catch(m){console.error("Erreur de conversion PDF local:",m)}},[]);let i=s=>{let r=s.target.files?.[0];if(r&&r.type==="application/pdf"){let c=new FileReader;c.onload=m=>{let g=m.target?.result;try{localStorage.setItem("richardson_referentiel_pdf",g);let C=URL.createObjectURL(r);a(C),l(!1)}catch{let v=URL.createObjectURL(r);a(v),alert("Fichier lourd : il sera visible pour cette session mais ne pourra pas \xEAtre m\xE9moris\xE9 par le navigateur.")}},c.readAsDataURL(r)}};return(0,dt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md p-0 md:p-4 overflow-hidden",children:(0,dt.jsxs)("div",{className:"bg-[#323639] w-full max-w-6xl h-full md:h-[95vh] rounded-none md:rounded-lg shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[(0,dt.jsxs)("header",{className:"bg-[#2d3239] text-white px-6 py-3 flex justify-between items-center shrink-0 shadow-lg border-b border-white/10",children:[(0,dt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,dt.jsx)("div",{className:"bg-[#ff0000] p-1.5 rounded flex items-center justify-center shadow-lg",children:(0,dt.jsx)("span",{className:"text-[10px] font-black leading-none text-white",children:"PDF"})}),(0,dt.jsxs)("div",{children:[(0,dt.jsx)("h3",{className:"font-bold text-sm leading-none",children:"R\xE9f\xE9rentiel Solaire Richardson"}),(0,dt.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-widest font-bold",children:n?"Document Officiel (Lien Cloud)":"Document de session locale"})]})]}),(0,dt.jsx)("div",{className:"flex items-center gap-4",children:(0,dt.jsx)("button",{onClick:e,className:"bg-[#e53935] hover:bg-[#d32f2f] px-6 py-2 rounded text-white transition-all shadow-lg active:scale-95",children:(0,dt.jsx)(_a,{className:"w-5 h-5"})})})]}),(0,dt.jsx)("div",{className:"flex-1 bg-[#525659] relative flex items-center justify-center",children:t?(0,dt.jsx)("iframe",{src:t,className:"w-full h-full border-none bg-white",title:"R\xE9f\xE9rentiel PDF"}):(0,dt.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 text-center space-y-6",children:[(0,dt.jsx)("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center",children:(0,dt.jsx)(Fi,{className:"w-12 h-12 text-white/20"})}),(0,dt.jsxs)("div",{className:"max-w-md",children:[(0,dt.jsx)("h4",{className:"text-white text-xl font-bold mb-2",children:"Chargement du document..."}),(0,dt.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Si le document ne s'affiche pas, v\xE9rifiez votre connexion internet."})]})]})}),(0,dt.jsxs)("footer",{className:"bg-[#2d3239] border-t border-white/5 px-8 py-2 flex justify-between items-center shrink-0",children:[(0,dt.jsx)("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-[0.2em]",children:"R\xE9f\xE9rentiel National \u2022 Richardson Solaire v3.0"}),t&&!n&&(0,dt.jsx)("button",{onClick:()=>{localStorage.removeItem("richardson_referentiel_pdf"),window.location.reload()},className:"text-[9px] text-red-400 font-bold uppercase hover:underline",children:"R\xE9initialiser"})]})]})})},e1=J2;var t1=ae(Ot(),1);var fe=ae(De(),1),ev=({initialPanel:e,onSave:t,onClose:a})=>{let[n,l]=(0,t1.useState)({width:e.width||1134,height:e.height||1722,power:e.power||425,voc:e.electrical?.voc||0,isc:e.electrical?.isc||0,vmp:e.electrical?.vmp||0,tempCoeffVoc:e.electrical?.tempCoeffVoc||-.26}),i=r=>{let{name:c,value:m}=r.target;l(g=>({...g,[c]:parseFloat(m)||0}))};return(0,fe.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4",children:(0,fe.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md animate-scale-in",children:[(0,fe.jsxs)("div",{className:"bg-slate-800 text-white p-4 rounded-t-xl flex justify-between items-center",children:[(0,fe.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,fe.jsx)("span",{className:"text-orange-400",children:"\u2699\uFE0F"})," Configuration Panneau"]}),(0,fe.jsx)("button",{onClick:a,className:"hover:bg-slate-700 p-1 rounded-full transition-colors",children:(0,fe.jsx)(_a,{className:"w-5 h-5"})})]}),(0,fe.jsxs)("form",{onSubmit:r=>{r.preventDefault();let c={...e,width:n.width,height:n.height,power:n.power,electrical:{...e.electrical,voc:n.voc,isc:n.isc,vmp:n.vmp,imp:e.electrical?.imp||13,tempCoeffVoc:n.tempCoeffVoc}};t(c)},className:"p-6 space-y-5",children:[(0,fe.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg text-xs text-blue-800",children:"Ces donn\xE9es sont temporaires et servent aux calculs de compatibilit\xE9 onduleur et de calpinage pour ce projet."}),(0,fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,fe.jsxs)("div",{className:"col-span-2",children:[(0,fe.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance (Wc)"}),(0,fe.jsx)("input",{type:"number",name:"power",value:n.power,onChange:i,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Hauteur (mm)"}),(0,fe.jsx)("input",{type:"number",name:"height",value:n.height,onChange:i,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Largeur (mm)"}),(0,fe.jsx)("input",{type:"number",name:"width",value:n.width,onChange:i,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,fe.jsxs)("div",{className:"border-t border-slate-100 pt-4",children:[(0,fe.jsx)("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Donn\xE9es \xC9lectriques (STC)"}),(0,fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tension Max (Voc)"}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("input",{type:"number",step:"0.01",name:"voc",value:n.voc,onChange:i,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),(0,fe.jsx)("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"V"})]})]}),(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Courant Isc"}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("input",{type:"number",step:"0.01",name:"isc",value:n.isc,onChange:i,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),(0,fe.jsx)("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"A"})]})]}),(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tension Vmp"}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("input",{type:"number",step:"0.01",name:"vmp",value:n.vmp,onChange:i,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none"}),(0,fe.jsx)("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"V"})]})]}),(0,fe.jsxs)("div",{children:[(0,fe.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Coeff. Temp Voc"}),(0,fe.jsxs)("div",{className:"relative",children:[(0,fe.jsx)("input",{type:"number",step:"0.01",name:"tempCoeffVoc",value:n.tempCoeffVoc,onChange:i,className:"w-full p-2 border rounded font-mono text-sm focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"-0.26"}),(0,fe.jsx)("span",{className:"absolute right-2 top-2 text-xs text-slate-400",children:"%/\xB0C"})]})]})]})]}),(0,fe.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[(0,fe.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Annuler"}),(0,fe.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Appliquer"})]})]})]})})},a1=ev;var n1=ae(Ot(),1);var W=ae(De(),1),tv=({initialInverter:e,initialPhase:t,onSave:a,onClose:n})=>{let l=e.electrical,[i,s]=(0,n1.useState)({description:e.description||"Onduleur Personnalis\xE9",maxAcPower:l?.maxAcPower||5e3,maxDcPower:l?.maxDcPower||6e3,maxInputVoltage:l?.maxInputVoltage||600,minMpptVoltage:l?.minMpptVoltage||80,maxMpptVoltage:l?.maxMpptVoltage||550,maxInputCurrent:l?.maxInputCurrent||15,mpptCount:l?.mpptCount||2,maxStrings:l?.maxStrings||2,isMicro:l?.isMicro||!1,phase:t||"Mono"}),r=m=>{let{name:g,value:C,type:v}=m.target,h=v==="checkbox";s(S=>({...S,[g]:h?m.target.checked:g==="description"||g==="phase"?C:parseFloat(C)||0}))};return(0,W.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4",children:(0,W.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md animate-scale-in",children:[(0,W.jsxs)("div",{className:"bg-slate-800 text-white p-4 rounded-t-xl flex justify-between items-center",children:[(0,W.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,W.jsx)("span",{className:"text-orange-400",children:"\u2699\uFE0F"})," Configuration Onduleur Personnalis\xE9"]}),(0,W.jsx)("button",{onClick:n,className:"hover:bg-slate-700 p-1 rounded-full transition-colors",children:(0,W.jsx)(_a,{className:"w-5 h-5"})})]}),(0,W.jsxs)("form",{onSubmit:m=>{m.preventDefault();let g={...e,description:i.description,power:i.maxAcPower,electrical:{maxAcPower:i.maxAcPower,maxDcPower:i.maxDcPower,maxInputVoltage:i.maxInputVoltage,minMpptVoltage:i.minMpptVoltage,maxMpptVoltage:i.maxMpptVoltage,maxInputCurrent:i.maxInputCurrent,mpptCount:i.mpptCount,maxStrings:i.maxStrings,isMicro:i.isMicro}};a(g,i.phase)},className:"p-6 space-y-4",children:[(0,W.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-lg text-xs text-blue-800",children:"D\xE9finissez les caract\xE9ristiques pour le calcul des sections de c\xE2bles et l'audit de conformit\xE9."}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nom / Mod\xE8le"}),(0,W.jsx)("input",{type:"text",name:"description",value:i.description,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,W.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Type d'onduleur"}),(0,W.jsxs)("select",{name:"isMicro",value:i.isMicro?"true":"false",onChange:m=>s(g=>({...g,isMicro:m.target.value==="true"})),className:"w-full p-2 border rounded font-bold text-slate-800 outline-none",children:[(0,W.jsx)("option",{value:"false",children:"Centralis\xE9 / Hybride"}),(0,W.jsx)("option",{value:"true",children:"Micro-onduleur"})]})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Raccordement"}),(0,W.jsxs)("select",{name:"phase",value:i.phase,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 outline-none",children:[(0,W.jsx)("option",{value:"Mono",children:"Monophas\xE9"}),(0,W.jsx)("option",{value:"Tri",children:"Triphas\xE9"})]})]})]}),(0,W.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance AC (VA)"}),(0,W.jsx)("input",{type:"number",name:"maxAcPower",value:i.maxAcPower,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Puissance DC Max (Wc)"}),(0,W.jsx)("input",{type:"number",name:"maxDcPower",value:i.maxDcPower,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),!i.isMicro&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Vmax DC (V)"}),(0,W.jsx)("input",{type:"number",name:"maxInputVoltage",value:i.maxInputVoltage,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Imax DC (A)"}),(0,W.jsx)("input",{type:"number",step:"0.1",name:"maxInputCurrent",value:i.maxInputCurrent,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,W.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Nb. de MPPT"}),(0,W.jsx)("input",{type:"number",name:"mpptCount",value:i.mpptCount,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Strings Max"}),(0,W.jsx)("input",{type:"number",name:"maxStrings",value:i.maxStrings,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,W.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Min MPPT (V)"}),(0,W.jsx)("input",{type:"number",name:"minMpptVoltage",value:i.minMpptVoltage,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]}),(0,W.jsxs)("div",{children:[(0,W.jsx)("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-1",children:"Max MPPT (V)"}),(0,W.jsx)("input",{type:"number",name:"maxMpptVoltage",value:i.maxMpptVoltage,onChange:r,className:"w-full p-2 border rounded font-bold text-slate-800 focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),(0,W.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100",children:[(0,W.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Annuler"}),(0,W.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Appliquer"})]})]})]})})},l1=tv;var t0=ae(Ot(),1);var p=ae(De(),1),av=({project:e,report:t,totalPowerW:a,voltageDrop:n,acSection:l,microBranchesReport:i})=>{let[s,r]=(0,t0.useState)(!1),[c,m]=(0,t0.useState)(!1),g=e.inverterConfig.phase==="Tri",C=Vl(e.postalCode,e.altitude),v=e.fields[0]?.panels.model,h=e.inverterConfig.brand==="Enphase"||e.inverterConfig.brand==="APSystems"||e.inverterConfig.brand==="FoxESS"&&!!e.inverterConfig.model?.toUpperCase().includes("MICRO")||e.inverterConfig.brand==="Custom"&&!!e.inverterConfig.model?.toUpperCase().includes("MICRO"),S=t?.details?.recommendedBreaker,w=e?.inverterConfig?.agcpValue,f=(w&&w>0?tn(w,g):null)??(S?Number(S):On((t?.details?.nominalAcCurrent||0)*1.25,g)),b=f?Ua(l,f):"ok",N=b==="danger",A=e.fields.reduce((z,se)=>z+se.panels.rows*se.panels.columns,0),T=e.inverterConfig.brand==="None";if(t&&!t.isCompatible&&t.errors.length>0&&!t.details)return(0,p.jsxs)("div",{className:"bg-red-50 rounded-xl shadow-lg border-2 border-red-200 overflow-hidden relative p-8 text-center animate-scale-in",children:[(0,p.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 text-red-600 mb-4 shadow-sm border border-red-200",children:(0,p.jsx)("span",{className:"text-3xl",children:"\u26A0\uFE0F"})}),(0,p.jsx)("h3",{className:"text-xl font-black text-red-800 uppercase tracking-tight mb-2",children:"Calculs Bloqu\xE9s"}),(0,p.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,p.jsx)("p",{className:"font-bold text-red-700 text-sm mb-4",children:"La configuration actuelle est invalide et emp\xEAche tout calcul de s\xE9curit\xE9."}),(0,p.jsx)("div",{className:"bg-white p-4 rounded-lg border border-red-200 text-left shadow-sm",children:(0,p.jsx)("ul",{className:"list-disc list-inside space-y-2",children:t.errors.map((z,se)=>(0,p.jsx)("li",{className:"text-xs font-bold text-red-600",children:z},se))})}),(0,p.jsx)("p",{className:"mt-4 text-xs text-red-500 font-medium italic",children:`Veuillez corriger la r\xE9partition des cha\xEEnes dans le panneau "\xC9lectrique" pour d\xE9bloquer l'audit et l'export PDF.`})]})]});if(!t||!t.details||!v||A===0||T)return(0,p.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden opacity-60 grayscale-[0.5]",children:[(0,p.jsxs)("div",{className:"bg-slate-800 p-4 text-white flex justify-between items-center",children:[(0,p.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,p.jsx)("span",{className:"text-orange-400",children:"\u2211"})," M\xE9thodologie & Audit \xC9lectrique"]}),(0,p.jsx)("span",{className:"text-[10px] bg-slate-700 px-2 py-1 rounded border border-slate-600 uppercase tracking-widest",children:"En attente de configuration"})]}),(0,p.jsxs)("div",{className:"p-12 text-center space-y-4",children:[(0,p.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto text-slate-300",children:(0,p.jsx)("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-slate-600 font-bold",children:"Audit en pause"}),(0,p.jsx)("p",{className:"text-xs text-slate-400",children:"Saisissez des dimensions de toiture et un onduleur pour lancer les calculs."})]})]})]});let{details:u}=t,M=u.stringsAnalysis||[],D=M.length,_=(u.vmaxInverter??9999)<=80,P=v.electrical?.tempCoeffVoc||-.26,ne=v.electrical?.voc||0,re=v.electrical?.vmp||0,Ie=C.tempMin,Ee=C.tempMaxAmb+35,Ge=Ie-25,Ye=Ee-25,K=ne*(1+P/100*Ge),j=re*(1+P/100*Ye),me=u.vocCold>u.vmaxInverter,Ue=u.iscPanel>u.imaxInverter,ge=u.dcAcRatio*100,k=ge>130,H=Math.min(100,ge/160*100),te="bg-blue-500",ce="Sous-dimensionn\xE9";ge>=100&&ge<=130?(te="bg-green-500",ce="Optimal"):ge>130?(te="bg-orange-500",ce="Sur-dimensionn\xE9 (Clipping)"):ge>150&&(te="bg-red-600",ce="Critique");let Re=M.filter(z=>z.vmpHot<u.vminMppt),je=1.05,xe=M.filter(z=>z.vmpHot>=u.vminMppt&&z.vmpHot<=u.vminMppt*je);return(0,p.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden animate-scale-in relative",children:[(0,p.jsxs)("div",{className:"bg-slate-800 p-4 text-white flex justify-between items-center",children:[(0,p.jsxs)("h3",{className:"font-bold flex items-center gap-2",children:[(0,p.jsx)("span",{className:"text-orange-400",children:"\u2211"})," M\xE9thodologie & Audit \xC9lectrique"]}),(0,p.jsx)("span",{className:"text-[10px] bg-slate-700 px-2 py-1 rounded border border-slate-600 uppercase tracking-widest",children:"Norme NF C15-712-1"})]}),(0,p.jsxs)("div",{className:"p-6 space-y-8",children:[(0,p.jsxs)("section",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,p.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,p.jsx)("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"1. V\xE9rification S\xE9curit\xE9 (DC Side)"}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,p.jsxs)("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded border ${me?"bg-red-50 text-red-700 border-red-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:["Chaine Max (Worst-case) : ",u.maxPanelsInAString," pan."]}),(0,p.jsxs)("button",{onClick:()=>m(!0),className:"text-[10px] bg-slate-100 hover:bg-slate-200 text-slate-600 px-2 py-0.5 rounded font-bold border border-slate-300 transition-colors flex items-center gap-1",children:[(0,p.jsx)("span",{children:"?"})," Voir les d\xE9tails des calculs"]})]})]}),(0,p.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${t.isCompatible?"bg-green-100 text-green-700":"bg-red-100 text-red-700 animate-pulse"}`,children:t.isCompatible?"CONFORME":"NON CONFORME"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{className:`p-4 rounded-lg border ${me?"bg-red-50 border-red-200":"bg-slate-50 border-slate-100"}`,children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,p.jsxs)("span",{className:"text-[10px] font-black uppercase text-slate-400",children:["Tension Max Globale (Voc @ ",C.tempMin,"\xB0C)"]}),me&&(0,p.jsx)("span",{className:"text-[10px] font-black text-red-600 animate-pulse",children:"\u26A0\uFE0F SURTENSION"})]}),(0,p.jsxs)("div",{className:"flex justify-between items-end",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:`text-xl font-black ${me?"text-red-700":"text-slate-800"}`,children:[u.vocCold," V"]}),(0,p.jsx)("div",{className:"text-[9px] text-slate-500 font-bold italic",children:"Calcul bas\xE9 sur la cha\xEEne la plus longue"})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"text-[10px] font-bold text-slate-400",children:"Limite Onduleur"}),(0,p.jsxs)("div",{className:"text-sm font-black text-slate-700",children:[u.vmaxInverter," V"]})]})]})]}),(0,p.jsxs)("div",{className:`p-4 rounded-lg border ${Ue?"bg-red-50 border-red-200":"bg-slate-50 border-slate-100"}`,children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,p.jsx)("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Courant Court-Circuit (Isc)"}),Ue&&(0,p.jsx)("span",{className:"text-[10px] font-black text-red-600 animate-pulse",children:"\u26A0\uFE0F INTENSIT\xC9 TROP HAUTE"})]}),(0,p.jsxs)("div",{className:"flex justify-between items-end",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:`text-xl font-black ${Ue?"text-red-700":"text-slate-800"}`,children:[u.iscPanel," A"]}),(0,p.jsxs)("div",{className:"text-[9px] text-slate-500 font-bold italic",children:["Panel: ",v.name]})]}),(0,p.jsxs)("div",{className:"text-right",children:[(0,p.jsx)("div",{className:"text-[10px] font-bold text-slate-400",children:"Limite Entr\xE9e"}),(0,p.jsxs)("div",{className:"text-sm font-black text-slate-700",children:[u.imaxInverter," A"]})]})]})]})]}),!h&&M.length>0&&(0,p.jsxs)("div",{className:"mt-4 bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden",children:[(0,p.jsxs)("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[(0,p.jsx)("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"1B. Liaison DC (Panneaux \u2192 coffret DC / onduleur)"}),(0,p.jsx)("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-50 text-blue-700 border border-blue-100",children:"\u0394U DC (info)"})]}),(0,p.jsxs)("div",{className:"p-4 text-[12px] text-slate-700",children:[(0,p.jsxs)("p",{className:"text-[11px] text-slate-600 mb-3",children:["Renseigne la longueur et la section de la liaison DC pour chaque MPPT utilis\xE9 (liaison aller+retour = 2\xD7L). Calcul simplifi\xE9 : ",(0,p.jsx)("span",{className:"font-mono",children:"\u0394U = (2 \xD7 L \xD7 I \xD7 \u03C1) / S"})," avec ",(0,p.jsx)("span",{className:"font-mono",children:"\u03C1 = 0,023 \u03A9\xB7mm\xB2/m"}),"."]}),(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"w-full text-sm",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{className:"text-[10px] uppercase tracking-wider text-slate-500 border-b border-slate-200",children:[(0,p.jsx)("th",{className:"py-2 px-2 text-left",children:"MPPT"}),(0,p.jsx)("th",{className:"py-2 px-2 text-right",children:"L (m)"}),(0,p.jsx)("th",{className:"py-2 px-2 text-right",children:"S (mm\xB2)"}),(0,p.jsx)("th",{className:"py-2 px-2 text-right",children:"I (A)"}),(0,p.jsx)("th",{className:"py-2 px-2 text-right",children:"\u0394U (V)"}),(0,p.jsx)("th",{className:"py-2 px-2 text-right",children:"\u0394U (%)"})]})}),(0,p.jsx)("tbody",{children:M.map(z=>{let se=e.inverterConfig.dcCablingRuns?.find($=>$.mpptIndex===z.mpptIndex),pe=se?.lengthM??0,_e=z.iscCalculation,Q=z.vmpHot||0,ve=se?.sectionMm2==null?null:Number(se?.sectionMm2),we=Vi(pe,_e,Q||1),Ce=ve??we,{duV:Fe,duPct:Te}=Bi(pe,_e,Ce||0,Q||0),ue=pe<=0,Pe=Ce>0?$s(Ce):0,Ne=!ue&&Hr(Ce,_e),Ke=yg(pe,Te),V=!ue&&!Ne&&Ke==="danger",q=!ue&&!Ne&&Ke==="warn";return(0,p.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,p.jsxs)("td",{className:"py-2 px-2 font-bold",children:["MPPT ",z.mpptIndex,z.parallelStrings&&z.parallelStrings>1&&(0,p.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded bg-slate-100 border border-slate-200 text-[10px] font-black text-slate-700",children:["x",z.parallelStrings," //"]})]}),(0,p.jsx)("td",{className:"py-2 px-2 text-right",children:pe||"\u2014"}),(0,p.jsx)("td",{className:"py-2 px-2 text-right",children:Ce?(0,p.jsxs)("div",{className:"inline-flex flex-col items-end leading-tight",children:[(0,p.jsx)("span",{children:Ce}),ve!=null&&(0,p.jsx)("span",{className:"text-[9px] font-black text-indigo-600",children:"(forc\xE9)"}),ve!=null&&we&&Number(we)!==Number(ve)&&(0,p.jsxs)("span",{className:"text-[9px] font-black text-slate-400",children:["Auto: ",we]})]}):"\u2014"}),(0,p.jsx)("td",{className:"py-2 px-2 text-right",children:_e.toFixed(1)}),(0,p.jsx)("td",{className:"py-2 px-2 text-right",children:ue?"\u2014":Fe.toFixed(1)}),(0,p.jsx)("td",{className:`py-2 px-2 text-right font-bold ${ue?"text-orange-600":Ne||V?"text-red-600":q?"text-amber-600":"text-green-600"}`,children:ue?"\xC0 renseigner":Ne?`C\xE2ble trop faible (max ${Pe}A)`:`${Te.toFixed(2)} %`})]},z.mpptIndex)})})]})}),(0,p.jsx)("p",{className:"text-[10px] text-slate-500 mt-2",children:"Recommandation de conception en PV : viser \u2264 1% (pertes). Limite g\xE9n\xE9rale souvent utilis\xE9e en AC : 3% (r\xE9seau priv\xE9). \xC0 valider selon contexte (longueur, sections, exigences du client et prescriptions fabricant)."})]})]}),M.length>0&&(0,p.jsxs)("div",{className:"mt-4 p-4 bg-slate-800 rounded-xl text-white shadow-inner",children:[(0,p.jsxs)("h5",{className:"text-[10px] font-black uppercase text-slate-400 mb-3 tracking-widest flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-1.5 h-3 bg-blue-500 rounded-full"}),"D\xE9tail de la configuration (",D," MPPT utilis\xE9s)"]}),(0,p.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:M.map((z,se)=>{let pe=z.vmpHot<u.vminMppt,_e=!pe&&z.vmpHot<=u.vminMppt*1.05,Q=z.vocCold>u.vmaxInverter,ve=u.vmaxInverter>0?z.vocCold/u.vmaxInverter:0,we=!Q&&(z.isVoltageWarning||ve>=.95);return(0,p.jsxs)("div",{className:`p-3 rounded-lg border relative overflow-hidden transition-colors ${pe?_?"bg-orange-900/30 border-orange-500/50":"bg-red-900/30 border-red-500/50":"bg-slate-700/50 border-slate-600/50"}`,children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:"block text-[11px] font-black text-white",children:["MPPT #",z.mpptIndex]}),(0,p.jsx)("span",{className:"block text-[9px] font-bold text-orange-300 truncate w-32",title:z.composition,children:z.composition})]}),(0,p.jsxs)("span",{className:`text-[11px] font-black px-1.5 py-0.5 rounded ${pe?_?"bg-orange-500 text-white":"bg-red-500 text-white":"bg-blue-400/10 text-blue-400"}`,children:[z.totalPanelCount," Pan."]})]}),(0,p.jsxs)("div",{className:"space-y-1",children:[(0,p.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,p.jsx)("span",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Voc (Froid)"}),(0,p.jsxs)("span",{className:`text-[10px] font-mono font-bold ${Q?"text-red-400":we?"text-amber-300 font-black":"text-slate-200"}`,children:[z.vocCold.toFixed(1)," V"]})]}),(0,p.jsx)("div",{className:"w-full h-1 bg-slate-600 rounded-full overflow-hidden mb-2",children:(0,p.jsx)("div",{className:`h-full transition-all ${Q?"bg-red-500":we?"bg-amber-400":"bg-blue-500"}`,style:{width:`${Math.min(100,z.vocCold/u.vmaxInverter*100)}%`}})}),we&&(0,p.jsx)("div",{className:"text-[9px] font-black text-amber-300 -mt-1 mb-2",children:"\u26A0\uFE0F Proche limite Voc (\u226595%)"}),(0,p.jsxs)("div",{className:"flex justify-between items-baseline border-t border-slate-600/50 pt-1",children:[(0,p.jsx)("span",{className:"text-[9px] text-slate-400 uppercase font-bold",children:"Vmp (Chaud)"}),(0,p.jsxs)("span",{className:`text-[10px] font-mono font-bold ${pe?_?"text-orange-300 font-black":"text-red-500 animate-pulse font-black":_e?"text-amber-300 font-black":"text-green-300"}`,children:[z.vmpHot.toFixed(1)," V"]})]}),_e&&(0,p.jsx)("div",{className:"text-[9px] font-black text-amber-300 mt-1",children:"\u26A0\uFE0F Proche limite Vmp (\u2264105% de Vmin MPPT)"})]})]},se)})}),Re.length>0&&(0,p.jsx)("div",{className:`mt-4 p-4 border-2 rounded-lg ${_?"bg-orange-600/15 border-orange-500":"bg-red-600/20 border-red-500"} `,children:(0,p.jsxs)("div",{className:"flex items-start gap-3",children:[(0,p.jsx)("span",{className:"text-2xl",children:"\u26A0\uFE0F"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:`${_?"text-orange-300":"text-red-400"} font-black uppercase text-xs mb-1`,children:_?"Avertissement : tension basse (micro-onduleur)":"Attention : Configuration Incompatible"}),Re.map((z,se)=>(0,p.jsxs)("p",{className:"text-[11px] font-bold text-white leading-tight mb-1",children:["MPPT #",z.mpptIndex," : valeur VMP \xE0 chaud (",z.vmpHot.toFixed(1),"V)",_?"en dessous de la plage MPPT recommand\xE9e.":"Non conforme.",(0,p.jsx)("br",{}),(0,p.jsxs)("span",{className:`${_?"text-orange-200":"text-red-200"} font-normal italic`,children:["Se reporter \xE0 la notice constructeur (Min MPPT: ",u.vminMppt,"V)."]})]},se)),!_&&(0,p.jsx)("p",{className:"text-[9px] text-red-300 mt-2 border-t border-red-500/50 pt-2 font-bold uppercase",children:"Veuillez ajouter des panneaux sur ce MPPT pour augmenter la tension."}),_&&(0,p.jsx)("p",{className:"text-[9px] text-orange-200 mt-2 border-t border-orange-500/40 pt-2 font-bold",children:"Sur micro-onduleurs, c'est un indicateur de fonctionnement/performance (production r\xE9duite ou arr\xEAts possibles par forte chaleur)."})]})]})})]}),me&&(0,p.jsxs)("div",{className:"mt-3 bg-red-100 border border-red-200 p-3 rounded-lg flex items-start gap-3",children:[(0,p.jsx)("span",{className:"text-xl",children:"\u26A1"}),(0,p.jsxs)("div",{className:"text-xs text-red-900 leading-tight",children:[(0,p.jsx)("b",{children:"ERREUR DE TENSION :"})," La tension d\xE9passe la limite de s\xE9curit\xE9 de l'onduleur sur au moins une cha\xEEne.",(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"font-bold",children:"Solution :"})," R\xE9duisez le nombre de panneaux sur la cha\xEEne concern\xE9e."]})]})]}),(0,p.jsxs)("section",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,p.jsx)("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"2. Liaison AC (Liaison Tableau)"}),(()=>{let z=n,se=z<=1?"ok":z<=3?"warn":"bad",pe=se==="ok"?"bg-green-100 text-green-700":se==="warn"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700",_e=se==="ok"?"\u0394U \u2264 1% (recommand\xE9)":se==="warn"?"1% < \u0394U \u2264 3% (tol\xE9r\xE9)":"\u0394U > 3% (non conforme)";return(0,p.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${pe}`,children:_e})})()]}),(0,p.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Calcul de la chute de tension ($\\Delta U$) :"}),(0,p.jsxs)("p",{className:"text-[11px] text-slate-500 mb-2",children:[(0,p.jsx)("b",{children:"L"})," correspond \xE0 la distance entre le ",(0,p.jsx)("b",{children:"coffret AC photovolta\xEFque"})," et le ",(0,p.jsx)("b",{children:"point de raccordement"}),(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"italic",children:"R\xE9f\xE9rence : en photovolta\xEFque, le guide UTE C 15-712-1 recommande de viser ~1% sur la liaison AC (et de rester \u2264 3% pour \xE9viter des pertes et un refus de conformit\xE9 selon les pratiques Consuel). En parall\xE8le, la NF C 15-100 fixe des limites g\xE9n\xE9rales de chute de tension (3% \xE9clairage / 5% autres circuits) c\xF4t\xE9 installation int\xE9rieure."}),"(tableau principal / disjoncteur de branchement)."]}),(0,p.jsxs)("div",{className:"font-mono text-[11px] bg-white p-2 rounded border border-slate-200",children:["Formula: $\\Delta U = (L \\times I \\times \\rho \\times coeff) / S$ ",(0,p.jsx)("br",{}),"$\\rho$ (cuivre) = 0.023 $\\Omega \\cdot mm^2/m$ ",(0,p.jsx)("br",{}),"$I$ estim\xE9 = ",(a/(g?400*1.732:230)).toFixed(1)," A"]})]}),(0,p.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,p.jsx)("span",{className:"text-xs text-slate-600",children:"Section retenue :"}),(0,p.jsxs)("span",{className:"font-bold text-blue-600",children:[l," mm\xB2"]})]}),(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("span",{className:"text-xs text-slate-600",children:"Perte calcul\xE9e :"}),(0,p.jsxs)("span",{className:`font-bold ${n>1?"text-orange-600":"text-slate-900"}`,children:[n.toFixed(2)," %"]})]})]})]}),b==="info"&&(0,p.jsxs)("div",{className:"mt-3 text-[11px] font-bold text-amber-800 bg-amber-50 border border-amber-100 rounded p-2",children:["\u{1F7E0} Information \u2014 conditions de pose : section ",l,"mm\xB2 OK en conditions usuelles avec In=",f,"A.",(0,p.jsx)("div",{className:"font-normal text-[10px] text-amber-800/80 mt-1",children:"V\xE9rifier en cas de pose d\xE9favorable (encastr\xE9e, temp\xE9rature \xE9lev\xE9e, regroupement de c\xE2bles). En cas de doute, surdimensionner la section."})]}),b==="danger"&&(0,p.jsxs)("div",{className:"mt-3 text-[11px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:["\u26A0\uFE0F Non conforme : In=",f,"A trop \xE9lev\xE9 pour ",l,"mm\xB2.",(0,p.jsx)("div",{className:"font-normal text-[10px] text-red-700/80 mt-1",children:"Augmenter la section (souvent pour respecter la protection) ou revoir le calibre si le courant d\u2019utilisation le permet."})]})]}),i&&i.branches?.length>0&&(0,p.jsxs)("section",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,p.jsx)("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"2b. Branches Micro-onduleurs (AC)"}),(0,p.jsx)("span",{className:`px-2 py-1 rounded text-[10px] font-bold ${i.errors.length?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:i.errors.length?"CONFIG \xC0 CORRIGER":"OK"})]}),(0,p.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[(0,p.jsxs)("div",{className:"text-xs text-slate-600 mb-2",children:["Micros requis: ",(0,p.jsx)("b",{children:i.requiredMicros})," \u2022 Micros configur\xE9s: ",(0,p.jsx)("b",{children:i.totalMicrosConfigured})," \u2022 Puissance micro: ",(0,p.jsxs)("b",{children:[i.microPowerVA," VA"]})]}),(i.errors.length>0||i.warnings.length>0)&&(0,p.jsxs)("div",{className:"mb-3 space-y-1",children:[i.errors.map((z,se)=>(0,p.jsxs)("div",{className:"text-[11px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:["\u26A0\uFE0F ",z]},`mb-e-${se}`)),i.warnings.map((z,se)=>(0,p.jsxs)("div",{className:"text-[11px] font-bold text-orange-700 bg-orange-50 border border-orange-100 rounded p-2",children:["\u2139\uFE0F ",z]},`mb-w-${se}`))]}),(0,p.jsx)("div",{className:"overflow-x-auto",children:(0,p.jsxs)("table",{className:"w-full text-[11px]",children:[(0,p.jsx)("thead",{className:"text-[10px] text-slate-600 uppercase bg-white border border-slate-200",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{className:"p-2 text-left",children:"Branche"}),e.inverterConfig.phase==="Tri"&&(0,p.jsx)("th",{className:"p-2 text-left",children:"Phase"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"# Micros"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"Longueur (m)"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"Section (mm\xB2)"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"I (A)"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"\u0394U (V)"}),(0,p.jsx)("th",{className:"p-2 text-center",children:"\u0394U (%)"})]})}),(0,p.jsx)("tbody",{children:i.branches.map(z=>(0,p.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,p.jsx)("td",{className:"p-2 font-bold text-slate-700",children:z.name}),e.inverterConfig.phase==="Tri"&&(0,p.jsx)("td",{className:"p-2",children:z.phase}),(0,p.jsx)("td",{className:"p-2 text-center font-mono",children:z.microCount}),(0,p.jsx)("td",{className:"p-2 text-center font-mono",children:z.cableLengthM}),(0,p.jsx)("td",{className:"p-2 text-center font-mono",children:z.cableSectionMm2}),(0,p.jsx)("td",{className:"p-2 text-center font-mono",children:z.currentA.toFixed(1)}),(0,p.jsx)("td",{className:"p-2 text-center font-mono",children:z.dropV.toFixed(1)}),(0,p.jsx)("td",{className:`p-2 text-center font-black ${z.dropPercent>1?"text-orange-600":"text-green-700"}`,children:z.dropPercent.toFixed(2)})]},z.branchId))})]})})]})]}),(0,p.jsxs)("section",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,p.jsx)("h4",{className:"text-sm font-bold text-slate-800 uppercase tracking-tight",children:"3. Ratio de dimensionnement Puissance"}),(0,p.jsx)("span",{className:`text-[10px] font-black px-2 py-1 rounded border ${ge>=100&&ge<=130?"bg-green-50 text-green-700 border-green-200":"bg-slate-100 text-slate-600 border-slate-200"}`,children:ce})]}),(0,p.jsxs)("div",{className:`p-4 rounded-lg border transition-all duration-500 ${k?"bg-red-50 border-red-300 ring-2 ring-red-200 shadow-lg":"bg-slate-50 border-slate-100"}`,children:[(0,p.jsxs)("div",{className:"flex items-center gap-4",children:[(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsxs)("div",{className:"flex justify-between text-xs mb-1 font-medium",children:[(0,p.jsxs)("span",{className:"text-slate-500",children:["Puissance DC: ",(0,p.jsxs)("b",{className:"text-slate-700",children:[a," Wp"]})]}),(0,p.jsxs)("span",{className:"text-slate-500",children:["Puissance AC: ",(0,p.jsxs)("b",{className:"text-slate-700",children:[u.maxAcPower||"Auto"," VA"]})]})]}),(0,p.jsxs)("div",{className:"relative h-4 w-full bg-slate-200 rounded-full overflow-hidden shadow-inner",children:[(0,p.jsx)("div",{className:"absolute top-0 bottom-0 bg-green-500/10 border-l border-r border-green-500/30",style:{left:`${100/160*100}%`,width:`${30/160*100}%`}}),(0,p.jsx)("div",{className:`h-full transition-all duration-700 ease-out ${te} shadow-sm`,style:{width:`${H}%`}}),(0,p.jsx)("div",{className:"absolute top-0 bottom-0 left-[62.5%] border-l border-white/50 w-px h-full"}),(0,p.jsx)("div",{className:"absolute top-0 bottom-0 left-[81.25%] border-l border-slate-400/30 w-px h-full"})]}),(0,p.jsxs)("div",{className:"flex justify-between text-[8px] text-slate-400 mt-1 font-mono",children:[(0,p.jsx)("span",{children:"0%"}),(0,p.jsx)("span",{className:"pl-4",children:"100% (Eq)"}),(0,p.jsx)("span",{className:"pl-2",children:"130% (Max)"}),(0,p.jsx)("span",{children:"160%+"})]})]}),(0,p.jsxs)("div",{className:`text-center bg-white border px-4 py-2 rounded-lg ${k?"border-red-400":""}`,children:[(0,p.jsxs)("div",{className:`text-lg font-black ${k?"text-red-600":"text-slate-800"}`,children:[ge.toFixed(0),"%"]}),(0,p.jsx)("div",{className:"text-[9px] text-slate-400 font-bold uppercase",children:"Ratio DC/AC"})]})]}),k&&(0,p.jsxs)("div",{className:"mt-4 p-3 bg-white/80 rounded border border-red-200 flex gap-3 items-start animate-scale-in",children:[(0,p.jsx)("span",{className:"text-xl",children:"\u{1F6A8}"}),(0,p.jsxs)("div",{className:"text-xs text-red-900 leading-snug",children:[(0,p.jsx)("b",{className:"uppercase",children:"Alerte Ratio Critique (> 130%) :"}),"L'onduleur est trop petit par rapport \xE0 la puissance des panneaux.",(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"font-bold",children:"Risque de CLIPPING :"}),` L'onduleur va plafonner et "couper" la production exc\xE9dentaire.`,(0,p.jsx)("br",{}),(0,p.jsx)("span",{className:"mt-1 block font-black text-red-700 italic",children:"\u{1F449} Veuillez choisir un onduleur plus puissant ou r\xE9duire le nombre de panneaux."})]})]})]}),(0,p.jsxs)("div",{className:"mt-6 bg-slate-50 rounded-xl border border-slate-200 overflow-hidden",children:[(0,p.jsxs)("button",{onClick:()=>r(!s),className:"w-full bg-slate-200/50 px-4 py-3 flex items-center justify-between hover:bg-slate-200 transition-all group",children:[(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("div",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold text-xs shadow-inner",children:"i"}),(0,p.jsx)("h5",{className:"text-[11px] font-black text-slate-700 uppercase tracking-widest",children:"Guide : Comprendre le dimensionnement"})]}),(0,p.jsx)("svg",{className:`w-4 h-4 text-slate-400 transition-transform duration-300 ${s?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),s&&(0,p.jsxs)("div",{className:"p-5 space-y-6 text-slate-600 leading-snug animate-scale-in text-xs",children:[ge<100&&(0,p.jsxs)("div",{children:[(0,p.jsx)("h5",{className:"font-bold text-blue-700 mb-1 flex items-center gap-2",children:(0,p.jsxs)("span",{className:"bg-blue-100 px-2 rounded text-[10px] border border-blue-200",children:["Situation : Sous-dimensionn\xE9 (",ge.toFixed(0),"%)"]})}),(0,p.jsxs)("p",{className:"pl-2 border-l-2 border-blue-200 text-slate-600",children:["Votre champ PV est moins puissant que l'onduleur. ",(0,p.jsx)("strong",{children:"L'installation est fonctionnelle et s\xE9curis\xE9e"}),", mais l'onduleur est techniquement sur-calibr\xE9 par rapport aux panneaux.",(0,p.jsx)("br",{}),(0,p.jsx)("em",{children:"Impact :"})," Surco\xFBt inutile \xE0 l'achat de l'onduleur. Vous pourriez ajouter des panneaux sans changer d'appareil."]})]}),ge>=100&&ge<=130&&(0,p.jsxs)("div",{children:[(0,p.jsx)("h5",{className:"font-bold text-green-700 mb-1 flex items-center gap-2",children:(0,p.jsxs)("span",{className:"bg-green-100 px-2 rounded text-[10px] border border-green-200",children:["Situation : Optimale (",ge.toFixed(0),"%)"]})}),(0,p.jsxs)("p",{className:"pl-2 border-l-2 border-green-200 text-slate-600",children:["C'est la norme recommand\xE9e (110% - 130%). On installe plus de puissance panneaux (Wc) que la puissance de sortie de l'onduleur (VA).",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Pourquoi ?"})," Les panneaux produisent rarement \xE0 100% (nuages, chaleur, matin/soir). Ce ratio permet \xE0 l'onduleur de d\xE9marrer plus t\xF4t le matin et de produire plus tard le soir, maximisant la production globale."]})]}),ge>130&&(0,p.jsxs)("div",{children:[(0,p.jsx)("h5",{className:"font-bold text-red-700 mb-1 flex items-center gap-2",children:(0,p.jsxs)("span",{className:"bg-red-100 px-2 rounded text-[10px] border border-red-200",children:["Situation : Critique (",ge.toFixed(0),"%)"]})}),(0,p.jsxs)("p",{className:"pl-2 border-l-2 border-red-200 text-slate-600",children:["Le champ PV est beaucoup trop puissant pour l'onduleur.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Risque :"})," Ecr\xEAtage important (perte de production en \xE9t\xE9) et fatigue pr\xE9matur\xE9e de l'onduleur due \xE0 la chaleur constante \xE0 pleine charge."]})]})]})]})]})]}),c&&(0,p.jsx)("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/70 backdrop-blur-md p-2 sm:p-4 animate-scale-in",children:(0,p.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-xl max-h-[80vh] flex flex-col overflow-hidden relative border border-slate-200",children:[(0,p.jsxs)("div",{className:"bg-slate-800 text-white p-3 flex justify-between items-center shrink-0 border-b border-slate-700 shadow-md z-10",children:[(0,p.jsxs)("h3",{className:"font-bold text-base flex items-center gap-2",children:[(0,p.jsx)("span",{className:"text-orange-400",children:"\u{1F9EE}"})," D\xE9tails des Calculs de S\xE9curit\xE9"]}),(0,p.jsx)("button",{onClick:()=>m(!1),className:"hover:bg-slate-700 p-1.5 rounded-full bg-slate-700/50 transition-colors border border-slate-600",children:(0,p.jsx)(_a,{className:"w-5 h-5"})})]}),(0,p.jsxs)("div",{className:"p-4 space-y-4 text-sm text-slate-700 overflow-y-auto flex-1 bg-slate-50/30",children:[(0,p.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm",children:[(0,p.jsx)("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-2 border-b border-slate-100 pb-1 text-center bg-slate-50 -mx-3 -mt-3 p-2 rounded-t-lg",children:"1. Donn\xE9es d'Entr\xE9e (Conditions Extr\xEAmes)"}),(0,p.jsxs)("div",{className:"grid grid-cols-2 gap-y-1 gap-x-4 text-[11px]",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Temp. Min Locale :"})," ",(0,p.jsxs)("span",{className:"font-bold",children:[Ie,"\xB0C"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Temp. Max Ambiante :"})," ",(0,p.jsxs)("span",{className:"font-bold",children:[C.tempMaxAmb,"\xB0C"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Voc Panneau :"})," ",(0,p.jsxs)("span",{className:"font-bold",children:[ne," V"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Vmp Panneau :"})," ",(0,p.jsxs)("span",{className:"font-bold",children:[re," V"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Coeff. Temp (Voc) :"})," ",(0,p.jsxs)("span",{className:"font-bold text-blue-600",children:[P," %/\xB0C"]})]}),(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("span",{children:"Cha\xEEne max retenue :"})," ",(0,p.jsxs)("span",{className:"font-bold",children:[u.maxPanelsInAString," pan."]})]})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("h4",{className:"font-black text-slate-800 uppercase text-[11px] mb-1 flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px]",children:"2"}),"Calcul Tension Max (Voc @ Froid)"]}),(0,p.jsx)("p",{className:"text-[10px] text-slate-500 mb-2 italic border-l-2 border-blue-200 pl-2",children:"Tension circuit ouvert la plus \xE9lev\xE9e possible en hiver."}),(0,p.jsx)("div",{className:"font-mono text-[10px] bg-slate-800 text-green-400 p-2 rounded-lg overflow-x-auto shadow-inner mb-1",children:"Voc_max = Somme(Voc_panneau_i) sur le MPPT"}),(0,p.jsxs)("div",{className:"pl-2 space-y-0.5 font-mono text-[10px] text-slate-600",children:[(0,p.jsxs)("p",{children:["= ",ne," \xD7 [1 + (",P,"/100) \xD7 (",Ie," - 25)] \xD7 ",u.maxPanelsInAString," (approx)"]}),(0,p.jsxs)("p",{className:"font-bold text-slate-900 bg-yellow-100 inline-block px-1 rounded border border-yellow-200 mt-1",children:["= ",u.vocCold," V (Total MPPT Max)"]})]}),(0,p.jsxs)("div",{className:"mt-1 text-[10px] flex items-center gap-2 justify-end",children:[(0,p.jsx)("span",{className:"font-bold text-slate-500",children:"Limite Onduleur :"}),(0,p.jsxs)("span",{className:u.vocCold>u.vmaxInverter?"text-red-600 font-black bg-red-50 px-1 rounded":"text-green-600 font-black bg-green-50 px-1 rounded",children:[u.vmaxInverter," V"]}),u.vocCold>u.vmaxInverter?"\u274C DANGER":"\u2705 OK"]})]}),(0,p.jsxs)("div",{className:"pb-1",children:[(0,p.jsxs)("h4",{className:"font-black text-slate-800 uppercase text-[11px] mb-1 flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-5 h-5 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-[10px]",children:"3"}),"Calcul Tension Min (Vmp @ Chaud)"]}),(0,p.jsx)("p",{className:"text-[10px] text-slate-500 mb-2 italic border-l-2 border-orange-200 pl-2",children:"Tension de production la plus basse en \xE9t\xE9 (Tcell estimated)."}),(0,p.jsx)("div",{className:"font-mono text-[10px] bg-slate-800 text-blue-300 p-2 rounded-lg overflow-x-auto shadow-inner mb-1",children:"Vmp_min = Somme(Vmp_panneau_i) sur le MPPT"}),(0,p.jsxs)("div",{className:"pl-2 space-y-0.5 font-mono text-[10px] text-slate-600",children:[(0,p.jsxs)("p",{children:["= ",re," \xD7 [1 + (",P,"/100) \xD7 (",Ee," - 25)] \xD7 ",u.maxPanelsInAString," (approx)"]}),(0,p.jsxs)("p",{className:"font-bold text-slate-900 bg-blue-50 inline-block px-1 rounded border border-blue-200 mt-1",children:["= ",u.vmpHot," V (Total MPPT Min)"]})]}),(0,p.jsxs)("div",{className:"mt-1 text-[10px] flex items-center gap-2 justify-end",children:[(0,p.jsx)("span",{className:"font-bold text-slate-500",children:_?"Plage MPPT (reco fabricant) :":"Plage MPPT Min :"}),(0,p.jsxs)("span",{className:u.vmpHot<u.vminMppt?"text-orange-600 font-black bg-orange-50 px-1 rounded":"text-green-600 font-black bg-green-50 px-1 rounded",children:[u.vminMppt," V"]}),u.vmpHot<u.vminMppt?_?"\u26A0\uFE0F A optimiser":"\u274C NON CONFORME":"\u2705 OK"]})]})]}),(0,p.jsx)("div",{className:"p-3 border-t border-slate-200 bg-slate-50 shrink-0 z-10",children:(0,p.jsx)("button",{onClick:()=>m(!1),className:"w-full bg-slate-800 text-white py-2.5 rounded-lg font-bold hover:bg-slate-700 transition-colors shadow-lg active:scale-95 text-sm",children:"Fermer la fen\xEAtre"})})]})})]})},i1=av;var ec=ae(Ot(),1);var oe=ae(De(),1),nv=[2.5,6,10,16,25];function s1(e,t,a){return{id:`branch-${Date.now()}-${e}`,name:`Branche ${e}`,phase:t,microCount:0,cableLengthM:0,cableSectionMm2:a}}function a0({project:e,microPowerVA:t,onUpdate:a}){let n=(0,ec.useMemo)(()=>{let h=e.inverterConfig.brand,S=e.inverterConfig.model||"";return h==="Enphase"||h==="APSystems"||h==="FoxESS"&&S.includes("MICRO")},[e.inverterConfig.brand,e.inverterConfig.model]),l=(0,ec.useMemo)(()=>Pi(e),[e]),i=(0,ec.useMemo)(()=>Ws({...e,inverterConfig:{...e.inverterConfig,microBranches:l}},t),[e,l,t]);if(!n||!e.inverterConfig.model||!i)return null;let s=e.inverterConfig.phase==="Tri",r=s?"L1":"Mono",c=l[0]?.cableSectionMm2||2.5,m=(h,S)=>{let w=l.map(R=>R.id===h?{...R,...S}:R);a(w)},g=()=>{a([...l,s1(l.length+1,r,c)])},C=h=>{let S=l.filter(w=>w.id!==h);a(S.length?S:[s1(1,r,c)])},v=()=>{let h=i.requiredMicros;if(!h)return;if(s){let N=["L1","L2","L3"],A=Math.floor(h/3),T=h%3,u=[A,A,A].map((_,P)=>_+(P<T?1:0)),M={L1:l.find(_=>_.phase==="L1")||l[0],L2:l.find(_=>_.phase==="L2")||l[1],L3:l.find(_=>_.phase==="L3")||l[2]},D=N.map((_,P)=>{let ne=M[_];return{id:`branch-auto-${_}`,name:`Branche ${P+1}`,phase:_,microCount:u[P],cableLengthM:ne?.cableLengthM??0,cableSectionMm2:ne?.cableSectionMm2??c}});a(D);return}let S=i.branches[0]?.maxAllowed||0,w=S>0?S:h,R=Math.max(1,Math.ceil(h/w)),f=[],b=h;for(let N=0;N<R;N++){let A=Math.min(w,b);b-=A,f.push({id:`branch-auto-${N+1}`,name:`Branche ${N+1}`,phase:"Mono",microCount:A,cableLengthM:0,cableSectionMm2:c})}a(f)};return(0,oe.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm animate-scale-in",children:[(0,oe.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2 pb-2 border-b border-slate-100",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("div",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Branches micro-onduleurs (AC)"}),(0,oe.jsxs)("div",{className:"text-[11px] font-bold text-slate-700 mt-1",children:["Micros requis: ",(0,oe.jsx)("span",{className:"text-purple-700",children:i.requiredMicros})," \u2022 Puissance micro: ",(0,oe.jsxs)("span",{className:"text-purple-700",children:[i.microPowerVA," VA"]})]}),i.ruleNote&&(0,oe.jsx)("div",{className:"text-[10px] text-slate-500 italic mt-1",children:i.ruleNote})]}),(0,oe.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,oe.jsx)("button",{onClick:v,className:"text-[10px] font-black bg-purple-100 text-purple-700 px-2 py-1 rounded border border-purple-200 hover:bg-purple-200 transition",children:s?"Auto-r\xE9partition 3 phases":"Auto-r\xE9partir"}),(0,oe.jsx)("button",{onClick:g,className:"text-[10px] font-black bg-slate-100 text-slate-700 px-2 py-1 rounded border border-slate-200 hover:bg-slate-200 transition",children:"+ Ajouter"})]})]}),(i.errors.length>0||i.warnings.length>0)&&(0,oe.jsxs)("div",{className:"mb-3 space-y-1",children:[i.errors.map((h,S)=>(0,oe.jsxs)("div",{className:"text-[10px] font-bold text-red-700 bg-red-50 border border-red-100 rounded p-2",children:["\u26A0\uFE0F ",h]},`e-${S}`)),i.warnings.map((h,S)=>(0,oe.jsxs)("div",{className:"text-[10px] font-bold text-orange-700 bg-orange-50 border border-orange-100 rounded p-2",children:["\u2139\uFE0F ",h]},`w-${S}`))]}),(0,oe.jsx)("div",{className:"overflow-x-auto",children:(0,oe.jsxs)("table",{className:"w-full text-xs",children:[(0,oe.jsx)("thead",{className:"text-[10px] text-slate-600 uppercase bg-slate-50 border border-slate-200",children:(0,oe.jsxs)("tr",{children:[(0,oe.jsx)("th",{className:"p-2 text-left",children:"Branche"}),s&&(0,oe.jsx)("th",{className:"p-2 text-left",children:"Phase"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"# Micros"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"Longueur (m)"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"Section (mm\xB2)"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"I estim\xE9 (A)"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"\u0394U (V)"}),(0,oe.jsx)("th",{className:"p-2 text-center",children:"\u0394U (%)"}),(0,oe.jsx)("th",{className:"p-2"})]})}),(0,oe.jsx)("tbody",{children:i.branches.map(h=>(0,oe.jsxs)("tr",{className:"border-b border-slate-100",children:[(0,oe.jsx)("td",{className:"p-2 font-bold text-slate-700",children:h.name}),s&&(0,oe.jsx)("td",{className:"p-2",children:(0,oe.jsxs)("select",{value:h.phase,onChange:S=>m(h.branchId,{phase:S.target.value}),className:"w-full p-1 border border-slate-200 rounded bg-white",children:[(0,oe.jsx)("option",{value:"L1",children:"L1"}),(0,oe.jsx)("option",{value:"L2",children:"L2"}),(0,oe.jsx)("option",{value:"L3",children:"L3"})]})}),(0,oe.jsx)("td",{className:"p-2",children:(0,oe.jsx)("input",{type:"number",min:0,value:h.microCount,onChange:S=>m(h.branchId,{microCount:parseInt(S.target.value)||0}),className:`w-20 p-1 text-center border rounded ${h.isWithinMaxMicros?"border-slate-200":"border-red-300 bg-red-50"}`,title:h.maxAllowed?`Max conseill\xE9: ${h.maxAllowed}`:""})}),(0,oe.jsx)("td",{className:"p-2",children:(0,oe.jsx)("input",{type:"number",min:0,step:.1,value:h.cableLengthM,onChange:S=>m(h.branchId,{cableLengthM:parseFloat(S.target.value)||0}),className:"w-24 p-1 text-center border border-slate-200 rounded"})}),(0,oe.jsx)("td",{className:"p-2",children:(0,oe.jsx)("select",{value:h.cableSectionMm2,onChange:S=>m(h.branchId,{cableSectionMm2:parseFloat(S.target.value)||c}),className:"w-24 p-1 border border-slate-200 rounded bg-white",children:nv.map(S=>(0,oe.jsx)("option",{value:S,children:S},S))})}),(0,oe.jsx)("td",{className:"p-2 text-center font-mono",children:h.currentA.toFixed(1)}),(0,oe.jsx)("td",{className:"p-2 text-center font-mono",children:h.dropV.toFixed(1)}),(0,oe.jsx)("td",{className:`p-2 text-center font-black ${h.dropPercent>1?"text-orange-600":"text-green-700"}`,children:h.dropPercent.toFixed(2)}),(0,oe.jsx)("td",{className:"p-2 text-right",children:(0,oe.jsx)("button",{onClick:()=>C(h.branchId),className:"text-red-500 hover:text-red-700 font-black",title:"Supprimer",children:"\u2715"})})]},h.branchId))})]})}),(0,oe.jsx)("div",{className:"mt-2 text-[10px] text-slate-500",children:"Note: calcul de chute de tension simplifi\xE9 (monophas\xE9 230V) \xE0 titre d'aide. Toujours valider avec la notice constructeur et la NFC 15-100."})]})}var d=ae(De(),1),n0="richardson_build_id",lv="/version.json";async function iv(){try{let e=await fetch(lv,{cache:"no-store"});if(!e.ok)return null;let t=await e.json();return typeof t?.buildId=="string"?t.buildId:null}catch{return null}}var i0={};Jd.forEach(e=>{i0[e.name]={id:e.name,description:e.name,unit:"piece",price:e.price||"",width:e.width,height:e.height,power:e.power,electrical:e.electrical,imageUrl:e.imageUrl,datasheetUrl:e.datasheetUrl,manualUrl:e.manualUrl,videoUrl:e.videoUrl}});i0[Rn.name]={id:Rn.name,description:Rn.name,unit:"piece",price:"",width:Rn.width,height:Rn.height,power:Rn.power,electrical:Rn.electrical};var o1={...zi,...Yr,...jr};o1[Hi.id]=Hi;var l0={id:"proj-001",name:"",clientAddress:"",city:"",postalCode:"",altitude:0,windZone:"Zone 1",distanceToPanel:10,distanceInverterToAcCoffret:2,acCableSectionMm2:null,ac1CableSectionMm2:null,system:{brand:"K2",railOrientation:"Horizontal"},inverterConfig:{brand:"None",model:"Auto",phase:"Mono",hasBattery:!1,hasBackup:!1,configuredStrings:[],dcCablingRuns:[],agcpValue:void 0},evCharger:{selected:!1,phase:"Mono",cableRef:void 0},fields:[{id:"f1",name:"Toiture 1",roof:{width:10,height:5,pitch:30,pitchUnit:"deg",type:"Tuile m\xE9canique",margins:{top:300,bottom:300,left:300,right:300}},panels:{model:Jd[2],orientation:"Portrait",rows:2,columns:5},railOrientation:"Horizontal"}],userPrices:{}};function sv(e,t){let a=new Map,n=i=>{let s=t&&t[i.id];return s&&typeof s.description=="string"?s.description.toUpperCase().includes("CABLE"):/^\d{8,}$/.test(i.id)||i.id.startsWith("CABLE-")};for(let i of e){if(!n(i)){let r=`__${Math.random()}`;a.set(r,{...i});continue}let s=a.get(i.id);if(!s){a.set(i.id,{...i,_reasons:new Set([i.description||""])});continue}s.quantity=Math.max(s.quantity||1,i.quantity||1),s._reasons?.add(i.description||""),s.description=Array.from(s._reasons||[]).filter(Boolean).join(" / ")}let l=[];for(let[i,s]of a.entries())if(i.startsWith("__"))l.push(s);else{let r={...s};delete r._reasons,l.push(r)}return l}function ov(){let[e,t]=(0,ye.useState)(Rg),[a,n]=(0,ye.useState)(Dg),[l,i]=(0,ye.useState)(o1),[s,r]=(0,ye.useState)(i0),[c,m]=(0,ye.useState)(Ug),[g,C]=(0,ye.useState)(_g),[v,h]=(0,ye.useState)(null),[S,w]=(0,ye.useState)(!1),[R,f]=(0,ye.useState)(""),[b,N]=(0,ye.useState)(""),[A,T]=(0,ye.useState)(""),[u,M]=(0,ye.useState)(l0),D=!0,[_,P]=(0,ye.useState)(!0),[ne,re]=(0,ye.useState)("idle"),[Ie,Ee]=(0,ye.useState)(""),[Ge,Ye]=(0,ye.useState)(""),[K,j]=(0,ye.useState)(0),[me,Ue]=(0,ye.useState)([]),[ge,k]=(0,ye.useState)("calculator"),[H,te]=(0,ye.useState)(!1),[ce,Re]=(0,ye.useState)(!1),[je,xe]=(0,ye.useState)(!1),[z,se]=(0,ye.useState)(!1),[pe,_e]=(0,ye.useState)(!0);(0,ye.useEffect)(()=>{let x=!1;async function y(){try{if("caches"in window){let G=await caches.keys();await Promise.all(G.map(Y=>caches.delete(Y)))}}catch{}}async function E(){let G=await iv();if(x||!G)return;let Y=localStorage.getItem(n0);if(!Y){localStorage.setItem(n0,G);return}Y!==G&&(console.log("Nouvelle version d\xE9tect\xE9e (). Rafra\xEEchissement..."),localStorage.setItem(n0,G),await y(),window.location.reload())}E();let F=window.setInterval(()=>{document.visibilityState==="visible"&&E()},300*1e3),J=()=>{document.visibilityState==="visible"&&E()};return document.addEventListener("visibilitychange",J),()=>{x=!0,window.clearInterval(F),document.removeEventListener("visibilitychange",J)}},[]),(0,ye.useEffect)(()=>{sessionStorage.getItem("isAdmin")==="true"&&h({uid:"local-admin",email:"admin@richardson.fr"});let y=[Ll("k2",t),Ll("esdec",n),Ll("inverters",i),Ll("panels",r),Ll("boxes",m),Ll("cables",C)];return()=>y.forEach(E=>E())},[]);let Q=u.name.trim()!==""&&u.postalCode.trim().length>=2,ve=(0,ye.useMemo)(()=>u.fields.map(x=>`${x.id}:${Ft(x.panels)}`).join("|"),[u.fields]);(0,ye.useEffect)(()=>{let x=Object.values(l).find(J=>J.id===u.inverterConfig.model)||(u.inverterConfig.brand==="Custom"?l[u.inverterConfig.model||"OND-PERSO"]:null),y=x?.electrical?.isMicro,E=u.inverterConfig.brand==="FoxESS"&&!y,F=u.inverterConfig.brand==="Custom"&&!y;if((E||F)&&u.inverterConfig.model&&u.inverterConfig.model!=="Auto"){let J=[...u.inverterConfig.configuredStrings||[]],G=!1;if(J.length===0){let he=x?.electrical?.mpptCount||2;u.fields.forEach((qe,st)=>{let bt=st%he+1;J.push({id:`str-${Date.now()}-${st}`,fieldId:qe.id,panelCount:Ft(qe.panels),mpptIndex:bt})}),G=!0}let Y=u.fields.map(he=>he.id),le=J.filter(he=>Y.includes(he.fieldId));le.length!==J.length&&(J=le,G=!0),u.fields.forEach(he=>{let qe=Ft(he.panels),st=J.filter(gt=>gt.fieldId===he.id),bt=st.reduce((gt,Gt)=>gt+Gt.panelCount,0);if(bt>qe){let gt=bt-qe;for(let Gt=st.length-1;Gt>=0&&!(gt<=0);Gt--){let dl=st[Gt],fl=J.findIndex(Pa=>Pa.id===dl.id);if(fl>-1){let Pa=Math.min(J[fl].panelCount,gt);J[fl].panelCount-=Pa,gt-=Pa,G=!0}}}else if(st.length===1&&bt<qe){let gt=J.findIndex(Gt=>Gt.id===st[0].id);gt>-1&&(J[gt].panelCount=qe,G=!0)}});let We=J.filter(he=>he.panelCount>0);We.length!==J.length&&(G=!0),G&&M(he=>({...he,inverterConfig:{...he.inverterConfig,configuredStrings:We}}))}},[ve,u.inverterConfig.model,u.inverterConfig.brand,l]);let we=async x=>{x.preventDefault();try{let y=await wg(R,b);h(y),w(!1),T("")}catch(y){T(y.message)}},Ce=async()=>{await Og(),h(null),k("calculator")},Fe=(0,ye.useMemo)(()=>Vl(u.postalCode,u.altitude),[u.postalCode,u.altitude]);async function Te(x,y){let E=new AbortController,F=setTimeout(()=>E.abort(),y);try{let J=await fetch(x,{signal:E.signal,headers:{Accept:"application/json"}});if(!J.ok)throw new Error(`HTTP ${J.status}`);return await J.json()}finally{clearTimeout(F)}}(0,ye.useEffect)(()=>{if(!D||!_)return;let x=(u.clientAddress||"").trim();if(x.length<6){re("idle"),Ee("");return}re("loading"),Ee("Recherche\u2026");let y=window.setTimeout(async()=>{try{let E=`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(x)}&limit=1`,J=(await Te(E,2e3))?.features?.[0],G=J?.properties||{},Y=J?.geometry?.coordinates,le=(G.postcode||"").toString(),We=(G.city||G.citycode||"").toString(),he=(G.label||"").toString();if(!le||le.length<4){re("manual"),Ee("Auto indisponible \u2192 saisie manuelle"),P(!1);return}M(bt=>({...bt,postalCode:le||bt.postalCode,city:We||bt.city})),he&&Ye(he);let qe=Array.isArray(Y)?Y[0]:null,st=Array.isArray(Y)?Y[1]:null;if(typeof st=="number"&&typeof qe=="number")try{let bt=`https://api.opentopodata.org/v1/eudem25m?locations=${st},${qe}`,Gt=(await Te(bt,2e3))?.results?.[0]?.elevation;if(typeof Gt=="number"&&isFinite(Gt)){M(dl=>({...dl,altitude:Math.max(0,Math.round(Gt))})),re("success"),Ee("Adresse trouv\xE9e \u2705");return}re("partial"),Ee("Adresse trouv\xE9e \u2705 (Altitude non r\xE9cup\xE9r\xE9e \u2192 \xE0 saisir)");return}catch{re("partial"),Ee("Adresse trouv\xE9e \u2705 (Altitude non r\xE9cup\xE9r\xE9e \u2192 \xE0 saisir)");return}re("partial"),Ee("Adresse trouv\xE9e \u2705 (Altitude non r\xE9cup\xE9r\xE9e \u2192 \xE0 saisir)")}catch{re("manual"),Ee("Auto indisponible \u2192 saisie manuelle"),P(!1)}},500);return()=>window.clearTimeout(y)},[u.clientAddress,_,D]),(0,ye.useEffect)(()=>{if(u.postalCode.length>=2){let x=Cg(u.postalCode);M(y=>({...y,windZone:x}))}},[u.postalCode]),(0,ye.useEffect)(()=>{let x=pg(u.fields[K].roof.type,u.windZone);M(y=>{let E=[...y.fields];return E[K].roof.margins.top===300&&(E[K].roof.margins=x),{...y,fields:E}})},[u.windZone,u.fields[K].roof.type]);let ue=(0,ye.useMemo)(()=>{let x=l[u.inverterConfig.model],y=u.inverterConfig.brand==="Custom"&&x?.electrical?.isMicro;return u.inverterConfig.brand==="Enphase"||u.inverterConfig.brand==="APSystems"||y||u.inverterConfig.brand==="FoxESS"&&(u.inverterConfig.model?.includes("MICRO")||u.inverterConfig.model==="FOX-S3000-G2")},[u.inverterConfig.brand,u.inverterConfig.model,l]);(0,ye.useEffect)(()=>{ue&&(u.inverterConfig.hasBattery||u.inverterConfig.hasBackup)&&M(x=>({...x,inverterConfig:{...x.inverterConfig,hasBattery:!1,hasBackup:!1,batteryModel:void 0}}))},[ue]),(0,ye.useEffect)(()=>{let x=u.system.brand==="ESDEC"?a:e,y=[],E=u.fields.reduce((G,Y)=>G+Y.panels.model.power*Ft(Y.panels),0);if(u.fields.forEach(G=>{Ft(G.panels)>0&&xg(G,x,u.system,l,g,u.inverterConfig).forEach(le=>{let We=y.find(he=>he.id===le.id);We?We.quantity+=le.quantity:y.push({...le})})}),E>0){let G=hg(E,u.inverterConfig,l);G&&y.push(G);let Y=u.inverterConfig.phase==="Tri",le=[2.5,6,10,16,25],We=Y?E/(400*1.732):E/230,he=Math.ceil(We*1.25),st=tn(u.inverterConfig.agcpValue||0,Y)??On(he,Y),gt=(()=>{let I=!Y&&(st===32||st===40)?10:le[0];return $d({powerVA:Oe,lengthM:u.distanceToPanel,isThreePhase:Y,breakerA:st,minAutoSectionMm2:I})})(),Gt=u.acCableSectionMm2??gt,dl=G?.electrical;if(!!G&&!dl?.isMicro&&u.inverterConfig.brand!=="Enphase"&&u.inverterConfig.brand!=="APSystems"){let I=Oe,X=u.distanceInverterToAcCoffret||0,ee=Y?I/(400*1.732):I/230,ie=Math.ceil(ee*1.25),lt=On(ie,Y),sn=(()=>{let _n=!Y&&lt===40?10:le[0];return $d({powerVA:I,lengthM:X,isThreePhase:Y,breakerA:lt,minAutoSectionMm2:_n})})(),Il=u.ac1CableSectionMm2??sn,on=Xd(I,X,g,Y,Il);on&&(on.description=`${on.description} (AC1: onduleur \u2192 coffret AC)`,y.push(on))}let Pa=Xd(Oe,u.distanceToPanel,g,Y,Gt);Pa&&(Pa.description=`${Pa.description} (AC2: coffret AC \u2192 tableau)`,y.push(Pa));let zl=(I,X,ee,ie,lt)=>{if(!I||ee<=0)return;let Qt=y.find(sn=>sn.id===I);Qt?Qt.quantity+=ee:y.push({id:I,description:X,quantity:ee,price:ie||"",datasheetUrl:lt})},sc=u.inverterConfig.microBranches||[],Ha={};sc.forEach(I=>{let X=Number(I?.microCount||0),ee=Number(I?.cableLengthM||0),ie=Number(I?.cableSectionMm2||0);!Number.isFinite(ee)||ee<=0||!Number.isFinite(ie)||ie<=0||Number.isFinite(X)&&X<=0||(Ha[ie]=(Ha[ie]||0)+ee)});let Un={1.5:{c50:"81010311509205",c100:"81010311509200"},2.5:{c50:"81010312509205",c100:"81010312509200"},6:{c50:"810103100609205"},10:{c50:"810103101009205",c100:"810103101009200"},16:{other:"810103101609207"}},oc=(I,X)=>{let ee=Math.ceil(X),ie=Un[I];return ie?ie.other?{id:ie.other,qty:1,fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (\xE0 chiffrer)`}:ee<=50&&ie.c50?{id:ie.c50,qty:1,fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (C50)`}:ie.c100?{id:ie.c100,qty:Math.max(1,Math.ceil(ee/100)),fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (C100)`}:ie.c50?{id:ie.c50,qty:Math.max(1,Math.ceil(ee/50)),fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (C50)`}:{id:`CABLE-AC-BRANCH-${I}MM-MANUEL`,qty:1,fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (\xE0 chiffrer)`}:{id:`CABLE-AC-BRANCH-${I}MM-MANUEL`,qty:1,fallbackDesc:`C\xE2ble AC branches micro : R2V 3G${I} \u2013 longueur estim\xE9e ${ee} m (\xE0 chiffrer)`}};Object.entries(Ha).forEach(([I,X])=>{let ee=Number(I),ie=Number(X);if(!Number.isFinite(ee)||!Number.isFinite(ie)||ie<=0)return;let lt=oc(ee,ie);if(!lt)return;let Qt=g[lt.id];Qt?zl(Qt.id,`${Qt.description} (branches micro \u2013 total \u2248 ${Math.ceil(ie)} m)`,lt.qty,Qt.price,Qt.datasheetUrl):zl(lt.id,lt.fallbackDesc,lt.qty,"")});let oo=g["820001000608600"]||{id:"820001000608600",description:"CABLE TERRE H07V-K 1X6 VJ C100",price:"A0AV34"};if(y.push({id:oo.id,description:oo.description,quantity:1,price:oo.price,datasheetUrl:oo.datasheetUrl}),u.inverterConfig.hasBattery?y.push({id:"STICKER-BAT",description:"STICKER BATTERIES PV",quantity:1,price:"A3D7G5"}):y.push({id:"STICKER-AUTO",description:"STICKER AUTOCONSO PV",quantity:1,price:"A3D7D2"}),u.inverterConfig.brand==="FoxESS"){let I=g.CAB14124171||{id:"CAB14124171",description:"CABLE LIYCY 2X0.75 C100",unit:"piece",price:"A01NF9"};y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl})}if(u.inverterConfig.brand==="APSystems"){let I=l[350029]||{id:"350029",description:"PASSERELLE COM AVANCEE ECU-C APS",unit:"piece",price:"A046Q2"},X=l[350040]||{id:"350040",description:"TORE MESURE COURANT 80A ECU C APS",unit:"piece",price:"A046R0"};y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl}),y.push({id:X.id,description:X.description,quantity:Y?6:2,price:X.price,datasheetUrl:X.datasheetUrl})}if(u.inverterConfig.brand==="Enphase"){let I=l["ENVOY-S-EM-230"]||{id:"ENVOY-S-EM-230",description:"PASSERELLE ENVOY/S ENPHASE (2CT inclus)",unit:"piece",price:"A04BS2"};if(y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl}),Y){let X=l["CT-100-SPLIT"]||{id:"CT-100-SPLIT",description:"TRANSFORMATEUR COURANT ENPHASE",unit:"piece",price:"A04BT0"};y.push({id:X.id,description:X.description,quantity:4,price:X.price,datasheetUrl:X.datasheetUrl})}}if(u.inverterConfig.brand==="FoxESS"&&u.inverterConfig.model?.includes("MICRO")){let I=l["SMG666.005"]||{id:"SMG666.005",description:"PASSERELLE P/MICRO-ONDULEUR",unit:"piece",price:"A2R4H1"};if(y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl}),Y){let X=l.DTSU666||{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",unit:"piece",price:"A4C248"};y.push({id:X.id,description:X.description,quantity:1,price:X.price,datasheetUrl:X.datasheetUrl})}else{let X=l.DDSU666||{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",unit:"piece",price:"A2R4G3"};y.push({id:X.id,description:X.description,quantity:1,price:X.price,datasheetUrl:X.datasheetUrl})}}if((u.inverterConfig.brand==="FoxESS"&&!u.inverterConfig.model?.includes("MICRO")||u.inverterConfig.brand==="Custom")&&!ue){let I=u.fields[0]?.panels?.model,X=I?.electrical?.isc??0,ee=I?.electrical?.vmp??0,ie=X>0?X*1.25:0,lt=u.inverterConfig.configuredStrings||[],Qt=u.inverterConfig.dcCablingRuns||[],sn={},Il=(sa,va)=>{let Ca=lt.filter(kn=>kn.mpptIndex===sa).reduce((kn,T1)=>kn+(T1.panelCount||0),0),$t=Math.max(1,Ca*ee*.88);return Vi(va,ie,$t)};Qt.forEach(sa=>{let va=Number(sa.lengthM||0);if(!Number.isFinite(va)||va<=0)return;let Ca=sa.sectionMm2??Il(sa.mpptIndex,va);sn[Ca]=(sn[Ca]||0)+va});let on=(sa,va,Ca)=>{let $t=g[sa];$t?y.push({id:$t.id,description:$t.description,quantity:Ca,price:$t.price,datasheetUrl:$t.datasheetUrl}):y.push({id:sa,description:va,quantity:Ca,price:""})};Object.entries(sn).forEach(([sa,va])=>{let Ca=Number(sa),$t=Number(va||0);if(!(!Number.isFinite(Ca)||!Number.isFinite($t)||$t<=0))if(Ca===6){let kn=Math.max(1,Math.ceil($t/100));on("821101000609400",`C\xE2ble solaire DC H1Z2Z2-K 1x6 (rouge) \u2013 ${Math.ceil($t)} m`,kn),on("821101000609200",`C\xE2ble solaire DC H1Z2Z2-K 1x6 (noir) \u2013 ${Math.ceil($t)} m`,kn)}else{let kn=Math.ceil($t);y.push({id:`CABLE-DC-${Ca}MM-MANUEL`,description:`C\xE2ble solaire DC H1Z2Z2-K 1x${Ca} (rouge + noir) \u2013 longueur estim\xE9e ${kn} m par conducteur (\xE0 chiffrer)`,quantity:1,price:""})}});let _n=l["32.0316P0010-UR"]||{id:"32.0316P0010-UR",description:"CONNECTEUR FEM.MC4 EVO2-10 pi\xE8ces",unit:"piece",price:"A0C085"};y.push({id:_n.id,description:_n.description,quantity:1,price:_n.price,datasheetUrl:_n.datasheetUrl});let Xi=l["32.0317P0010-UR"]||{id:"32.0317P0010-UR",description:"CONNECTEUR MALE MC4 EVO2-10 pi\xE8ces",unit:"piece",price:"A0C077"};y.push({id:Xi.id,description:Xi.description,quantity:1,price:Xi.price,datasheetUrl:Xi.datasheetUrl})}if(u.inverterConfig.hasBattery&&u.inverterConfig.batteryModel){let X=Object.values(l).find(ee=>ee.id===u.inverterConfig.batteryModel);X&&y.push({id:X.id,description:X.description,quantity:1,price:X.price,datasheetUrl:X.datasheetUrl})}if(u.evCharger&&u.evCharger.selected){let I=u.evCharger.phase==="Tri"?"A022KS1-E-A":"A7300S1-E-2",X=Object.values(l).find(ee=>ee.id===I);if(X&&y.push({id:X.id,description:X.description,quantity:1,price:X.price,datasheetUrl:X.datasheetUrl}),u.evCharger.cableRef){let ee=Object.values(l).find(ie=>ie.id===u.evCharger.cableRef);ee&&y.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl})}if(u.evCharger.phase==="Mono"){let ee=c["03140"]||{id:"03140",description:"Disjoncteur Diff mono 40A/30mA Type F 10kA",unit:"piece",price:"A4YC28"};if(y.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl}),u.inverterConfig.brand!=="FoxESS"){let ie=Object.values(l).find(lt=>lt.id==="DDSU666")||{id:"DDSU666",description:"COMPTEUR MONO CHINT DDSU666",unit:"piece",price:"A2R4G3"};y.push({id:ie.id,description:ie.description,quantity:1,price:ie.price,datasheetUrl:ie.datasheetUrl})}}else if(u.evCharger.phase==="Tri"){let ee=c["02056"]||{id:"02056",description:"Disjoncteur 4x40 A C6 kA",unit:"piece",price:"A4YSY3"};y.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl});let ie=c["03446"]||{id:"03446",description:"Inter Diff Tri 40A/30mA Type F",unit:"piece",price:"A4YC44"};if(y.push({id:ie.id,description:ie.description,quantity:1,price:ie.price,datasheetUrl:ie.datasheetUrl}),u.inverterConfig.brand!=="FoxESS"){let lt=Object.values(l).find(Qt=>Qt.id==="DTSU666")||{id:"DTSU666",description:"COMPTEUR TRI CHINT DTSU666",unit:"piece",price:"A4C248"};y.push({id:lt.id,description:lt.description,quantity:1,price:lt.price,datasheetUrl:lt.datasheetUrl})}}}let He="",ml="",ji=Object.values(l).find(I=>I.id===u.inverterConfig.model)||(u.inverterConfig.brand==="Custom"?l[u.inverterConfig.model||"OND-PERSO"]:null),pl=0,v0=u.fields.reduce((I,X)=>I+Ft(X.panels),0);if(ji){let I=ji.electrical,X=u.inverterConfig.brand==="Enphase"||u.inverterConfig.brand==="APSystems";if(I?.isMicro||u.inverterConfig.model?.includes("MICRO")||X){let ie=1;u.inverterConfig.brand==="APSystems"&&(ie=2),u.inverterConfig.brand==="FoxESS"&&u.inverterConfig.model?.includes("2000")?ie=4:u.inverterConfig.brand==="FoxESS"&&(ie=2),pl=Math.ceil(v0/ie)*(I?.maxAcPower||0)}else pl=I?.maxAcPower||ji.power||E}else pl=E;let C0=Y?400:230,ja=(Y?pl/(C0*1.732):pl/C0)*1.25,E1=ji?.electrical?.maxAcPower??0,Fl=(ue&&u.inverterConfig.model?Ws({...u,inverterConfig:{...u.inverterConfig,microBranches:Pi(u)}},E1):null)?.branches?.length||0;if(u.inverterConfig.brand==="Enphase")Y?He="13488":Fl>=3?He="13466":Fl===2?He="13464":Fl===1||ja<=20?He="13462":ja<=40?He="13464":He="13466";else if(u.inverterConfig.brand==="APSystems")Y?He="13498":Fl>=3?He="13446":Fl===2?He="13444":Fl===1||pl<=4500?He="13442":pl<=8800?He="13444":He="13446";else if(u.inverterConfig.brand==="FoxESS"||u.inverterConfig.brand==="Custom"){let I=u.inverterConfig.hasBattery,X=u.inverterConfig.hasBackup;if(X?Y?He="12507":ja<=20?He="12554":ja<=32?He="12556":He="12558":I?Y?He="12501":ja<=20?He="12522":ja<=32?He="12526":He="12528":Y?He=ja<=16?"13474":"13476":ja<=20?He="13412":ja<=32?He="13416":ja<=40?He="13418":He="13446",u.inverterConfig.brand==="Custom"||!u.inverterConfig.model?.includes("MICRO")){let ee=ji?.electrical;if(ee&&!ee.isMicro){let ie=ee.mpptCount||2,lt=0;u.inverterConfig.configuredStrings&&u.inverterConfig.configuredStrings.length>0?u.inverterConfig.configuredStrings.forEach(va=>lt=Math.max(lt,va.panelCount)):lt=Math.ceil(v0/ie);let sn=Vl(u.postalCode,u.altitude).tempMin,Il=u.fields[0].panels.model,on=Il.electrical?.voc||40,_n=Il.electrical?.tempCoeffVoc||-.26,sa=on*(1+_n/100*(sn-25))*lt>600;I||X?ie===2?ml=sa?"12273":"12233":ie>=3&&(ml="12283"):ie===2?ml=sa?"12272":"12232":ie>=3&&(ml="12282")}}}if(He&&c[He]){let I=c[He];if(y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl}),u.inverterConfig.brand==="Enphase"){let ee=He==="13462"?1:He==="13464"?2:He==="13466"?3:He==="13488"?1:0;if(ee>0){let ie=He==="13488"?zi.Q_RELAY_TRI_INT:zi.Q_RELAY_MONO_FR;y.push({id:ie.id,description:ie.description,quantity:ee,price:ie.price})}}}if(ml&&c[ml]){let I=c[ml];y.push({id:I.id,description:I.description,quantity:1,price:I.price,datasheetUrl:I.datasheetUrl})}if(u.inverterConfig.agcpValue&&u.inverterConfig.agcpValue>0){let I=u.inverterConfig.agcpValue,X="";Y?I<=20||I<=25?X="02048":I<=30?X="02050":I<=40?X="02052":I<=50?X="02054":X="02056":I<=30?X="02018":I<=45?X="02020":X="02024";let ee=c[X];ee&&y.push({id:ee.id,description:ee.description,quantity:1,price:ee.price,datasheetUrl:ee.datasheetUrl})}}let F=y.map(G=>({...G,price:u.userPrices?.[G.id]!==void 0?u.userPrices[G.id]:G.price})),J=sv(F,g);Ue(J)},[u,e,a,l,c,g]);let Pe=u.fields.reduce((x,y)=>x+y.panels.model.power*Ft(y.panels),0),Ne=u.inverterConfig.phase==="Tri",Ke=(0,ye.useMemo)(()=>qr({phase:Ne?"Tri":"Mono",projectPowerKwc:Pe/1e3,agcpA:u.inverterConfig.agcpValue}),[Ne,Pe,u.inverterConfig.agcpValue]),V=Object.values(l).find(x=>x.id===u.inverterConfig.model)||(u.inverterConfig.brand==="Custom"?l[u.inverterConfig.model||"OND-PERSO"]:null),q=V?.electrical,$=!!V&&!q?.isMicro&&u.inverterConfig.brand!=="Enphase"&&u.inverterConfig.brand!=="APSystems",Oe=$&&(q?.maxAcPower||V?.power)||Pe,be=Ne?Pe/(400*1.732):Pe/230,xt=Math.ceil(be*1.25),Ut=x=>!x||x<=0?null:Ne?x<=25?16:x<=30?20:x<=40?25:x<=50?32:40:x<=30?32:x<=45?40:63,Va=x=>{let y=Ne?[16,20,25,32,40]:[16,20,32,40,63];return y.find(E=>E>=x)??y[y.length-1]},Zt=Ut(u.inverterConfig.agcpValue??void 0)??Va(xt),Kt=[2.5,6,10,16,25],ul=(()=>{let x=!Ne&&(Zt===32||Zt===40)?10:Kt[0];for(let E of Kt){if(E<x)continue;let F=wn(Pe,u.distanceToPanel,E,Ne),J=Ua(E,Zt);if(F<=1&&J==="ok")return E}let y=x;for(let E of Kt){if(E<x)continue;y=E;let F=wn(Pe,u.distanceToPanel,E,Ne),J=Ua(E,Zt);if(F<=1&&J!=="danger")break}return y})(),ac=u.acCableSectionMm2??ul,Pl=(u.distanceInverterToAcCoffret??0)||0,nc=Ne?Oe/(400*1.732):Oe/230,lc=Math.ceil(nc*1.25),Qe=On(lc,Ne),La=(()=>{for(let y of Kt){let E=wn(Oe,Pl,y,Ne),F=Ua(y,Qe);if(E<=1&&F==="ok")return y}let x=Kt[0];for(let y of Kt){x=y;let E=wn(Oe,Pl,y,Ne),F=Ua(y,Qe);if(E<=1&&F!=="danger")break}return x})(),xa=u.ac1CableSectionMm2??La,ln=wn(Oe,Pl,xa,Ne),b1=wn(Oe,Pl,La,Ne),o0=Ua(xa,Qe),Hl=$?Math.max(ul,xa):ul,Ga=$&&u.acCableSectionMm2==null?Math.max(Hl,xa):ac,g1=$&&Ga<xa,Ya=wn(Pe,u.distanceToPanel,Ga,Ne),h1=wn(Pe,u.distanceToPanel,Hl,Ne),ic=Ua(Ga,Zt),r0=ic==="danger",dv=Ga>Hl,pt=u.fields[K]||u.fields[0],io=Object.values(l).find(x=>x.id===u.inverterConfig.model)||(u.inverterConfig.brand==="Custom"?l[u.inverterConfig.model||"OND-PERSO"]:null),Dn=io?.electrical,c0=(0,ye.useMemo)(()=>{let x=Dn?.maxAcPower||0;return Ws({...u,inverterConfig:{...u.inverterConfig,microBranches:Pi(u)}},x)},[u,Dn]),u0=[2.5,6,10,16],d0=(0,ye.useMemo)(()=>u.inverterConfig.brand==="None"||u.inverterConfig.model==="Auto"?2:Dn?.isMicro?1:Dn?.mpptCount||2,[Dn,u.inverterConfig.brand,u.inverterConfig.model]),so=(0,ye.useMemo)(()=>{let y=u.fields.map(F=>Ft(F.panels)).reduce((F,J)=>F+J,0);if(y===0)return null;let E=io;if(!E&&u.inverterConfig.model==="Auto"){let F=u.inverterConfig.brand==="FoxESS"?"FOX":u.inverterConfig.brand==="Enphase"?"ENP":"APS",J=Object.values(l).filter(Y=>Y.id.startsWith(F)&&!Y.id.includes("MICRO")&&!Y.id.includes("ECS")&&!Y.id.includes("EP")&&!Y.id.includes("EQ")),G=Pe*.8;J.sort((Y,le)=>(Y.power||0)-(le.power||0)),E=J.find(Y=>(Y.power||0)>=G)||J[J.length-1]}if(E){if(u.inverterConfig.brand==="FoxESS"&&!u.inverterConfig.model?.includes("MICRO")||u.inverterConfig.brand==="Custom"){let G=(u.inverterConfig.configuredStrings||[]).reduce((Y,le)=>Y+le.panelCount,0);if(G!==y)return{isCompatible:!1,warnings:[],errors:[`R\xE9partition Incorrecte : ${G} panneaux assign\xE9s sur ${y} disponibles.`],details:null}}let J=u.inverterConfig.stringsCount||1;return Ag(pt.panels.model,E,Fe,Math.ceil(y/J),y,J,0,u.inverterConfig.configuredStrings,u.fields,u.inverterConfig.phase,u.inverterConfig.dcCablingRuns||[])}return null},[u.fields,u.inverterConfig.configuredStrings,u.inverterConfig.stringsCount,u.inverterConfig.model,u.inverterConfig.phase,K,Pe,Fe,io,l]),x1=(0,ye.useMemo)(()=>{let x=so?.details?.stringsAnalysis||[];if(!x.length)return{rows:[],worst:0};let y=.023,E=u.inverterConfig.dcCablingRuns||[],F=x.map(G=>{let Y=Number(G.mpptIndex||1),le=E.find(Ha=>Number(Ha.mpptIndex)===Y)||{mpptIndex:Y,lengthM:0,sectionMm2:null},We=Number(le.lengthM||0),he=le.sectionMm2==null?null:Number(le.sectionMm2),qe=Number(G.vmpHot||0),st=Number(G.iscCalculation||0),bt=Ha=>{let Un=2*We*st*y/(Ha||1),oc=qe>0?Un/qe*100:0;return{du:Un,dup:oc}},gt=6;if(We>0&&st>0&&qe>0)for(let Ha of u0.filter(Un=>Un>=6)){let{dup:Un}=bt(Ha);if(Un<=3){gt=Ha;break}gt=Ha}let{du:Gt,dup:dl}=bt(gt),fl=he??gt,{du:Pa,dup:zl}=bt(fl),sc=zl>3?"danger":zl>1?"warn":"ok";return{mpptIndex:Y,L:We,V:qe,I:st,autoS:gt,autoDu:Gt,autoDup:dl,forcedS:he,effectiveS:fl,du:Pa,dup:zl,status:sc}}),J=F.length?Math.max(...F.map(G=>Number(G.dup||0))):0;return{rows:F,worst:J}},[so,u.inverterConfig.dcCablingRuns]),ia=x=>{M(y=>{let E={...y.inverterConfig,...x},F=typeof x.brand<"u"&&x.brand!==y.inverterConfig.brand,J=typeof x.model<"u"&&x.model!==y.inverterConfig.model;(F||J)&&(E.configuredStrings=[],E.stringsCount=1,E.microBranches=[],E.dcCablingRuns=[]),x.brand==="Custom"&&!E.model&&(E.model=Hi.id),x.hasBackup&&!y.inverterConfig.hasBattery&&(E.hasBattery=!0),x.hasBattery===!1&&(E.batteryModel=void 0);let G={...y.evCharger};return x.phase&&x.phase==="Mono"&&y.evCharger.phase==="Tri"&&(G.phase="Mono",G.cableRef&&(G.cableRef="15254")),{...y,inverterConfig:E,evCharger:G}})},v1=x=>{let E={id:`str-${Date.now()}`,fieldId:u.fields[0].id,panelCount:1,mpptIndex:x};ia({configuredStrings:[...u.inverterConfig.configuredStrings||[],E]})},f0=(x,y)=>{let E=(u.inverterConfig.configuredStrings||[]).map(F=>F.id===x?{...F,...y}:F);ia({configuredStrings:E})},C1=x=>{let y=(u.inverterConfig.configuredStrings||[]).filter(E=>E.id!==x);ia({configuredStrings:y})},N1=(0,ye.useMemo)(()=>{let x=Object.values(l),y=["FOX-EP5","FOX-EP6","FOX-EP11","FOX-EP12","FOX-EQ-CM6000","FOX-EQ-CS6000"];return x.filter(E=>y.includes(E.id)).sort((E,F)=>E.description.localeCompare(F.description))},[l]),y1=x=>{let y={...u.userPrices};x.forEach(E=>{y[E.id]=E.price||""}),M(E=>({...E,userPrices:y})),Ue(x)},S1=pt.panels.model.name===Rn.name,m0=u.inverterConfig.brand==="Custom",fv=!!u.evCharger.cableRef,p0=u.fields.reduce((x,y)=>x+Ft(y.panels),0),b0=(u.inverterConfig.configuredStrings||[]).reduce((x,y)=>x+y.panelCount,0),g0=p0===b0,h0=!!pt.panels.rowConfiguration&&pt.panels.rowConfiguration.length>0,x0=pt.railOrientation||u.system.railOrientation||"Horizontal";if(ge==="admin")return(0,d.jsx)(Jg,{k2:e,esdec:a,inverters:l,panels:s,boxes:c,cables:g,onUpdateK2:t,onUpdateEsdec:n,onUpdateInverters:i,onUpdatePanels:r,onUpdateBoxes:m,onUpdateCables:C,onExit:()=>k("calculator")});let A1=u.inverterConfig.phase==="Tri"?[20,25,30,40,50,60]:[30,45,60],M1=()=>{if(!window.confirm(`R\xE9initialiser le projet ?

Toutes les valeurs seront remises \xE0 z\xE9ro (nouveau projet).`))return;let y=typeof structuredClone=="function"?structuredClone(l0):JSON.parse(JSON.stringify(l0));M(y),j(0),Ue([]),_e(!0),k("calculator"),te(!1),Re(!1),xe(!1),se(!1),w(!1),P(!0),re("idle"),Ee(""),Ye("")};return(0,d.jsxs)("div",{className:"min-h-screen bg-slate-100 font-sans text-slate-900",children:[(0,d.jsx)("header",{className:"bg-indigo-900 text-white p-4 shadow-lg sticky top-0 z-50",children:(0,d.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,d.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-orange-500 text-3xl",children:"\u25A0"})," Richardson Solaire ",(0,d.jsx)("span",{className:"text-xs bg-green-500 px-2 py-1 rounded-full",children:"v3.0"})]}),!pe&&(0,d.jsxs)("div",{className:"hidden md:flex items-center gap-6 bg-indigo-800/50 px-4 py-1.5 rounded-full border border-indigo-700 animate-scale-in",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("span",{className:"text-[8px] text-indigo-300 font-bold uppercase",children:"Client"}),(0,d.jsx)("span",{className:"text-xs font-black truncate max-w-[150px]",children:u.name})]}),(0,d.jsxs)("div",{className:"flex flex-col border-l border-indigo-700 pl-4",children:[(0,d.jsx)("span",{className:"text-[8px] text-indigo-300 font-bold uppercase",children:"Localisation"}),(0,d.jsxs)("span",{className:"text-xs font-black",children:[u.postalCode," \u2022 ",u.city||"CP saisi"]})]}),(0,d.jsx)("button",{onClick:()=>_e(!0),className:"p-1.5 hover:bg-orange-500 rounded-full transition-colors ml-2",title:"Modifier le projet",children:(0,d.jsx)(Pg,{className:"w-5 h-5"})})]}),(0,d.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,d.jsxs)("button",{onClick:M1,className:"flex items-center gap-2 bg-white/10 hover:bg-red-600/90 px-3 py-2 rounded-lg font-black text-xs shadow-md transition-all active:scale-95",title:"R\xE9initialiser le projet",children:[(0,d.jsx)(Kr,{className:"w-4 h-4"}),"Reset"]}),v?(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs text-green-300 font-bold uppercase tracking-wider",children:"Admin Richardson"}),(0,d.jsx)("button",{onClick:()=>k("admin"),className:"p-2 bg-indigo-800 rounded-lg hover:bg-orange-500 transition-colors shadow-inner",title:"G\xE9rer la base de donn\xE9es",children:(0,d.jsx)($r,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:Ce,className:"text-xs text-indigo-300 hover:text-white px-3 py-1 border border-indigo-700 rounded-md",children:"D\xE9connexion"})]}):(0,d.jsx)("button",{onClick:()=>w(!0),className:"text-xs bg-indigo-800 px-4 py-2 rounded-lg hover:bg-indigo-700 font-bold shadow-md transition-all active:scale-95",children:"Admin Login"})]})]})}),S&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center backdrop-blur-sm p-4",children:(0,d.jsxs)("form",{onSubmit:we,className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-sm animate-scale-in",children:[(0,d.jsx)("h2",{className:"text-2xl font-black mb-2 text-slate-800 text-center",children:"Connexion"}),A&&(0,d.jsx)("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-xs font-bold mb-4 border border-red-100 shake",children:A}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("input",{type:"email",value:R,onChange:x=>f(x.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Email",required:!0}),(0,d.jsx)("input",{type:"password",value:b,onChange:x=>N(x.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Mot de passe",required:!0})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-3 mt-8",children:[(0,d.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-2.5 text-slate-500 font-bold hover:bg-slate-100 rounded-lg transition-colors",children:"Fermer"}),(0,d.jsx)("button",{type:"submit",className:"px-8 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-black shadow-lg shadow-blue-200 transition-all active:scale-95",children:"Valider"})]})]})}),(0,d.jsxs)("main",{className:"container mx-auto p-4 relative",children:[pe&&(0,d.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-100/95 backdrop-blur-sm p-4 animate-scale-in",children:(0,d.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border-t-8 border-blue-600 max-w-2xl w-full",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center shadow-inner",children:(0,d.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-2xl font-black text-slate-800",children:"Initialisation du Projet"}),(0,d.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Saisissez les informations clients pour d\xE9bloquer les calculs normatifs."})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Nom du client / Projet"}),(0,d.jsx)("input",{type:"text",value:u.name,onChange:x=>M(y=>({...y,name:x.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ex: M. Jean DUPONT"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Adresse"}),(0,d.jsx)("input",{type:"text",value:u.clientAddress,onChange:x=>M(y=>({...y,clientAddress:x.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ex: 12 bis rue des Fleurs"}),D&&(0,d.jsxs)("div",{className:"mt-2 flex items-center justify-between gap-3",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[(0,d.jsx)("input",{type:"checkbox",checked:_,onChange:x=>{let y=x.target.checked;P(y),re(y?"idle":"manual"),Ee(y?"":"Saisie manuelle")}}),"Auto (recommand\xE9)"]}),(0,d.jsx)("div",{className:`text-xs font-black ${ne==="success"?"text-emerald-600":ne==="loading"?"text-slate-500":ne==="partial"||ne==="manual"?"text-orange-600":ne==="error"?"text-red-600":"text-slate-500"}`,children:Ie||""})]})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,d.jsxs)("div",{className:"col-span-2",children:[(0,d.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Ville"}),(0,d.jsx)("input",{type:"text",value:u.city,onChange:x=>M(y=>({...y,city:x.target.value})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"Ville"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"CP"}),(0,d.jsx)("input",{type:"text",value:u.postalCode,onChange:x=>M(y=>({...y,postalCode:x.target.value})),className:"w-full p-3 border rounded-xl text-sm font-black text-center focus:ring-4 focus:ring-blue-100 outline-none border-slate-200",placeholder:"83000"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-1",children:"Altitude (m)"}),(0,d.jsx)("input",{type:"number",value:u.altitude,onChange:x=>M(y=>({...y,altitude:parseInt(x.target.value)||0})),className:"w-full p-3 border rounded-xl text-sm focus:ring-4 focus:ring-blue-100 outline-none font-bold border-slate-200",placeholder:"0"}),(0,d.jsxs)("div",{className:"mt-3 p-3 rounded-xl border border-slate-200 bg-slate-50",children:[(0,d.jsx)("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Temp\xE9rature retenue"}),(0,d.jsxs)("div",{className:"mt-1 text-2xl font-black text-slate-800",children:[Fe?.tempMin??"--","\xB0C"]}),(0,d.jsxs)("div",{className:"mt-1 text-xs font-bold text-slate-600",children:["Base mer : ",Fe?.baseTempSeaLevel??Fe?.label?.match(/Base (-?\d+)C/)?.[1]??"--","\xB0C",typeof Fe?.altitudePenalty=="number"?(0,d.jsxs)(d.Fragment,{children:[" \u2022 Correction altitude : -",Fe.altitudePenalty,"\xB0C"]}):null]})]})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,d.jsx)("button",{onClick:()=>Q&&_e(!1),disabled:!Q,className:`w-full py-4 rounded-2xl font-black text-lg shadow-xl transition-all active:scale-95 ${Q?"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200":"bg-slate-200 text-slate-400 cursor-not-allowed shadow-none"}`,children:Q?"Lancer la configuration technique":"Saisissez au moins le nom et le CP"}),(0,d.jsx)("button",{onClick:()=>te(!0),className:"text-blue-600 font-bold text-xs hover:underline uppercase tracking-widest",children:"Consulter la carte des temp\xE9ratures basses"})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,d.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-indigo-500 animate-scale-in",children:[(0,d.jsx)("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs mb-3",children:"Structure"}),(0,d.jsxs)("div",{className:"flex gap-1 mb-3",children:[(0,d.jsx)("button",{onClick:()=>M(x=>({...x,system:{...x.system,brand:"K2"}})),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.system.brand==="K2"?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"K2 Systems"}),(0,d.jsx)("button",{onClick:()=>M(x=>({...x,system:{...x.system,brand:"ESDEC"}})),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.system.brand==="ESDEC"?"bg-indigo-100 border-indigo-500 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"ESDEC"})]}),(0,d.jsx)("label",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Orientation des rails (Toiture Active)"}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields];return y[K].railOrientation="Horizontal",{...x,fields:y}}),className:`flex-1 py-1.5 text-[9px] font-black uppercase rounded-lg border transition-all ${x0==="Horizontal"?"bg-slate-800 text-white border-slate-900 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Horizontal"}),(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields];return y[K].railOrientation="Vertical",{...x,fields:y}}),className:`flex-1 py-1.5 text-[9px] font-black uppercase rounded-lg border transition-all ${x0==="Vertical"?"bg-slate-800 text-white border-slate-900 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Vertical"})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-orange-400",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"Toiture"}),(0,d.jsx)("button",{onClick:()=>{M(x=>({...x,fields:[...x.fields,{id:`f${Date.now()}`,name:`Toit ${x.fields.length+1}`,roof:{...x.fields[0].roof},panels:{...x.fields[0].panels}}]})),j(u.fields.length)},className:"text-[10px] bg-orange-500 text-white px-2 py-1 rounded font-black shadow-sm",children:"+ ADD"})]}),(0,d.jsx)("div",{className:"flex gap-1 overflow-x-auto mb-3",children:u.fields.map((x,y)=>(0,d.jsxs)("button",{onClick:()=>j(y),className:`px-2 py-1 text-[10px] rounded-t font-black uppercase transition-all ${K===y?"bg-orange-5 text-orange-600 border-b-2 border-orange-500":"text-slate-400"}`,children:[x.name," ",y>0&&(0,d.jsx)("span",{onClick:E=>{E.stopPropagation(),M(F=>({...F,fields:F.fields.filter((J,G)=>G!==y)})),j(0)},className:"ml-1 text-red-400",children:"\xD7"})]},x.id))}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Largeur (m)"}),(0,d.jsx)("input",{type:"number",value:pt.roof.width,onChange:x=>{let y=parseFloat(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.width=y,{...E,fields:F}})},className:"w-full border p-2 rounded-lg text-sm text-center font-black focus:ring-2 focus:ring-orange-200 outline-none"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("label",{className:"text-[9px] font-bold text-slate-400 uppercase block mb-1",children:"Hauteur (m)"}),(0,d.jsx)("input",{type:"number",value:pt.roof.height,onChange:x=>{let y=parseFloat(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.height=y,{...E,fields:F}})},className:"w-full border p-2 rounded-lg text-sm text-center font-black focus:ring-2 focus:ring-orange-200 outline-none"})]})]}),(0,d.jsx)("select",{value:pt.roof.type,onChange:x=>{let y=x.target.value;M(E=>{let F=[...E.fields];return F[K].roof.type=y,{...E,fields:F}})},className:"w-full p-2 border rounded-lg text-xs bg-slate-50 font-bold",children:Object.values(Ks).map(x=>(0,d.jsx)("option",{value:x,children:x},x))}),(0,d.jsxs)("div",{className:"bg-orange-50/50 rounded-lg border border-orange-100 overflow-hidden",children:[(0,d.jsxs)("button",{onClick:()=>Re(!ce),className:"w-full flex justify-between items-center p-3 hover:bg-orange-100/50 transition-all group",children:[(0,d.jsx)("span",{className:"text-[9px] font-black text-orange-600 uppercase tracking-widest",children:"Marges de s\xE9curit\xE9 (mm)"}),(0,d.jsx)("svg",{className:`w-3 h-3 text-orange-400 transition-transform duration-300 ${ce?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M19 9l-7 7-7-7"})})]}),ce&&(0,d.jsxs)("div",{className:"p-3 pt-0 grid grid-cols-2 gap-x-4 gap-y-2 animate-scale-in",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Haut"}),(0,d.jsx)("input",{type:"number",value:pt.roof.margins.top,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.margins.top=y,{...E,fields:F}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Bas"}),(0,d.jsx)("input",{type:"number",value:pt.roof.margins.bottom,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.margins.bottom=y,{...E,fields:F}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Gauche"}),(0,d.jsx)("input",{type:"number",value:pt.roof.margins.left,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.margins.left=y,{...E,fields:F}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-0.5",children:"Droite"}),(0,d.jsx)("input",{type:"number",value:pt.roof.margins.right,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].roof.margins.right=y,{...E,fields:F}})},className:"w-full border-none bg-white p-1 text-center text-xs font-bold rounded shadow-sm focus:ring-1 focus:ring-orange-200 outline-none"})]})]})]})]})]}),(0,d.jsxs)("div",{className:"ml-4 border-l-4 border-slate-300 pl-4 bg-white p-4 rounded-r-xl shadow-md border-t border-r border-b border-slate-200 -mt-2",children:[(0,d.jsxs)("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-[10px] mb-2",children:["Modules de ",pt.name]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,d.jsx)("select",{value:pt.panels.model.name,onChange:x=>{let y=s[x.target.value];if(y){let E={name:y.id,width:y.width,height:y.height,power:y.power,price:y.price||"",electrical:y.electrical,imageUrl:y.imageUrl,datasheetUrl:y.datasheetUrl,manualUrl:y.manualUrl,videoUrl:y.videoUrl};M(F=>{let J=[...F.fields];return J[K].panels.model=E,{...F,fields:J}})}},className:"w-full p-2 border rounded-lg text-xs font-bold focus:ring-2 focus:ring-blue-200 outline-none",children:Object.values(s).sort((x,y)=>x.id==="Panneau Personnalis\xE9"?1:y.id==="Panneau Personnalis\xE9"?-1:(x.description||"").localeCompare(y.description||"")).map(x=>(0,d.jsx)("option",{value:x.id,children:x.description},x.id))}),S1&&(0,d.jsx)("button",{onClick:()=>xe(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-blue-700 shadow-sm transition-all",title:"Configurer le panneau",children:(0,d.jsx)($r,{className:"w-4 h-4"})})]}),(0,d.jsx)("label",{className:"block text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Pose"}),(0,d.jsxs)("div",{className:"flex gap-1 mb-3",children:[(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields];return y[K].panels.orientation="Portrait",{...x,fields:y}}),className:`flex-1 py-1 text-[8px] font-black uppercase rounded border transition-all ${pt.panels.orientation==="Portrait"?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"Portrait"}),(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields];return y[K].panels.orientation="Paysage",{...x,fields:y}}),className:`flex-1 py-1 text-[8px] font-black uppercase rounded border transition-all ${pt.panels.orientation==="Paysage"?"bg-indigo-50 border-indigo-300 text-indigo-700":"bg-white text-slate-400 border-slate-200"}`,children:"Paysage"})]}),(0,d.jsx)("div",{className:"flex items-center gap-2 mb-3 bg-slate-50 p-1.5 rounded border border-slate-200",children:(0,d.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:h0,onChange:x=>M(y=>{let E=[...y.fields];return x.target.checked?E[K].panels.rowConfiguration=Array(E[K].panels.rows).fill(E[K].panels.columns):E[K].panels.rowConfiguration=void 0,{...y,fields:E}}),className:"sr-only peer"}),(0,d.jsx)("div",{className:"w-6 h-3 bg-slate-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-2.5 after:w-2.5 after:transition-all peer-checked:bg-blue-600"}),(0,d.jsx)("span",{className:"ml-2 text-[8px] font-black text-slate-600 uppercase",children:"Forme Libre"})]})}),h0?(0,d.jsxs)("div",{className:"space-y-1.5 animate-scale-in max-h-48 overflow-y-auto pr-1",children:[pt.panels.rowConfiguration?.map((x,y)=>(0,d.jsxs)("div",{className:"flex justify-between items-center bg-slate-50 p-1 rounded",children:[(0,d.jsxs)("span",{className:"text-[9px] font-black text-slate-400 uppercase",children:["L",y+1]}),(0,d.jsx)("input",{type:"number",value:x,min:"0",onChange:E=>{let F=Math.max(0,parseInt(E.target.value)||0);M(J=>{let G=[...J.fields],Y=[...G[K].panels.rowConfiguration||[]];return Y[y]=F,G[K].panels.rowConfiguration=Y,G[K].panels.columns=Math.max(...Y),{...J,fields:G}})},className:"w-12 p-0.5 border rounded text-center text-xs font-bold focus:ring-1 focus:ring-blue-300 outline-none"})]},y)),(0,d.jsxs)("div",{className:"pt-2 border-t border-slate-100 flex justify-center gap-1",children:[(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields],E=y[K].panels.rowConfiguration||[],F=E.length>0?E[E.length-1]:1;return y[K].panels.rowConfiguration=[...E,F],y[K].panels.rows=y[K].panels.rowConfiguration.length,{...x,fields:y}}),className:"text-[8px] bg-slate-100 hover:bg-slate-200 px-1.5 py-0.5 rounded border border-slate-300 font-bold",children:"+ Ligne"}),(0,d.jsx)("button",{onClick:()=>M(x=>{let y=[...x.fields],E=y[K].panels.rowConfiguration||[];return E.length>1&&(y[K].panels.rowConfiguration=E.slice(0,-1),y[K].panels.rows=y[K].panels.rowConfiguration.length),{...x,fields:y}}),className:"text-[8px] bg-red-50 hover:bg-red-100 text-red-600 px-1.5 py-0.5 rounded border border-red-200 font-bold",children:"- Ligne"})]})]}):(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-1",children:"Lignes"}),(0,d.jsx)("input",{type:"number",value:pt.panels.rows,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].panels.rows=y,{...E,fields:F}})},className:"w-full border p-1 rounded text-center font-black text-blue-600 text-xs focus:ring-1 focus:ring-blue-100 outline-none"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("label",{className:"text-[8px] font-bold text-slate-400 uppercase block mb-1",children:"Colonnes"}),(0,d.jsx)("input",{type:"number",value:pt.panels.columns,onChange:x=>{let y=parseInt(x.target.value);M(E=>{let F=[...E.fields];return F[K].panels.columns=y,{...E,fields:F}})},className:"w-full border p-1 rounded text-center font-black text-blue-600 text-xs focus:ring-1 focus:ring-blue-100 outline-none"})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-purple-500",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"\xC9lectrique"}),(0,d.jsxs)("div",{className:"flex gap-1.5 items-center",children:[Dn?.mpptCount&&(0,d.jsxs)("div",{className:"bg-slate-800 text-white px-2 py-0.5 rounded text-[10px] font-black",children:[Dn.mpptCount," MPPT"]}),(0,d.jsxs)("div",{className:"bg-purple-600 text-white px-2 py-0.5 rounded text-[10px] font-black",children:[(Pe/1e3).toFixed(2)," kWc"]})]})]}),(0,d.jsxs)("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100 mb-4 flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:`flex items-center gap-3 cursor-pointer group ${ue||u.inverterConfig.hasBackup?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsx)("input",{type:"checkbox",checked:u.inverterConfig.hasBattery,disabled:ue||u.inverterConfig.hasBackup,onChange:x=>ia({hasBattery:x.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-purple-600 disabled:cursor-not-allowed"}),(0,d.jsx)("span",{className:"text-xs font-bold text-slate-700",children:"Batterie"})]}),(0,d.jsxs)("label",{className:`flex items-center gap-3 cursor-pointer mt-2 group ${ue?"opacity-50 cursor-not-allowed":""}`,children:[(0,d.jsx)("input",{type:"checkbox",checked:u.inverterConfig.hasBackup,disabled:ue,onChange:x=>ia({hasBackup:x.target.checked}),className:"w-4 h-4 rounded border-slate-300 text-purple-600 disabled:cursor-not-allowed"}),(0,d.jsx)("span",{className:"text-xs font-bold text-slate-700",children:"Backup"})]})]}),(0,d.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,d.jsx)(to,{content:"Puissance du disjoncteur d'abonn\xE9 (AGCP) pour d\xE9terminer la protection AC",position:"left",children:(0,d.jsxs)("label",{className:"text-[9px] font-black text-slate-400 uppercase cursor-help flex items-center gap-1",children:["Calibrage AGCP",(0,d.jsx)("span",{className:"bg-slate-200 text-slate-500 rounded-full w-3 h-3 flex items-center justify-center text-[8px]",children:"?"})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-2 bg-white p-1 rounded border border-slate-200 shadow-sm",children:[(0,d.jsxs)("select",{value:u.inverterConfig.agcpValue||"",onChange:x=>ia({agcpValue:x.target.value?parseInt(x.target.value):void 0}),className:"h-7 text-sm font-black text-center text-purple-700 outline-none bg-transparent cursor-pointer",style:{textAlignLast:"center"},children:[(0,d.jsx)("option",{value:"",children:"--"}),A1.map(x=>(0,d.jsx)("option",{value:x,children:x},x))]}),(0,d.jsx)("span",{className:"text-[10px] font-bold text-slate-400 pr-1",children:"A"})]}),(0,d.jsx)("div",{className:"mt-1 text-right text-[10px] leading-tight",children:Ke.subscribedKva==null?(0,d.jsx)("span",{className:"text-slate-400 font-bold",children:"Renseigner l'AGCP pour estimer l'abonnement client"}):(0,d.jsxs)("div",{className:"space-y-0.5",children:[(0,d.jsxs)("div",{className:"font-black text-slate-600",children:["Abonnement estim\xE9 : ",(0,d.jsxs)("span",{className:"text-purple-700",children:[Ke.subscribedKva," kVA"]})]}),Ke.recommendedKva?(0,d.jsx)("div",{className:`${Ke.isOk?"text-green-700":"text-red-700"} font-bold`,children:Ke.isOk?"\u2714 Abonnement compatible":`\u2716 \xC0 faire \xE9voluer (mini conseill\xE9 : ${Ke.recommendedKva} kVA)`}):(0,d.jsx)("div",{className:"text-orange-700 font-bold",children:"V\xE9rification indisponible (puissance projet non d\xE9finie)"}),Ke.isOverMaxForPhase&&(0,d.jsxs)("div",{className:"text-orange-700 font-bold",children:["D\xE9passe la limite ",Ke.phase==="Mono"?"12 kVA en mono":"36 kVA en tri"," (sous r\xE9serve compatibilit\xE9 site)"]})]})})]})]}),u.inverterConfig.hasBattery&&(0,d.jsx)("div",{className:"mb-4 animate-scale-in",children:(0,d.jsxs)("select",{value:u.inverterConfig.batteryModel||"",onChange:x=>ia({batteryModel:x.target.value}),className:"w-full p-2 border rounded-lg text-xs font-black bg-blue-50 border-blue-200 text-blue-700",children:[(0,d.jsx)("option",{value:"",children:"-- Choisir Batterie --"}),N1.map(x=>(0,d.jsx)("option",{value:x.id,children:x.description},x.id))]})}),(0,d.jsxs)("div",{className:"flex gap-1 mb-3",children:[(0,d.jsx)("button",{onClick:()=>ia({phase:"Mono",model:""}),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.inverterConfig.phase==="Mono"?"bg-purple-100 border-purple-500 text-purple-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Mono"}),(0,d.jsx)("button",{onClick:()=>ia({phase:"Tri",model:""}),className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.inverterConfig.phase==="Tri"?"bg-purple-100 border-purple-500 text-purple-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"Tri"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsxs)("select",{value:u.inverterConfig.brand,onChange:x=>{ia({brand:x.target.value,model:""})},className:"w-full p-2 border rounded-lg text-xs font-black focus:ring-2 focus:ring-purple-200 outline-none",children:[(0,d.jsx)("option",{value:"None",children:"Aucun Onduleur"}),(0,d.jsx)("option",{value:"Enphase",children:"Enphase (Micro)"}),(0,d.jsx)("option",{value:"APSystems",children:"APSystems (Micro)"}),(0,d.jsx)("option",{value:"FoxESS",children:"FoxESS (central/hyb/micro)"}),(0,d.jsx)("option",{value:"Custom",children:"Onduleur Personnalis\xE9"})]}),m0&&(0,d.jsx)("button",{onClick:()=>se(!0),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-bold hover:bg-blue-700 shadow-sm transition-all shrink-0",children:(0,d.jsx)($r,{className:"w-4 h-4"})})]}),u.inverterConfig.brand!=="None"&&u.inverterConfig.brand!=="Custom"&&(0,d.jsx)("div",{className:"space-y-3",children:(0,d.jsxs)("select",{value:u.inverterConfig.model,onChange:x=>{ia({model:x.target.value})},className:"w-full p-2 border rounded-lg text-xs font-bold focus:ring-2 focus:ring-purple-200 outline-none",children:[(0,d.jsx)("option",{value:"",children:"-- S\xE9lectionner Mod\xE8le --"}),Object.values(l).filter(x=>{let y=u.inverterConfig.brand,E=y==="FoxESS"?"FOX":y==="Enphase"?"ENP":"APS",F=x.id.includes("ECS")||x.id.includes("EP")||x.id.includes("EQ")||x.id.includes("MIRA");if(x.id===Hi.id||F||!x.id.startsWith(E)||["FOX-H1-3.7-E-G2","FOX-KH7","FOX-KH9","FOX-T10-G3-TRI","FOX-T15-G3-TRI","FOX-T20-G3-TRI","FOX-H3-10.0-E","FOX-H3-12.0-E"].includes(x.id)||/\b(cable|cble|cap|relay|term|conn|bouchon|terminaison|relais|rallonge|envoy|ct-100|SMG666|DDSU|DTSU|bus|q-cable|AC-7\.0|AC-22\.0)\b/i.test(x.id)||/\b(cble|cable|bouchon|terminaison|relais|connecteur|passerelle|transformateur|compteur|embout|bus|borne|recharge)\b/i.test(x.description.toLowerCase()))return!1;if(y==="FoxESS"){let Y=x.id.includes("MICRO"),le=x.id.includes("P3")||x.id.includes("H3")||x.id.includes("TRI")||x.id.includes("FOX-T");return Y?!0:u.inverterConfig.phase==="Tri"?le:!le}return!0}).sort((x,y)=>x.description.localeCompare(y.description)).map(x=>(0,d.jsx)("option",{value:x.id,children:x.description},x.id))]})}),u.inverterConfig.brand!=="None"&&(0,d.jsxs)("div",{className:"mt-3 space-y-3",children:[(u.inverterConfig.brand==="FoxESS"&&!u.inverterConfig.model?.includes("MICRO")||m0)&&u.inverterConfig.model&&!ue&&(0,d.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm animate-scale-in",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-slate-100",children:[(0,d.jsx)("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Configuration des Cha\xEEnes DC"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:`px-2 py-0.5 rounded border text-[10px] font-black flex items-center gap-1 ${g0?"bg-green-100 text-green-700 border-green-200":"bg-orange-50 text-orange-600 border-orange-200"}`,children:[(0,d.jsxs)("span",{children:[b0," / ",p0," Pan."]}),g0?(0,d.jsx)("span",{children:"__CHECK__"}):(0,d.jsx)("span",{children:"__WARN__"})]}),(0,d.jsxs)("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-[10px] font-black border border-blue-100",children:[d0," MPPT"]})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:Array.from({length:d0}).map((x,y)=>{let E=y+1,F=(u.inverterConfig.configuredStrings||[]).filter(le=>(le.mpptIndex||1)===E),J=F.reduce((le,We)=>le+We.panelCount,0),G=(u.inverterConfig.dcCablingRuns||[]).find(le=>le.mpptIndex===E),Y=Math.max(1,Math.round(Number(G?.parallelStrings??1)||1));return(0,d.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-2",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,d.jsxs)("span",{className:"text-[10px] font-black text-purple-700 uppercase bg-purple-100 px-2 py-0.5 rounded",children:["MPPT ",E]}),(0,d.jsxs)("span",{className:"text-[9px] font-bold text-slate-500",children:[J," Panneaux Total",Y>1?` \xB7 x${Y} //`:""]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-2",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2 text-[9px] font-bold text-slate-600",children:[(0,d.jsx)("input",{type:"checkbox",checked:Y>1,onChange:le=>{let he=le.target.checked?2:1;M(qe=>{let st=(qe.inverterConfig.dcCablingRuns||[]).find(gt=>gt.mpptIndex===E),bt=[...qe.inverterConfig.dcCablingRuns||[]].filter(gt=>gt.mpptIndex!==E);return bt.push({mpptIndex:E,lengthM:st?.lengthM??0,sectionMm2:st?.sectionMm2??null,parallelStrings:he}),{...qe,inverterConfig:{...qe.inverterConfig,dcCablingRuns:bt}}})},className:"accent-purple-600"}),"Strings en //"]}),Y>1&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-[9px] font-bold text-slate-400",children:"Nb :"}),(0,d.jsxs)("select",{value:Y,onChange:le=>{let We=Math.max(2,Math.min(4,parseInt(le.target.value)||2));M(he=>{let qe=(he.inverterConfig.dcCablingRuns||[]).find(bt=>bt.mpptIndex===E),st=[...he.inverterConfig.dcCablingRuns||[]].filter(bt=>bt.mpptIndex!==E);return st.push({mpptIndex:E,lengthM:qe?.lengthM??0,sectionMm2:qe?.sectionMm2??null,parallelStrings:We}),{...he,inverterConfig:{...he.inverterConfig,dcCablingRuns:st}}})},className:"text-[10px] font-black bg-white border border-slate-200 rounded px-2 py-1",children:[(0,d.jsx)("option",{value:2,children:"2"}),(0,d.jsx)("option",{value:3,children:"3"}),(0,d.jsx)("option",{value:4,children:"4"})]})]})]}),(0,d.jsxs)("div",{className:"text-[9px] text-slate-500 mb-2",children:["\u2139\uFE0F En parall\xE8le : ",(0,d.jsx)("b",{children:"le courant s\u2019additionne"}),", la ",(0,d.jsx)("b",{children:"tension reste identique"}),"."]}),(0,d.jsx)("div",{className:"space-y-2 mb-2",children:F.map((le,We)=>(0,d.jsxs)("div",{className:"flex gap-2 items-center bg-white p-1.5 rounded border border-slate-100 shadow-sm",children:[(0,d.jsx)("select",{value:le.fieldId,onChange:he=>f0(le.id,{fieldId:he.target.value}),className:"flex-1 text-[10px] font-bold bg-slate-50 border border-slate-200 rounded p-1",children:u.fields.map(he=>(0,d.jsxs)("option",{value:he.id,children:[he.name," (",Ft(he.panels)," Pan.)"]},he.id))}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)("span",{className:"text-[8px] font-bold text-slate-400",children:"QTE:"}),(0,d.jsx)("input",{type:"number",value:le.panelCount,min:"1",onChange:he=>f0(le.id,{panelCount:parseInt(he.target.value)||0}),className:"w-10 text-[10px] font-bold text-center bg-slate-50 border border-slate-200 rounded p-1"})]}),(0,d.jsx)("button",{onClick:()=>C1(le.id),className:"text-red-300 hover:text-red-500 p-1",children:(0,d.jsx)(Qr,{className:"w-3 h-3"})})]},le.id))}),(0,d.jsx)("button",{onClick:()=>v1(E),className:"w-full py-1 text-[9px] font-bold text-purple-600 border border-dashed border-purple-200 hover:bg-purple-50 rounded transition-colors",children:"+ Ajouter une source"})]},E)})})]}),ue&&u.inverterConfig.model&&(0,d.jsx)(a0,{project:u,microPowerVA:Dn?.maxAcPower||0,onUpdate:x=>ia({microBranches:x})}),!ue&&u.inverterConfig.configuredStrings&&u.inverterConfig.configuredStrings.length>0&&(0,d.jsxs)("div",{className:"bg-slate-50 p-2 rounded-lg border border-slate-200",children:[(0,d.jsx)("div",{className:"flex items-center gap-1 mb-2",children:(0,d.jsx)(to,{content:(0,d.jsxs)("div",{className:"text-left leading-snug",children:[(0,d.jsx)("b",{children:"C\xE2blage DC (m)"}),(0,d.jsxs)("div",{className:"mt-1",children:["Distance (aller) entre le ",(0,d.jsx)("b",{children:"g\xE9n\xE9rateur PV"})," (cha\xEEne / MPPT) et le ",(0,d.jsx)("b",{children:"coffret DC / onduleur"}),". Utilis\xE9e pour estimer la ",(0,d.jsx)("b",{children:"chute de tension DC"})," par MPPT."]})]}),position:"top",children:(0,d.jsxs)("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["C\xE2blage DC (m)",(0,d.jsx)("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})})}),(0,d.jsx)("div",{className:"space-y-2",children:Array.from(new Set(u.inverterConfig.configuredStrings.map(x=>x.mpptIndex))).sort((x,y)=>x-y).map(x=>{let y=(x1.rows||[]).find(G=>Number(G.mpptIndex)===Number(x))||{mpptIndex:x,L:0,V:0,I:0,autoS:2.5,autoDup:0,forcedS:null,effectiveS:2.5,dup:0,status:"ok"},E=Number(y.dup||0),F=E>3?"text-red-700":E>1?"text-amber-700":"text-slate-700",J=y.forcedS!=null;return(0,d.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,d.jsxs)("div",{className:"text-[10px] font-black text-slate-600 whitespace-nowrap",children:["MPPT ",x]}),(0,d.jsxs)("div",{className:"text-[10px] font-black text-slate-500",children:["\u0394U \u2248"," ",(0,d.jsxs)("span",{className:F,children:[E.toFixed(2),"%"]}),J&&(0,d.jsx)("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc\xE9)"})]})]}),(0,d.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,d.jsxs)("label",{className:"text-[9px] font-bold text-slate-400",children:["Longueur (m)",(0,d.jsx)("input",{type:"number",min:0,value:y.L,onChange:G=>{let Y=Math.max(0,parseFloat(G.target.value)||0);M(le=>{let We=[...le.inverterConfig.dcCablingRuns||[]].filter(qe=>qe.mpptIndex!==x),he=(le.inverterConfig.dcCablingRuns||[]).find(qe=>qe.mpptIndex===x);return We.push({mpptIndex:x,lengthM:Y,sectionMm2:he?.sectionMm2??null,parallelStrings:he?.parallelStrings??1}),{...le,inverterConfig:{...le.inverterConfig,dcCablingRuns:We}}})},className:"mt-1 w-full p-1 rounded border border-slate-200 text-[11px] font-black text-purple-700"})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"text-[9px] font-bold text-slate-400",children:["Section (mm\xB2)",(0,d.jsx)("select",{value:y.effectiveS,onChange:G=>{let Y=parseFloat(G.target.value);M(le=>{let We=[...le.inverterConfig.dcCablingRuns||[]].filter(qe=>qe.mpptIndex!==x),he=(le.inverterConfig.dcCablingRuns||[]).find(qe=>qe.mpptIndex===x);return We.push({mpptIndex:x,lengthM:he?.lengthM||0,sectionMm2:Number.isFinite(Y)?Y:null,parallelStrings:he?.parallelStrings??1}),{...le,inverterConfig:{...le.inverterConfig,dcCablingRuns:We}}})},className:"mt-1 w-full p-1 rounded border border-slate-200 text-[11px] font-black text-slate-700",children:u0.map(G=>(0,d.jsx)("option",{value:G,children:G},G))})]}),(0,d.jsx)("button",{type:"button",className:"mt-2 w-full px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommand\xE9e)",onClick:()=>{M(G=>{let Y=[...G.inverterConfig.dcCablingRuns||[]].filter(We=>We.mpptIndex!==x),le=(G.inverterConfig.dcCablingRuns||[]).find(We=>We.mpptIndex===x);return Y.push({mpptIndex:x,lengthM:le?.lengthM||0,sectionMm2:null,parallelStrings:le?.parallelStrings??1}),{...G,inverterConfig:{...G.inverterConfig,dcCablingRuns:Y}}})},children:"Auto"})]})]}),J&&Number(y.effectiveS)!==Number(y.autoS)&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:["\u26A0\uFE0F Section forc\xE9e (estimation devis). Auto recommand\xE9 : ",y.autoS,"mm\xB2 (\u0394U ",Number(y.autoDup||0).toFixed(2),"%)."]}),E>3&&(0,d.jsx)("div",{className:"mt-2 text-[10px] font-black text-red-700",children:"\u26A0 \u0394U > 3% : dangereux \u2192 export bloqu\xE9"}),E>1&&E<=3&&(0,d.jsxs)("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:["\u26A0 \u0394U entre 1% et 3% : tol\xE9r\xE9 mais \xE0 surveiller (",E<=1.5?"l\xE9ger":E<=2.5?"mod\xE9r\xE9":"\xE9lev\xE9","). Viser \u2264 1%."]}),(0,d.jsx)("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Panneaux \u2192 coffret DC / onduleur"})]},x)})})]}),(0,d.jsxs)("details",{className:"bg-slate-50 p-2 rounded-lg border border-slate-200",open:!0,children:[(0,d.jsxs)("summary",{className:"cursor-pointer select-none text-[9px] font-black text-slate-500 uppercase tracking-widest flex items-center justify-between",children:["C\xE2blage AC",(0,d.jsx)("span",{className:"text-[10px] font-black text-slate-400",children:"(d\xE9plier)"})]}),$&&(0,d.jsxs)("div",{className:"mt-3 p-2 rounded-lg bg-white border border-slate-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(to,{content:(0,d.jsxs)("div",{className:"text-left leading-snug",children:[(0,d.jsx)("b",{children:"Tron\xE7on AC1 (m)"}),(0,d.jsxs)("div",{className:"mt-1",children:["Distance entre la ",(0,d.jsx)("b",{children:"sortie AC de l'onduleur"})," et le ",(0,d.jsx)("b",{children:"coffret AC photovolta\xEFque"}),".",(0,d.jsxs)("div",{className:"mt-1 text-[9px]",children:["Le disjoncteur associ\xE9 est celui ",(0,d.jsx)("b",{children:"int\xE9gr\xE9 au coffret AC"})," (calibrage par puissance max onduleur)."]})]})]}),position:"top",children:(0,d.jsxs)("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["Section AC \u2013 Tron\xE7on 1 (Onduleur \u2192 Coffret)",(0,d.jsx)("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})}),(0,d.jsxs)("div",{className:"text-[10px] font-black text-slate-600",children:["Disj. coffret \u2248 ",Qe,"A"]})]}),(0,d.jsx)("input",{type:"number",value:u.distanceInverterToAcCoffret,onChange:x=>M(y=>({...y,distanceInverterToAcCoffret:parseFloat(x.target.value)||0})),className:"w-full p-1 border-none bg-transparent text-sm font-black text-purple-700 outline-none",min:"1"}),(0,d.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"text-[10px] font-extrabold text-slate-500",children:"Section"}),(0,d.jsx)("select",{className:"flex-1 p-1 rounded-lg border border-slate-200 bg-white text-[11px] font-black text-slate-700",value:u.ac1CableSectionMm2??La,onChange:x=>{let y=parseFloat(x.target.value);M(E=>({...E,ac1CableSectionMm2:Number.isFinite(y)?y:null}))},children:[2.5,6,10,16,25].map(x=>(0,d.jsxs)("option",{value:x,children:[x," mm\xB2"]},x))}),(0,d.jsx)("button",{type:"button",className:"px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommand\xE9e)",onClick:()=>M(x=>({...x,ac1CableSectionMm2:null})),children:"Auto"})]}),(0,d.jsxs)("div",{className:"text-[10px] text-slate-500 font-bold mt-1",children:["\u0394U (tron\xE7on AC1) \u2248"," ",(0,d.jsxs)("span",{className:`${ln>3?"text-red-700":ln>1?"text-amber-700":"text-slate-700"}`,children:[ln.toFixed(2),"%"]}),u.ac1CableSectionMm2&&(0,d.jsx)("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc\xE9)"})]}),o0==="info"&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:["\u{1F7E0} Information \u2014 conditions de pose : la section ",xa,"mm\xB2 est conforme en conditions usuelles avec ",Qe,"A.",(0,d.jsx)("span",{className:"font-bold",children:" V\xE9rifier"})," en cas de pose d\xE9favorable (encastr\xE9e, temp\xE9rature \xE9lev\xE9e, regroupement)."]}),o0==="danger"&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-red-700",children:["\u26A0 Non conforme : protection ",Qe,"A trop \xE9lev\xE9e pour ",xa,"mm\xB2 (augmenter la section ou revoir la protection)."]}),u.ac1CableSectionMm2&&xa!==La&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:["\u26A0\uFE0F Section forc\xE9e (estimation devis). Auto recommand\xE9 : ",La,"mm\xB2 (\u0394U ",b1.toFixed(2),"%)."]}),ln>3&&(0,d.jsx)("div",{className:"mt-2 text-[10px] font-black text-red-700",children:"\u26A0 \u0394U > 3% : dangereux \u2192 export bloqu\xE9"}),ln>1&&ln<=3&&(0,d.jsxs)("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:["\u26A0 \u0394U entre 1% et 3% : tol\xE9r\xE9 mais \xE0 surveiller (",ln<=1.5?"l\xE9ger":ln<=2.5?"mod\xE9r\xE9":"\xE9lev\xE9","). Viser \u2264 1%."]}),(0,d.jsx)("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Onduleur \u2192 coffret AC (disjoncteur du coffret)"})]}),(0,d.jsxs)("div",{className:"mt-3 p-2 rounded-lg bg-white border border-slate-200",children:[(0,d.jsx)("div",{className:"flex items-center gap-1 mb-1",children:(0,d.jsx)(to,{content:(0,d.jsxs)("div",{className:"text-left leading-snug",children:[(0,d.jsx)("b",{children:"Tron\xE7on AC2 (m)"}),(0,d.jsxs)("div",{className:"mt-1",children:["Distance entre le ",(0,d.jsx)("b",{children:"coffret AC photovolta\xEFque"})," et le ",(0,d.jsx)("b",{children:"point de raccordement"}),"(tableau principal / disjoncteur de branchement). Utilis\xE9e pour la chute de tension AC."]})]}),position:"top",children:(0,d.jsxs)("span",{className:"block text-[9px] font-black text-slate-500 uppercase tracking-widest",children:["Section AC \u2013 Tron\xE7on 2 (Coffret \u2192 Tableau)",(0,d.jsx)("span",{className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-white border border-slate-200 text-slate-400 text-[10px] leading-none",children:"?"})]})})}),(0,d.jsx)("input",{type:"number",value:u.distanceToPanel,onChange:x=>M(y=>({...y,distanceToPanel:parseFloat(x.target.value)||0})),className:"w-full p-1 border-none bg-transparent text-sm font-black text-purple-700 outline-none",min:"1"}),(0,d.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,d.jsx)("div",{className:"text-[10px] font-extrabold text-slate-500",children:"Section"}),(0,d.jsx)("select",{className:"flex-1 p-1 rounded-lg border border-slate-200 bg-white text-[11px] font-black text-slate-700",value:u.acCableSectionMm2??Hl,onChange:x=>{let y=parseFloat(x.target.value);M(E=>({...E,acCableSectionMm2:Number.isFinite(y)?y:null}))},children:[2.5,6,10,16,25].map(x=>(0,d.jsxs)("option",{value:x,children:[x," mm\xB2"]},x))}),(0,d.jsx)("button",{type:"button",className:"px-2 py-1 rounded-lg text-[10px] font-black border border-slate-200 text-slate-500 bg-white hover:bg-slate-50",title:"Revenir en mode automatique (section recommand\xE9e)",onClick:()=>M(x=>({...x,acCableSectionMm2:null})),children:"Auto"})]}),(0,d.jsxs)("div",{className:"text-[10px] text-slate-500 font-bold mt-1",children:["\u0394U (liaison tableau) \u2248"," ",(0,d.jsxs)("span",{className:`${Ya>3?"text-red-700":Ya>1?"text-amber-700":"text-slate-700"}`,children:[Ya.toFixed(2),"%"]}),u.acCableSectionMm2&&(0,d.jsx)("span",{className:"ml-2 text-[9px] font-black text-indigo-600",children:"(forc\xE9)"})]}),g1&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-red-700",children:["\u274C Non conforme : la section AC2 (",Ga," mm\xB2) doit \xEAtre \u2265 AC1 (",xa," mm\xB2) en onduleur centralis\xE9."]}),ic==="info"&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:["\u{1F7E0} Information \u2014 conditions de pose : la section ",Ga,"mm\xB2 est conforme en conditions usuelles avec ",Zt,"A.",(0,d.jsx)("span",{className:"font-bold",children:" V\xE9rifier"})," en cas de pose d\xE9favorable (encastr\xE9e, temp\xE9rature \xE9lev\xE9e, regroupement)."]}),ic==="danger"&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-red-700",children:["\u26A0 Non conforme : protection ",Zt,"A trop \xE9lev\xE9e pour ",Ga,"mm\xB2 (augmenter la section ou revoir la protection)."]}),u.acCableSectionMm2&&Ga!==Hl&&(0,d.jsxs)("div",{className:"mt-1 text-[10px] font-black text-amber-700",children:["\u26A0\uFE0F Section forc\xE9e (estimation devis). Auto recommand\xE9 : ",Hl,"mm\xB2 (\u0394U ",h1.toFixed(2),"%)."]}),Ya>3&&(0,d.jsx)("div",{className:"mt-2 text-[10px] font-black text-red-700",children:"\u26A0 \u0394U > 3% : dangereux \u2192 export bloqu\xE9"}),Ya>1&&Ya<=3&&(0,d.jsxs)("div",{className:"mt-2 text-[10px] font-black text-amber-700",children:["\u26A0 \u0394U entre 1% et 3% : tol\xE9r\xE9 mais \xE0 surveiller (",Ya<=1.5?"l\xE9ger":Ya<=2.5?"mod\xE9r\xE9":"\xE9lev\xE9","). Viser \u2264 1%."]}),(0,d.jsx)("div",{className:"text-[8px] text-slate-400 font-bold italic mt-1",children:"Coffret AC \u2192 point de raccordement"})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md border-t-4 border-green-500 animate-scale-in",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,d.jsx)("h3",{className:"font-black text-slate-700 uppercase tracking-wider text-xs",children:"Borne de Recharge"}),(0,d.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:u.evCharger.selected,onChange:x=>M(y=>({...y,evCharger:{...y.evCharger,selected:x.target.checked}})),className:"sr-only peer"}),(0,d.jsx)("div",{className:"w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-600"})]})]}),u.evCharger.selected&&(0,d.jsxs)("div",{className:"space-y-3 animate-scale-in",children:[(0,d.jsx)("div",{className:"text-[11px] font-black text-red-700 bg-red-50 border border-red-200 rounded-lg p-2",children:"\u26A0\uFE0F Borne VE s\xE9lectionn\xE9e : pr\xE9voir un circuit d\xE9di\xE9 (NF C 15-100) et v\xE9rifier la puissance souscrite / protections (DDR adapt\xE9 selon borne)."}),(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("button",{onClick:()=>M(x=>({...x,evCharger:{...x.evCharger,phase:"Mono",cableRef:x.evCharger.cableRef?"15254":void 0}})),disabled:u.inverterConfig.phase==="Tri",className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.inverterConfig.phase==="Tri"?"opacity-50 cursor-not-allowed bg-slate-100 border-slate-200 text-slate-300":u.evCharger.phase==="Mono"?"bg-green-100 border-green-500 text-green-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"7 kW (Mono)"}),(0,d.jsx)("button",{onClick:()=>{u.inverterConfig.phase==="Tri"&&M(x=>({...x,evCharger:{...x.evCharger,phase:"Tri",cableRef:x.evCharger.cableRef?"15264":void 0}}))},disabled:u.inverterConfig.phase==="Mono",className:`flex-1 py-1.5 text-[10px] font-black uppercase rounded-lg border transition-all ${u.inverterConfig.phase==="Mono"?"opacity-50 cursor-not-allowed bg-slate-100 border-slate-200 text-slate-300":u.evCharger.phase==="Tri"?"bg-green-100 border-green-500 text-green-700 shadow-sm":"bg-white text-slate-400 border-slate-200"}`,children:"22 kW (Tri)"})]}),(0,d.jsxs)("div",{className:"pt-2 border-t border-slate-100",children:[(0,d.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer group",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!u.evCharger.cableRef,onChange:x=>{let y=u.evCharger.phase==="Tri"?"15264":"15254",E=x.target.checked?y:void 0;M(F=>({...F,evCharger:{...F.evCharger,cableRef:E}}))},className:"w-4 h-4 rounded border-slate-300 text-green-600"}),(0,d.jsx)("span",{className:"text-xs font-bold text-slate-600 group-hover:text-green-700 transition-colors",children:"Ajouter le c\xE2ble de charge"})]}),!!u.evCharger.cableRef&&(0,d.jsx)("div",{className:"mt-2 bg-slate-50 border border-slate-200 rounded-lg p-2 animate-scale-in",children:u.evCharger.phase==="Tri"?(0,d.jsx)("div",{className:"text-[10px] font-bold text-green-700 text-center uppercase tracking-tighter",children:"C\xE2ble T2 22kW (Inclus par d\xE9faut en Tri)"}):(0,d.jsxs)("div",{className:"flex gap-1",children:[(0,d.jsx)("button",{onClick:()=>M(x=>({...x,evCharger:{...x.evCharger,cableRef:"15254"}})),className:`flex-1 py-1 px-1 text-[8px] font-black uppercase rounded border transition-all ${u.evCharger.cableRef==="15254"?"bg-green-100 border-green-400 text-green-800":"bg-white text-slate-400 border-slate-200"}`,children:"C\xE2ble Mono 7kW"}),(0,d.jsx)("button",{onClick:()=>M(x=>({...x,evCharger:{...x.evCharger,cableRef:"15264"}})),className:`flex-1 py-1 px-1 text-[8px] font-black uppercase rounded border transition-all ${u.evCharger.cableRef==="15264"?"bg-green-100 border-green-400 text-green-800":"bg-white text-slate-400 border-slate-200"}`,children:"C\xE2ble polyvalent (Mono jusqu'\xE0 7kW et Triphas\xE9 jusqu'\xE0 22kW)"})]})})]})]})]})]}),(0,d.jsxs)("div",{className:"lg:col-span-9 space-y-6",children:[(0,d.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-md",children:(0,d.jsx)(Zr,{roof:pt.roof,panels:pt.panels,roofName:pt.name})}),(0,d.jsx)(i1,{project:u,report:so,totalPowerW:Pe,voltageDrop:Ya,acSection:Ga,microBranchesReport:c0,acProtectionTooHigh:r0,recommendedBreaker:xt}),(0,d.jsx)(jg,{materials:me,project:u,onUpdate:y1,report:so,voltageDrop:Ya,acSection:Ga,microBranchesReport:c0,showAc1:$,ac1VoltageDrop:ln,ac1Section:xa,ac1BreakerA:Qe,isCableProtectionOk:!r0})]})]})]}),H&&(0,d.jsx)(e1,{onClose:()=>te(!1)}),je&&(0,d.jsx)(a1,{initialPanel:pt.panels.model,onSave:x=>{M(y=>{let E=[...y.fields];return E[K].panels.model=x,{...y,fields:E}}),xe(!1)},onClose:()=>xe(!1)}),z&&(0,d.jsx)(l1,{initialInverter:io||{...Hi,description:"Nouvel Onduleur"},initialPhase:u.inverterConfig.phase||"Mono",onSave:(x,y)=>{let E={...l};x.id==="OND-PERSO"&&(E["OND-PERSO"]=x),i(E),ia({brand:"Custom",model:x.id,phase:y}),se(!1)},onClose:()=>se(!1)})]})}var r1=ov;var c1=ae(Ot(),1),Ba=ae(De(),1),no=class extends c1.default.Component{constructor(){super(...arguments);this.state={hasError:!1};this.reset=()=>{this.setState({hasError:!1,message:void 0,stack:void 0})}}static getDerivedStateFromError(a){let n=a;return{hasError:!0,message:n?.message?String(n.message):String(a),stack:n?.stack?String(n.stack):void 0}}componentDidCatch(a){console.error("PVApp runtime error:",a)}render(){return this.state.hasError?(0,Ba.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-6",children:(0,Ba.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-red-200 overflow-hidden",children:[(0,Ba.jsxs)("div",{className:"p-4 bg-red-50 border-b border-red-200",children:[(0,Ba.jsx)("div",{className:"text-red-800 font-black uppercase tracking-tight",children:"Erreur d\u2019ex\xE9cution (\xE9cran blanc \xE9vit\xE9)"}),(0,Ba.jsx)("div",{className:"text-red-700 text-sm mt-1",children:"Copie le message ci\u2011dessous et envoie\u2011le moi si besoin."})]}),(0,Ba.jsxs)("div",{className:"p-4",children:[(0,Ba.jsxs)("div",{className:"text-xs font-mono bg-slate-900 text-slate-50 rounded-xl p-3 overflow-auto whitespace-pre-wrap",children:[this.state.message||"Erreur inconnue",this.state.stack?`

${this.state.stack}`:""]}),(0,Ba.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,Ba.jsx)("button",{onClick:this.reset,className:"px-4 py-2 rounded-lg bg-slate-900 text-white font-bold",children:"R\xE9essayer"}),(0,Ba.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-slate-100 text-slate-900 font-bold border",children:"Recharger"})]})]})]})}):this.props.children}};var s0="richardson_build_id";async function rv(){try{if("caches"in window){let e=await caches.keys();await Promise.all(e.map(t=>caches.delete(t)))}}catch{}}async function u1(){try{let e=await fetch("/version.json",{cache:"no-store"});if(!e.ok)return!1;let a=(await e.json()).buildId||"";if(!a)return!1;let n=localStorage.getItem(s0);if(!n)return localStorage.setItem(s0,a),!1;if(n!==a)return localStorage.setItem(s0,a),await rv(),window.location.reload(),!0}catch{}return!1}function d1(e){let t=e?.intervalMs??6e4;return u1(),window.setInterval(()=>{u1()},t)}var tc=ae(De(),1);d1({intervalMs:6e4});var p1=document.getElementById("root");if(!p1)throw new Error("Element root non trouv\xE9");var cv=(0,m1.createRoot)(p1);cv.render((0,tc.jsx)(f1.default.StrictMode,{children:(0,tc.jsx)(no,{children:(0,tc.jsx)(r1,{})})}));
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
